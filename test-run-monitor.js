"use strict";var Db=Object.create;var zn=Object.defineProperty;var Lb=Object.getOwnPropertyDescriptor;var qb=Object.getOwnPropertyNames;var zb=Object.getPrototypeOf,Mb=Object.prototype.hasOwnProperty;var zf=e=>{throw TypeError(e)};var a=(e,t)=>zn(e,"name",{value:t,configurable:!0});var Mn=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Mf=(e,t)=>{for(var r in t)zn(e,r,{get:t[r],enumerable:!0})},Uf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qb(t))!Mb.call(e,o)&&o!==r&&zn(e,o,{get:()=>t[o],enumerable:!(n=Lb(t,o))||n.enumerable});return e};var Oe=(e,t,r)=>(r=e!=null?Db(zb(e)):{},Uf(t||!e||!e.__esModule?zn(r,"default",{value:e,enumerable:!0}):r,e)),Ub=e=>Uf(zn({},"__esModule",{value:!0}),e);var Wf=(e,t,r)=>t.has(e)||zf("Cannot "+r);var te=(e,t,r)=>(Wf(e,t,"read from private field"),r?r.call(e):t.get(e)),$e=(e,t,r)=>t.has(e)?zf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Se=(e,t,r,n)=>(Wf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Hf=P((oa,jf)=>{(function(e,t){typeof oa=="object"&&typeof jf<"u"?t(oa):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.WebStreamsPolyfill={}))})(oa,function(e){"use strict";function t(){}a(t,"noop");function r(i){return typeof i=="object"&&i!==null||typeof i=="function"}a(r,"typeIsObject");let n=t;function o(i,s){try{Object.defineProperty(i,"name",{value:s,configurable:!0})}catch{}}a(o,"setFunctionName");let l=Promise,f=Promise.prototype.then,d=Promise.reject.bind(l);function m(i){return new l(i)}a(m,"newPromise");function c(i){return m(s=>s(i))}a(c,"promiseResolvedWith");function h(i){return d(i)}a(h,"promiseRejectedWith");function x(i,s,u){return f.call(i,s,u)}a(x,"PerformPromiseThen");function y(i,s,u){x(x(i,s,u),void 0,n)}a(y,"uponPromise");function w(i,s){y(i,s)}a(w,"uponFulfillment");function v(i,s){y(i,void 0,s)}a(v,"uponRejection");function A(i,s,u){return x(i,s,u)}a(A,"transformPromiseWith");function E(i){x(i,void 0,n)}a(E,"setPromiseIsHandledToTrue");let S=a(i=>{if(typeof queueMicrotask=="function")S=queueMicrotask;else{let s=c(void 0);S=a(u=>x(s,u),"_queueMicrotask")}return S(i)},"_queueMicrotask");function k(i,s,u){if(typeof i!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(i,s,u)}a(k,"reflectCall");function C(i,s,u){try{return c(k(i,s,u))}catch(p){return h(p)}}a(C,"promiseCall");let R=16384,Qo=class Qo{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(s){let u=this._back,p=u;u._elements.length===R-1&&(p={_elements:[],_next:void 0}),u._elements.push(s),p!==u&&(this._back=p,u._next=p),++this._size}shift(){let s=this._front,u=s,p=this._cursor,g=p+1,b=s._elements,_=b[p];return g===R&&(u=s._next,g=0),--this._size,this._cursor=g,s!==u&&(this._front=u),b[p]=void 0,_}forEach(s){let u=this._cursor,p=this._front,g=p._elements;for(;(u!==g.length||p._next!==void 0)&&!(u===g.length&&(p=p._next,g=p._elements,u=0,g.length===0));)s(g[u]),++u}peek(){let s=this._front,u=this._cursor;return s._elements[u]}};a(Qo,"SimpleQueue");let T=Qo,O=Symbol("[[AbortSteps]]"),q=Symbol("[[ErrorSteps]]"),D=Symbol("[[CancelSteps]]"),U=Symbol("[[PullSteps]]"),$=Symbol("[[ReleaseSteps]]");function F(i,s){i._ownerReadableStream=s,s._reader=i,s._state==="readable"?Ir(i):s._state==="closed"?Or(i):En(i,s._storedError)}a(F,"ReadableStreamReaderGenericInitialize");function le(i,s){let u=i._ownerReadableStream;return He(u,s)}a(le,"ReadableStreamReaderGenericCancel");function ce(i){let s=i._ownerReadableStream;s._state==="readable"?Bt(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):$m(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),s._readableStreamController[$](),s._reader=void 0,i._ownerReadableStream=void 0}a(ce,"ReadableStreamReaderGenericRelease");function pt(i){return new TypeError("Cannot "+i+" a stream using a released reader")}a(pt,"readerLockException");function Ir(i){i._closedPromise=m((s,u)=>{i._closedPromise_resolve=s,i._closedPromise_reject=u})}a(Ir,"defaultReaderClosedPromiseInitialize");function En(i,s){Ir(i),Bt(i,s)}a(En,"defaultReaderClosedPromiseInitializeAsRejected");function Or(i){Ir(i),Tu(i)}a(Or,"defaultReaderClosedPromiseInitializeAsResolved");function Bt(i,s){i._closedPromise_reject!==void 0&&(E(i._closedPromise),i._closedPromise_reject(s),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}a(Bt,"defaultReaderClosedPromiseReject");function $m(i,s){En(i,s)}a($m,"defaultReaderClosedPromiseResetToRejected");function Tu(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}a(Tu,"defaultReaderClosedPromiseResolve");let xu=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},Vm=Math.trunc||function(i){return i<0?Math.ceil(i):Math.floor(i)};function Ym(i){return typeof i=="object"||typeof i=="function"}a(Ym,"isDictionary");function Je(i,s){if(i!==void 0&&!Ym(i))throw new TypeError(`${s} is not an object.`)}a(Je,"assertDictionary");function Ce(i,s){if(typeof i!="function")throw new TypeError(`${s} is not a function.`)}a(Ce,"assertFunction");function Gm(i){return typeof i=="object"&&i!==null||typeof i=="function"}a(Gm,"isObject");function ku(i,s){if(!Gm(i))throw new TypeError(`${s} is not an object.`)}a(ku,"assertObject");function mt(i,s,u){if(i===void 0)throw new TypeError(`Parameter ${s} is required in '${u}'.`)}a(mt,"assertRequiredArgument");function yo(i,s,u){if(i===void 0)throw new TypeError(`${s} is required in '${u}'.`)}a(yo,"assertRequiredField");function _o(i){return Number(i)}a(_o,"convertUnrestrictedDouble");function Eu(i){return i===0?0:i}a(Eu,"censorNegativeZero");function Km(i){return Eu(Vm(i))}a(Km,"integerPart");function vo(i,s){let p=Number.MAX_SAFE_INTEGER,g=Number(i);if(g=Eu(g),!xu(g))throw new TypeError(`${s} is not a finite number`);if(g=Km(g),g<0||g>p)throw new TypeError(`${s} is outside the accepted range of 0 to ${p}, inclusive`);return!xu(g)||g===0?0:g}a(vo,"convertUnsignedLongLongWithEnforceRange");function wo(i,s){if(!Mt(i))throw new TypeError(`${s} is not a ReadableStream.`)}a(wo,"assertReadableStream");function Fr(i){return new et(i)}a(Fr,"AcquireReadableStreamDefaultReader");function Au(i,s){i._reader._readRequests.push(s)}a(Au,"ReadableStreamAddReadRequest");function So(i,s,u){let g=i._reader._readRequests.shift();u?g._closeSteps():g._chunkSteps(s)}a(So,"ReadableStreamFulfillReadRequest");function Fi(i){return i._reader._readRequests.length}a(Fi,"ReadableStreamGetNumReadRequests");function Cu(i){let s=i._reader;return!(s===void 0||!Dt(s))}a(Cu,"ReadableStreamHasDefaultReader");let Jo=class Jo{constructor(s){if(mt(s,1,"ReadableStreamDefaultReader"),wo(s,"First parameter"),Ut(s))throw new TypeError("This stream has already been locked for exclusive reading by another reader");F(this,s),this._readRequests=new T}get closed(){return Dt(this)?this._closedPromise:h(Bi("closed"))}cancel(s=void 0){return Dt(this)?this._ownerReadableStream===void 0?h(pt("cancel")):le(this,s):h(Bi("cancel"))}read(){if(!Dt(this))return h(Bi("read"));if(this._ownerReadableStream===void 0)return h(pt("read from"));let s,u,p=m((b,_)=>{s=b,u=_});return An(this,{_chunkSteps:a(b=>s({value:b,done:!1}),"_chunkSteps"),_closeSteps:a(()=>s({value:void 0,done:!0}),"_closeSteps"),_errorSteps:a(b=>u(b),"_errorSteps")}),p}releaseLock(){if(!Dt(this))throw Bi("releaseLock");this._ownerReadableStream!==void 0&&Xm(this)}};a(Jo,"ReadableStreamDefaultReader");let et=Jo;Object.defineProperties(et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(et.prototype.cancel,"cancel"),o(et.prototype.read,"read"),o(et.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(et.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Dt(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_readRequests")?!1:i instanceof et}a(Dt,"IsReadableStreamDefaultReader");function An(i,s){let u=i._ownerReadableStream;u._disturbed=!0,u._state==="closed"?s._closeSteps():u._state==="errored"?s._errorSteps(u._storedError):u._readableStreamController[U](s)}a(An,"ReadableStreamDefaultReaderRead");function Xm(i){ce(i);let s=new TypeError("Reader was released");Pu(i,s)}a(Xm,"ReadableStreamDefaultReaderRelease");function Pu(i,s){let u=i._readRequests;i._readRequests=new T,u.forEach(p=>{p._errorSteps(s)})}a(Pu,"ReadableStreamDefaultReaderErrorReadRequests");function Bi(i){return new TypeError(`ReadableStreamDefaultReader.prototype.${i} can only be used on a ReadableStreamDefaultReader`)}a(Bi,"defaultReaderBrandCheckException");let Qm=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),es=class es{constructor(s,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=s,this._preventCancel=u}next(){let s=a(()=>this._nextSteps(),"nextSteps");return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,s,s):s(),this._ongoingPromise}return(s){let u=a(()=>this._returnSteps(s),"returnSteps");return this._ongoingPromise?A(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let s=this._reader,u,p,g=m((_,I)=>{u=_,p=I});return An(s,{_chunkSteps:a(_=>{this._ongoingPromise=void 0,S(()=>u({value:_,done:!1}))},"_chunkSteps"),_closeSteps:a(()=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(s),u({value:void 0,done:!0})},"_closeSteps"),_errorSteps:a(_=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(s),p(_)},"_errorSteps")}),g}_returnSteps(s){if(this._isFinished)return Promise.resolve({value:s,done:!0});this._isFinished=!0;let u=this._reader;if(!this._preventCancel){let p=le(u,s);return ce(u),A(p,()=>({value:s,done:!0}))}return ce(u),c({value:s,done:!0})}};a(es,"ReadableStreamAsyncIteratorImpl");let Di=es,Iu={next(){return Ou(this)?this._asyncIteratorImpl.next():h(Fu("next"))},return(i){return Ou(this)?this._asyncIteratorImpl.return(i):h(Fu("return"))}};Object.setPrototypeOf(Iu,Qm);function Jm(i,s){let u=Fr(i),p=new Di(u,s),g=Object.create(Iu);return g._asyncIteratorImpl=p,g}a(Jm,"AcquireReadableStreamAsyncIterator");function Ou(i){if(!r(i)||!Object.prototype.hasOwnProperty.call(i,"_asyncIteratorImpl"))return!1;try{return i._asyncIteratorImpl instanceof Di}catch{return!1}}a(Ou,"IsReadableStreamAsyncIterator");function Fu(i){return new TypeError(`ReadableStreamAsyncIterator.${i} can only be used on a ReadableSteamAsyncIterator`)}a(Fu,"streamAsyncIteratorBrandCheckException");let Bu=Number.isNaN||function(i){return i!==i};var Ro,To,xo;function Cn(i){return i.slice()}a(Cn,"CreateArrayFromList");function Du(i,s,u,p,g){new Uint8Array(i).set(new Uint8Array(u,p,g),s)}a(Du,"CopyDataBlockBytes");let gt=a(i=>(typeof i.transfer=="function"?gt=a(s=>s.transfer(),"TransferArrayBuffer"):typeof structuredClone=="function"?gt=a(s=>structuredClone(s,{transfer:[s]}),"TransferArrayBuffer"):gt=a(s=>s,"TransferArrayBuffer"),gt(i)),"TransferArrayBuffer"),Lt=a(i=>(typeof i.detached=="boolean"?Lt=a(s=>s.detached,"IsDetachedBuffer"):Lt=a(s=>s.byteLength===0,"IsDetachedBuffer"),Lt(i)),"IsDetachedBuffer");function Lu(i,s,u){if(i.slice)return i.slice(s,u);let p=u-s,g=new ArrayBuffer(p);return Du(g,0,i,s,p),g}a(Lu,"ArrayBufferSlice");function Li(i,s){let u=i[s];if(u!=null){if(typeof u!="function")throw new TypeError(`${String(s)} is not a function`);return u}}a(Li,"GetMethod");function eg(i){let s={[Symbol.iterator]:()=>i.iterator},u=async function*(){return yield*s}(),p=u.next;return{iterator:u,nextMethod:p,done:!1}}a(eg,"CreateAsyncFromSyncIterator");let ko=(xo=(Ro=Symbol.asyncIterator)!==null&&Ro!==void 0?Ro:(To=Symbol.for)===null||To===void 0?void 0:To.call(Symbol,"Symbol.asyncIterator"))!==null&&xo!==void 0?xo:"@@asyncIterator";function qu(i,s="sync",u){if(u===void 0)if(s==="async"){if(u=Li(i,ko),u===void 0){let b=Li(i,Symbol.iterator),_=qu(i,"sync",b);return eg(_)}}else u=Li(i,Symbol.iterator);if(u===void 0)throw new TypeError("The object is not iterable");let p=k(u,i,[]);if(!r(p))throw new TypeError("The iterator method must return an object");let g=p.next;return{iterator:p,nextMethod:g,done:!1}}a(qu,"GetIterator");function tg(i){let s=k(i.nextMethod,i.iterator,[]);if(!r(s))throw new TypeError("The iterator.next() method must return an object");return s}a(tg,"IteratorNext");function rg(i){return!!i.done}a(rg,"IteratorComplete");function ng(i){return i.value}a(ng,"IteratorValue");function ig(i){return!(typeof i!="number"||Bu(i)||i<0)}a(ig,"IsNonNegativeNumber");function zu(i){let s=Lu(i.buffer,i.byteOffset,i.byteOffset+i.byteLength);return new Uint8Array(s)}a(zu,"CloneAsUint8Array");function Eo(i){let s=i._queue.shift();return i._queueTotalSize-=s.size,i._queueTotalSize<0&&(i._queueTotalSize=0),s.value}a(Eo,"DequeueValue");function Ao(i,s,u){if(!ig(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");i._queue.push({value:s,size:u}),i._queueTotalSize+=u}a(Ao,"EnqueueValueWithSize");function ag(i){return i._queue.peek().value}a(ag,"PeekQueueValue");function qt(i){i._queue=new T,i._queueTotalSize=0}a(qt,"ResetQueue");function Mu(i){return i===DataView}a(Mu,"isDataViewConstructor");function og(i){return Mu(i.constructor)}a(og,"isDataView");function sg(i){return Mu(i)?1:i.BYTES_PER_ELEMENT}a(sg,"arrayBufferViewElementSize");let ts=class ts{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Co(this))throw Bo("view");return this._view}respond(s){if(!Co(this))throw Bo("respond");if(mt(s,1,"respond"),s=vo(s,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Lt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ui(this._associatedReadableByteStreamController,s)}respondWithNewView(s){if(!Co(this))throw Bo("respondWithNewView");if(mt(s,1,"respondWithNewView"),!ArrayBuffer.isView(s))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Lt(s.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Wi(this._associatedReadableByteStreamController,s)}};a(ts,"ReadableStreamBYOBRequest");let bt=ts;Object.defineProperties(bt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),o(bt.prototype.respond,"respond"),o(bt.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});let rs=class rs{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!rr(this))throw In("byobRequest");return Fo(this)}get desiredSize(){if(!rr(this))throw In("desiredSize");return Gu(this)}close(){if(!rr(this))throw In("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let s=this._controlledReadableByteStream._state;if(s!=="readable")throw new TypeError(`The stream (in ${s} state) is not in the readable state and cannot be closed`);Pn(this)}enqueue(s){if(!rr(this))throw In("enqueue");if(mt(s,1,"enqueue"),!ArrayBuffer.isView(s))throw new TypeError("chunk must be an array buffer view");if(s.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(s.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);Mi(this,s)}error(s=void 0){if(!rr(this))throw In("error");Pe(this,s)}[D](s){Uu(this),qt(this);let u=this._cancelAlgorithm(s);return zi(this),u}[U](s){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){Yu(this,s);return}let p=this._autoAllocateChunkSize;if(p!==void 0){let g;try{g=new ArrayBuffer(p)}catch(_){s._errorSteps(_);return}let b={buffer:g,bufferByteLength:p,byteOffset:0,byteLength:p,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(b)}Au(u,s),nr(this)}[$](){if(this._pendingPullIntos.length>0){let s=this._pendingPullIntos.peek();s.readerType="none",this._pendingPullIntos=new T,this._pendingPullIntos.push(s)}}};a(rs,"ReadableByteStreamController");let Ue=rs;Object.defineProperties(Ue.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),o(Ue.prototype.close,"close"),o(Ue.prototype.enqueue,"enqueue"),o(Ue.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ue.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function rr(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableByteStream")?!1:i instanceof Ue}a(rr,"IsReadableByteStreamController");function Co(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_associatedReadableByteStreamController")?!1:i instanceof bt}a(Co,"IsReadableStreamBYOBRequest");function nr(i){if(!dg(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let u=i._pullAlgorithm();y(u,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,nr(i)),null),p=>(Pe(i,p),null))}a(nr,"ReadableByteStreamControllerCallPullIfNeeded");function Uu(i){Io(i),i._pendingPullIntos=new T}a(Uu,"ReadableByteStreamControllerClearPendingPullIntos");function Po(i,s){let u=!1;i._state==="closed"&&(u=!0);let p=Wu(s);s.readerType==="default"?So(i,p,u):yg(i,p,u)}a(Po,"ReadableByteStreamControllerCommitPullIntoDescriptor");function Wu(i){let s=i.bytesFilled,u=i.elementSize;return new i.viewConstructor(i.buffer,i.byteOffset,s/u)}a(Wu,"ReadableByteStreamControllerConvertPullIntoDescriptor");function qi(i,s,u,p){i._queue.push({buffer:s,byteOffset:u,byteLength:p}),i._queueTotalSize+=p}a(qi,"ReadableByteStreamControllerEnqueueChunkToQueue");function Nu(i,s,u,p){let g;try{g=Lu(s,u,u+p)}catch(b){throw Pe(i,b),b}qi(i,g,0,p)}a(Nu,"ReadableByteStreamControllerEnqueueClonedChunkToQueue");function ju(i,s){s.bytesFilled>0&&Nu(i,s.buffer,s.byteOffset,s.bytesFilled),Br(i)}a(ju,"ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue");function Hu(i,s){let u=Math.min(i._queueTotalSize,s.byteLength-s.bytesFilled),p=s.bytesFilled+u,g=u,b=!1,_=p%s.elementSize,I=p-_;I>=s.minimumFill&&(g=I-s.bytesFilled,b=!0);let z=i._queue;for(;g>0;){let B=z.peek(),M=Math.min(g,B.byteLength),W=s.byteOffset+s.bytesFilled;Du(s.buffer,W,B.buffer,B.byteOffset,M),B.byteLength===M?z.shift():(B.byteOffset+=M,B.byteLength-=M),i._queueTotalSize-=M,Zu(i,M,s),g-=M}return b}a(Hu,"ReadableByteStreamControllerFillPullIntoDescriptorFromQueue");function Zu(i,s,u){u.bytesFilled+=s}a(Zu,"ReadableByteStreamControllerFillHeadPullIntoDescriptor");function $u(i){i._queueTotalSize===0&&i._closeRequested?(zi(i),qn(i._controlledReadableByteStream)):nr(i)}a($u,"ReadableByteStreamControllerHandleQueueDrain");function Io(i){i._byobRequest!==null&&(i._byobRequest._associatedReadableByteStreamController=void 0,i._byobRequest._view=null,i._byobRequest=null)}a(Io,"ReadableByteStreamControllerInvalidateBYOBRequest");function Oo(i){for(;i._pendingPullIntos.length>0;){if(i._queueTotalSize===0)return;let s=i._pendingPullIntos.peek();Hu(i,s)&&(Br(i),Po(i._controlledReadableByteStream,s))}}a(Oo,"ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue");function lg(i){let s=i._controlledReadableByteStream._reader;for(;s._readRequests.length>0;){if(i._queueTotalSize===0)return;let u=s._readRequests.shift();Yu(i,u)}}a(lg,"ReadableByteStreamControllerProcessReadRequestsUsingQueue");function ug(i,s,u,p){let g=i._controlledReadableByteStream,b=s.constructor,_=sg(b),{byteOffset:I,byteLength:z}=s,B=u*_,M;try{M=gt(s.buffer)}catch(Y){p._errorSteps(Y);return}let W={buffer:M,bufferByteLength:M.byteLength,byteOffset:I,byteLength:z,bytesFilled:0,minimumFill:B,elementSize:_,viewConstructor:b,readerType:"byob"};if(i._pendingPullIntos.length>0){i._pendingPullIntos.push(W),Qu(g,p);return}if(g._state==="closed"){let Y=new b(W.buffer,W.byteOffset,0);p._closeSteps(Y);return}if(i._queueTotalSize>0){if(Hu(i,W)){let Y=Wu(W);$u(i),p._chunkSteps(Y);return}if(i._closeRequested){let Y=new TypeError("Insufficient bytes to fill elements in the given buffer");Pe(i,Y),p._errorSteps(Y);return}}i._pendingPullIntos.push(W),Qu(g,p),nr(i)}a(ug,"ReadableByteStreamControllerPullInto");function fg(i,s){s.readerType==="none"&&Br(i);let u=i._controlledReadableByteStream;if(Do(u))for(;Ju(u)>0;){let p=Br(i);Po(u,p)}}a(fg,"ReadableByteStreamControllerRespondInClosedState");function cg(i,s,u){if(Zu(i,s,u),u.readerType==="none"){ju(i,u),Oo(i);return}if(u.bytesFilled<u.minimumFill)return;Br(i);let p=u.bytesFilled%u.elementSize;if(p>0){let g=u.byteOffset+u.bytesFilled;Nu(i,u.buffer,g-p,p)}u.bytesFilled-=p,Po(i._controlledReadableByteStream,u),Oo(i)}a(cg,"ReadableByteStreamControllerRespondInReadableState");function Vu(i,s){let u=i._pendingPullIntos.peek();Io(i),i._controlledReadableByteStream._state==="closed"?fg(i,u):cg(i,s,u),nr(i)}a(Vu,"ReadableByteStreamControllerRespondInternal");function Br(i){return i._pendingPullIntos.shift()}a(Br,"ReadableByteStreamControllerShiftPendingPullInto");function dg(i){let s=i._controlledReadableByteStream;return s._state!=="readable"||i._closeRequested||!i._started?!1:!!(Cu(s)&&Fi(s)>0||Do(s)&&Ju(s)>0||Gu(i)>0)}a(dg,"ReadableByteStreamControllerShouldCallPull");function zi(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0}a(zi,"ReadableByteStreamControllerClearAlgorithms");function Pn(i){let s=i._controlledReadableByteStream;if(!(i._closeRequested||s._state!=="readable")){if(i._queueTotalSize>0){i._closeRequested=!0;return}if(i._pendingPullIntos.length>0){let u=i._pendingPullIntos.peek();if(u.bytesFilled%u.elementSize!==0){let p=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Pe(i,p),p}}zi(i),qn(s)}}a(Pn,"ReadableByteStreamControllerClose");function Mi(i,s){let u=i._controlledReadableByteStream;if(i._closeRequested||u._state!=="readable")return;let{buffer:p,byteOffset:g,byteLength:b}=s;if(Lt(p))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let _=gt(p);if(i._pendingPullIntos.length>0){let I=i._pendingPullIntos.peek();if(Lt(I.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Io(i),I.buffer=gt(I.buffer),I.readerType==="none"&&ju(i,I)}if(Cu(u))if(lg(i),Fi(u)===0)qi(i,_,g,b);else{i._pendingPullIntos.length>0&&Br(i);let I=new Uint8Array(_,g,b);So(u,I,!1)}else Do(u)?(qi(i,_,g,b),Oo(i)):qi(i,_,g,b);nr(i)}a(Mi,"ReadableByteStreamControllerEnqueue");function Pe(i,s){let u=i._controlledReadableByteStream;u._state==="readable"&&(Uu(i),qt(i),zi(i),Tf(u,s))}a(Pe,"ReadableByteStreamControllerError");function Yu(i,s){let u=i._queue.shift();i._queueTotalSize-=u.byteLength,$u(i);let p=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);s._chunkSteps(p)}a(Yu,"ReadableByteStreamControllerFillReadRequestFromQueue");function Fo(i){if(i._byobRequest===null&&i._pendingPullIntos.length>0){let s=i._pendingPullIntos.peek(),u=new Uint8Array(s.buffer,s.byteOffset+s.bytesFilled,s.byteLength-s.bytesFilled),p=Object.create(bt.prototype);pg(p,i,u),i._byobRequest=p}return i._byobRequest}a(Fo,"ReadableByteStreamControllerGetBYOBRequest");function Gu(i){let s=i._controlledReadableByteStream._state;return s==="errored"?null:s==="closed"?0:i._strategyHWM-i._queueTotalSize}a(Gu,"ReadableByteStreamControllerGetDesiredSize");function Ui(i,s){let u=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(s!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(s===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+s>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=gt(u.buffer),Vu(i,s)}a(Ui,"ReadableByteStreamControllerRespond");function Wi(i,s){let u=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(s.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(s.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==s.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==s.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+s.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let g=s.byteLength;u.buffer=gt(s.buffer),Vu(i,g)}a(Wi,"ReadableByteStreamControllerRespondWithNewView");function Ku(i,s,u,p,g,b,_){s._controlledReadableByteStream=i,s._pullAgain=!1,s._pulling=!1,s._byobRequest=null,s._queue=s._queueTotalSize=void 0,qt(s),s._closeRequested=!1,s._started=!1,s._strategyHWM=b,s._pullAlgorithm=p,s._cancelAlgorithm=g,s._autoAllocateChunkSize=_,s._pendingPullIntos=new T,i._readableStreamController=s;let I=u();y(c(I),()=>(s._started=!0,nr(s),null),z=>(Pe(s,z),null))}a(Ku,"SetUpReadableByteStreamController");function hg(i,s,u){let p=Object.create(Ue.prototype),g,b,_;s.start!==void 0?g=a(()=>s.start(p),"startAlgorithm"):g=a(()=>{},"startAlgorithm"),s.pull!==void 0?b=a(()=>s.pull(p),"pullAlgorithm"):b=a(()=>c(void 0),"pullAlgorithm"),s.cancel!==void 0?_=a(z=>s.cancel(z),"cancelAlgorithm"):_=a(()=>c(void 0),"cancelAlgorithm");let I=s.autoAllocateChunkSize;if(I===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ku(i,p,g,b,_,u,I)}a(hg,"SetUpReadableByteStreamControllerFromUnderlyingSource");function pg(i,s,u){i._associatedReadableByteStreamController=s,i._view=u}a(pg,"SetUpReadableStreamBYOBRequest");function Bo(i){return new TypeError(`ReadableStreamBYOBRequest.prototype.${i} can only be used on a ReadableStreamBYOBRequest`)}a(Bo,"byobRequestBrandCheckException");function In(i){return new TypeError(`ReadableByteStreamController.prototype.${i} can only be used on a ReadableByteStreamController`)}a(In,"byteStreamControllerBrandCheckException");function mg(i,s){Je(i,s);let u=i==null?void 0:i.mode;return{mode:u===void 0?void 0:gg(u,`${s} has member 'mode' that`)}}a(mg,"convertReaderOptions");function gg(i,s){if(i=`${i}`,i!=="byob")throw new TypeError(`${s} '${i}' is not a valid enumeration value for ReadableStreamReaderMode`);return i}a(gg,"convertReadableStreamReaderMode");function bg(i,s){var u;Je(i,s);let p=(u=i==null?void 0:i.min)!==null&&u!==void 0?u:1;return{min:vo(p,`${s} has member 'min' that`)}}a(bg,"convertByobReadOptions");function Xu(i){return new tt(i)}a(Xu,"AcquireReadableStreamBYOBReader");function Qu(i,s){i._reader._readIntoRequests.push(s)}a(Qu,"ReadableStreamAddReadIntoRequest");function yg(i,s,u){let g=i._reader._readIntoRequests.shift();u?g._closeSteps(s):g._chunkSteps(s)}a(yg,"ReadableStreamFulfillReadIntoRequest");function Ju(i){return i._reader._readIntoRequests.length}a(Ju,"ReadableStreamGetNumReadIntoRequests");function Do(i){let s=i._reader;return!(s===void 0||!ir(s))}a(Do,"ReadableStreamHasBYOBReader");let ns=class ns{constructor(s){if(mt(s,1,"ReadableStreamBYOBReader"),wo(s,"First parameter"),Ut(s))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!rr(s._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");F(this,s),this._readIntoRequests=new T}get closed(){return ir(this)?this._closedPromise:h(Ni("closed"))}cancel(s=void 0){return ir(this)?this._ownerReadableStream===void 0?h(pt("cancel")):le(this,s):h(Ni("cancel"))}read(s,u={}){if(!ir(this))return h(Ni("read"));if(!ArrayBuffer.isView(s))return h(new TypeError("view must be an array buffer view"));if(s.byteLength===0)return h(new TypeError("view must have non-zero byteLength"));if(s.buffer.byteLength===0)return h(new TypeError("view's buffer must have non-zero byteLength"));if(Lt(s.buffer))return h(new TypeError("view's buffer has been detached"));let p;try{p=bg(u,"options")}catch(B){return h(B)}let g=p.min;if(g===0)return h(new TypeError("options.min must be greater than 0"));if(og(s)){if(g>s.byteLength)return h(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(g>s.length)return h(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return h(pt("read from"));let b,_,I=m((B,M)=>{b=B,_=M});return ef(this,s,g,{_chunkSteps:a(B=>b({value:B,done:!1}),"_chunkSteps"),_closeSteps:a(B=>b({value:B,done:!0}),"_closeSteps"),_errorSteps:a(B=>_(B),"_errorSteps")}),I}releaseLock(){if(!ir(this))throw Ni("releaseLock");this._ownerReadableStream!==void 0&&_g(this)}};a(ns,"ReadableStreamBYOBReader");let tt=ns;Object.defineProperties(tt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(tt.prototype.cancel,"cancel"),o(tt.prototype.read,"read"),o(tt.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(tt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ir(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_readIntoRequests")?!1:i instanceof tt}a(ir,"IsReadableStreamBYOBReader");function ef(i,s,u,p){let g=i._ownerReadableStream;g._disturbed=!0,g._state==="errored"?p._errorSteps(g._storedError):ug(g._readableStreamController,s,u,p)}a(ef,"ReadableStreamBYOBReaderRead");function _g(i){ce(i);let s=new TypeError("Reader was released");tf(i,s)}a(_g,"ReadableStreamBYOBReaderRelease");function tf(i,s){let u=i._readIntoRequests;i._readIntoRequests=new T,u.forEach(p=>{p._errorSteps(s)})}a(tf,"ReadableStreamBYOBReaderErrorReadIntoRequests");function Ni(i){return new TypeError(`ReadableStreamBYOBReader.prototype.${i} can only be used on a ReadableStreamBYOBReader`)}a(Ni,"byobReaderBrandCheckException");function On(i,s){let{highWaterMark:u}=i;if(u===void 0)return s;if(Bu(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}a(On,"ExtractHighWaterMark");function ji(i){let{size:s}=i;return s||(()=>1)}a(ji,"ExtractSizeAlgorithm");function Hi(i,s){Je(i,s);let u=i==null?void 0:i.highWaterMark,p=i==null?void 0:i.size;return{highWaterMark:u===void 0?void 0:_o(u),size:p===void 0?void 0:vg(p,`${s} has member 'size' that`)}}a(Hi,"convertQueuingStrategy");function vg(i,s){return Ce(i,s),u=>_o(i(u))}a(vg,"convertQueuingStrategySize");function wg(i,s){Je(i,s);let u=i==null?void 0:i.abort,p=i==null?void 0:i.close,g=i==null?void 0:i.start,b=i==null?void 0:i.type,_=i==null?void 0:i.write;return{abort:u===void 0?void 0:Sg(u,i,`${s} has member 'abort' that`),close:p===void 0?void 0:Rg(p,i,`${s} has member 'close' that`),start:g===void 0?void 0:Tg(g,i,`${s} has member 'start' that`),write:_===void 0?void 0:xg(_,i,`${s} has member 'write' that`),type:b}}a(wg,"convertUnderlyingSink");function Sg(i,s,u){return Ce(i,u),p=>C(i,s,[p])}a(Sg,"convertUnderlyingSinkAbortCallback");function Rg(i,s,u){return Ce(i,u),()=>C(i,s,[])}a(Rg,"convertUnderlyingSinkCloseCallback");function Tg(i,s,u){return Ce(i,u),p=>k(i,s,[p])}a(Tg,"convertUnderlyingSinkStartCallback");function xg(i,s,u){return Ce(i,u),(p,g)=>C(i,s,[p,g])}a(xg,"convertUnderlyingSinkWriteCallback");function rf(i,s){if(!Dr(i))throw new TypeError(`${s} is not a WritableStream.`)}a(rf,"assertWritableStream");function kg(i){if(typeof i!="object"||i===null)return!1;try{return typeof i.aborted=="boolean"}catch{return!1}}a(kg,"isAbortSignal");let Eg=typeof AbortController=="function";function Ag(){if(Eg)return new AbortController}a(Ag,"createAbortController");let is=class is{constructor(s={},u={}){s===void 0?s=null:ku(s,"First parameter");let p=Hi(u,"Second parameter"),g=wg(s,"First parameter");if(af(this),g.type!==void 0)throw new RangeError("Invalid type is specified");let _=ji(p),I=On(p,1);Ng(this,g,I,_)}get locked(){if(!Dr(this))throw Gi("locked");return Lr(this)}abort(s=void 0){return Dr(this)?Lr(this)?h(new TypeError("Cannot abort a stream that already has a writer")):Zi(this,s):h(Gi("abort"))}close(){return Dr(this)?Lr(this)?h(new TypeError("Cannot close a stream that already has a writer")):nt(this)?h(new TypeError("Cannot close an already-closing stream")):of(this):h(Gi("close"))}getWriter(){if(!Dr(this))throw Gi("getWriter");return nf(this)}};a(is,"WritableStream");let rt=is;Object.defineProperties(rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),o(rt.prototype.abort,"abort"),o(rt.prototype.close,"close"),o(rt.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function nf(i){return new We(i)}a(nf,"AcquireWritableStreamDefaultWriter");function Cg(i,s,u,p,g=1,b=()=>1){let _=Object.create(rt.prototype);af(_);let I=Object.create(zt.prototype);return df(_,I,i,s,u,p,g,b),_}a(Cg,"CreateWritableStream");function af(i){i._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new T,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1}a(af,"InitializeWritableStream");function Dr(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_writableStreamController")?!1:i instanceof rt}a(Dr,"IsWritableStream");function Lr(i){return i._writer!==void 0}a(Lr,"IsWritableStreamLocked");function Zi(i,s){var u;if(i._state==="closed"||i._state==="errored")return c(void 0);i._writableStreamController._abortReason=s,(u=i._writableStreamController._abortController)===null||u===void 0||u.abort(s);let p=i._state;if(p==="closed"||p==="errored")return c(void 0);if(i._pendingAbortRequest!==void 0)return i._pendingAbortRequest._promise;let g=!1;p==="erroring"&&(g=!0,s=void 0);let b=m((_,I)=>{i._pendingAbortRequest={_promise:void 0,_resolve:_,_reject:I,_reason:s,_wasAlreadyErroring:g}});return i._pendingAbortRequest._promise=b,g||qo(i,s),b}a(Zi,"WritableStreamAbort");function of(i){let s=i._state;if(s==="closed"||s==="errored")return h(new TypeError(`The stream (in ${s} state) is not in the writable state and cannot be closed`));let u=m((g,b)=>{let _={_resolve:g,_reject:b};i._closeRequest=_}),p=i._writer;return p!==void 0&&i._backpressure&&s==="writable"&&Zo(p),jg(i._writableStreamController),u}a(of,"WritableStreamClose");function Pg(i){return m((u,p)=>{let g={_resolve:u,_reject:p};i._writeRequests.push(g)})}a(Pg,"WritableStreamAddWriteRequest");function Lo(i,s){if(i._state==="writable"){qo(i,s);return}zo(i)}a(Lo,"WritableStreamDealWithRejection");function qo(i,s){let u=i._writableStreamController;i._state="erroring",i._storedError=s;let p=i._writer;p!==void 0&&lf(p,s),!Dg(i)&&u._started&&zo(i)}a(qo,"WritableStreamStartErroring");function zo(i){i._state="errored",i._writableStreamController[q]();let s=i._storedError;if(i._writeRequests.forEach(g=>{g._reject(s)}),i._writeRequests=new T,i._pendingAbortRequest===void 0){$i(i);return}let u=i._pendingAbortRequest;if(i._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(s),$i(i);return}let p=i._writableStreamController[O](u._reason);y(p,()=>(u._resolve(),$i(i),null),g=>(u._reject(g),$i(i),null))}a(zo,"WritableStreamFinishErroring");function Ig(i){i._inFlightWriteRequest._resolve(void 0),i._inFlightWriteRequest=void 0}a(Ig,"WritableStreamFinishInFlightWrite");function Og(i,s){i._inFlightWriteRequest._reject(s),i._inFlightWriteRequest=void 0,Lo(i,s)}a(Og,"WritableStreamFinishInFlightWriteWithError");function Fg(i){i._inFlightCloseRequest._resolve(void 0),i._inFlightCloseRequest=void 0,i._state==="erroring"&&(i._storedError=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._resolve(),i._pendingAbortRequest=void 0)),i._state="closed";let u=i._writer;u!==void 0&&gf(u)}a(Fg,"WritableStreamFinishInFlightClose");function Bg(i,s){i._inFlightCloseRequest._reject(s),i._inFlightCloseRequest=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._reject(s),i._pendingAbortRequest=void 0),Lo(i,s)}a(Bg,"WritableStreamFinishInFlightCloseWithError");function nt(i){return!(i._closeRequest===void 0&&i._inFlightCloseRequest===void 0)}a(nt,"WritableStreamCloseQueuedOrInFlight");function Dg(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}a(Dg,"WritableStreamHasOperationMarkedInFlight");function Lg(i){i._inFlightCloseRequest=i._closeRequest,i._closeRequest=void 0}a(Lg,"WritableStreamMarkCloseRequestInFlight");function qg(i){i._inFlightWriteRequest=i._writeRequests.shift()}a(qg,"WritableStreamMarkFirstWriteRequestInFlight");function $i(i){i._closeRequest!==void 0&&(i._closeRequest._reject(i._storedError),i._closeRequest=void 0);let s=i._writer;s!==void 0&&jo(s,i._storedError)}a($i,"WritableStreamRejectCloseAndClosedPromiseIfNeeded");function Mo(i,s){let u=i._writer;u!==void 0&&s!==i._backpressure&&(s?Kg(u):Zo(u)),i._backpressure=s}a(Mo,"WritableStreamUpdateBackpressure");let as=class as{constructor(s){if(mt(s,1,"WritableStreamDefaultWriter"),rf(s,"First parameter"),Lr(s))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=s,s._writer=this;let u=s._state;if(u==="writable")!nt(s)&&s._backpressure?Xi(this):bf(this),Ki(this);else if(u==="erroring")Ho(this,s._storedError),Ki(this);else if(u==="closed")bf(this),Yg(this);else{let p=s._storedError;Ho(this,p),mf(this,p)}}get closed(){return ar(this)?this._closedPromise:h(or("closed"))}get desiredSize(){if(!ar(this))throw or("desiredSize");if(this._ownerWritableStream===void 0)throw Bn("desiredSize");return Wg(this)}get ready(){return ar(this)?this._readyPromise:h(or("ready"))}abort(s=void 0){return ar(this)?this._ownerWritableStream===void 0?h(Bn("abort")):zg(this,s):h(or("abort"))}close(){if(!ar(this))return h(or("close"));let s=this._ownerWritableStream;return s===void 0?h(Bn("close")):nt(s)?h(new TypeError("Cannot close an already-closing stream")):sf(this)}releaseLock(){if(!ar(this))throw or("releaseLock");this._ownerWritableStream!==void 0&&uf(this)}write(s=void 0){return ar(this)?this._ownerWritableStream===void 0?h(Bn("write to")):ff(this,s):h(or("write"))}};a(as,"WritableStreamDefaultWriter");let We=as;Object.defineProperties(We.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),o(We.prototype.abort,"abort"),o(We.prototype.close,"close"),o(We.prototype.releaseLock,"releaseLock"),o(We.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(We.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function ar(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_ownerWritableStream")?!1:i instanceof We}a(ar,"IsWritableStreamDefaultWriter");function zg(i,s){let u=i._ownerWritableStream;return Zi(u,s)}a(zg,"WritableStreamDefaultWriterAbort");function sf(i){let s=i._ownerWritableStream;return of(s)}a(sf,"WritableStreamDefaultWriterClose");function Mg(i){let s=i._ownerWritableStream,u=s._state;return nt(s)||u==="closed"?c(void 0):u==="errored"?h(s._storedError):sf(i)}a(Mg,"WritableStreamDefaultWriterCloseWithErrorPropagation");function Ug(i,s){i._closedPromiseState==="pending"?jo(i,s):Gg(i,s)}a(Ug,"WritableStreamDefaultWriterEnsureClosedPromiseRejected");function lf(i,s){i._readyPromiseState==="pending"?yf(i,s):Xg(i,s)}a(lf,"WritableStreamDefaultWriterEnsureReadyPromiseRejected");function Wg(i){let s=i._ownerWritableStream,u=s._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:hf(s._writableStreamController)}a(Wg,"WritableStreamDefaultWriterGetDesiredSize");function uf(i){let s=i._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");lf(i,u),Ug(i,u),s._writer=void 0,i._ownerWritableStream=void 0}a(uf,"WritableStreamDefaultWriterRelease");function ff(i,s){let u=i._ownerWritableStream,p=u._writableStreamController,g=Hg(p,s);if(u!==i._ownerWritableStream)return h(Bn("write to"));let b=u._state;if(b==="errored")return h(u._storedError);if(nt(u)||b==="closed")return h(new TypeError("The stream is closing or closed and cannot be written to"));if(b==="erroring")return h(u._storedError);let _=Pg(u);return Zg(p,s,g),_}a(ff,"WritableStreamDefaultWriterWrite");let cf={},os=class os{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Uo(this))throw No("abortReason");return this._abortReason}get signal(){if(!Uo(this))throw No("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(s=void 0){if(!Uo(this))throw No("error");this._controlledWritableStream._state==="writable"&&pf(this,s)}[O](s){let u=this._abortAlgorithm(s);return Vi(this),u}[q](){qt(this)}};a(os,"WritableStreamDefaultController");let zt=os;Object.defineProperties(zt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(zt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Uo(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledWritableStream")?!1:i instanceof zt}a(Uo,"IsWritableStreamDefaultController");function df(i,s,u,p,g,b,_,I){s._controlledWritableStream=i,i._writableStreamController=s,s._queue=void 0,s._queueTotalSize=void 0,qt(s),s._abortReason=void 0,s._abortController=Ag(),s._started=!1,s._strategySizeAlgorithm=I,s._strategyHWM=_,s._writeAlgorithm=p,s._closeAlgorithm=g,s._abortAlgorithm=b;let z=Wo(s);Mo(i,z);let B=u(),M=c(B);y(M,()=>(s._started=!0,Yi(s),null),W=>(s._started=!0,Lo(i,W),null))}a(df,"SetUpWritableStreamDefaultController");function Ng(i,s,u,p){let g=Object.create(zt.prototype),b,_,I,z;s.start!==void 0?b=a(()=>s.start(g),"startAlgorithm"):b=a(()=>{},"startAlgorithm"),s.write!==void 0?_=a(B=>s.write(B,g),"writeAlgorithm"):_=a(()=>c(void 0),"writeAlgorithm"),s.close!==void 0?I=a(()=>s.close(),"closeAlgorithm"):I=a(()=>c(void 0),"closeAlgorithm"),s.abort!==void 0?z=a(B=>s.abort(B),"abortAlgorithm"):z=a(()=>c(void 0),"abortAlgorithm"),df(i,g,b,_,I,z,u,p)}a(Ng,"SetUpWritableStreamDefaultControllerFromUnderlyingSink");function Vi(i){i._writeAlgorithm=void 0,i._closeAlgorithm=void 0,i._abortAlgorithm=void 0,i._strategySizeAlgorithm=void 0}a(Vi,"WritableStreamDefaultControllerClearAlgorithms");function jg(i){Ao(i,cf,0),Yi(i)}a(jg,"WritableStreamDefaultControllerClose");function Hg(i,s){try{return i._strategySizeAlgorithm(s)}catch(u){return Fn(i,u),1}}a(Hg,"WritableStreamDefaultControllerGetChunkSize");function hf(i){return i._strategyHWM-i._queueTotalSize}a(hf,"WritableStreamDefaultControllerGetDesiredSize");function Zg(i,s,u){try{Ao(i,s,u)}catch(g){Fn(i,g);return}let p=i._controlledWritableStream;if(!nt(p)&&p._state==="writable"){let g=Wo(i);Mo(p,g)}Yi(i)}a(Zg,"WritableStreamDefaultControllerWrite");function Yi(i){let s=i._controlledWritableStream;if(!i._started||s._inFlightWriteRequest!==void 0)return;if(s._state==="erroring"){zo(s);return}if(i._queue.length===0)return;let p=ag(i);p===cf?$g(i):Vg(i,p)}a(Yi,"WritableStreamDefaultControllerAdvanceQueueIfNeeded");function Fn(i,s){i._controlledWritableStream._state==="writable"&&pf(i,s)}a(Fn,"WritableStreamDefaultControllerErrorIfNeeded");function $g(i){let s=i._controlledWritableStream;Lg(s),Eo(i);let u=i._closeAlgorithm();Vi(i),y(u,()=>(Fg(s),null),p=>(Bg(s,p),null))}a($g,"WritableStreamDefaultControllerProcessClose");function Vg(i,s){let u=i._controlledWritableStream;qg(u);let p=i._writeAlgorithm(s);y(p,()=>{Ig(u);let g=u._state;if(Eo(i),!nt(u)&&g==="writable"){let b=Wo(i);Mo(u,b)}return Yi(i),null},g=>(u._state==="writable"&&Vi(i),Og(u,g),null))}a(Vg,"WritableStreamDefaultControllerProcessWrite");function Wo(i){return hf(i)<=0}a(Wo,"WritableStreamDefaultControllerGetBackpressure");function pf(i,s){let u=i._controlledWritableStream;Vi(i),qo(u,s)}a(pf,"WritableStreamDefaultControllerError");function Gi(i){return new TypeError(`WritableStream.prototype.${i} can only be used on a WritableStream`)}a(Gi,"streamBrandCheckException$2");function No(i){return new TypeError(`WritableStreamDefaultController.prototype.${i} can only be used on a WritableStreamDefaultController`)}a(No,"defaultControllerBrandCheckException$2");function or(i){return new TypeError(`WritableStreamDefaultWriter.prototype.${i} can only be used on a WritableStreamDefaultWriter`)}a(or,"defaultWriterBrandCheckException");function Bn(i){return new TypeError("Cannot "+i+" a stream using a released writer")}a(Bn,"defaultWriterLockException");function Ki(i){i._closedPromise=m((s,u)=>{i._closedPromise_resolve=s,i._closedPromise_reject=u,i._closedPromiseState="pending"})}a(Ki,"defaultWriterClosedPromiseInitialize");function mf(i,s){Ki(i),jo(i,s)}a(mf,"defaultWriterClosedPromiseInitializeAsRejected");function Yg(i){Ki(i),gf(i)}a(Yg,"defaultWriterClosedPromiseInitializeAsResolved");function jo(i,s){i._closedPromise_reject!==void 0&&(E(i._closedPromise),i._closedPromise_reject(s),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected")}a(jo,"defaultWriterClosedPromiseReject");function Gg(i,s){mf(i,s)}a(Gg,"defaultWriterClosedPromiseResetToRejected");function gf(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="resolved")}a(gf,"defaultWriterClosedPromiseResolve");function Xi(i){i._readyPromise=m((s,u)=>{i._readyPromise_resolve=s,i._readyPromise_reject=u}),i._readyPromiseState="pending"}a(Xi,"defaultWriterReadyPromiseInitialize");function Ho(i,s){Xi(i),yf(i,s)}a(Ho,"defaultWriterReadyPromiseInitializeAsRejected");function bf(i){Xi(i),Zo(i)}a(bf,"defaultWriterReadyPromiseInitializeAsResolved");function yf(i,s){i._readyPromise_reject!==void 0&&(E(i._readyPromise),i._readyPromise_reject(s),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected")}a(yf,"defaultWriterReadyPromiseReject");function Kg(i){Xi(i)}a(Kg,"defaultWriterReadyPromiseReset");function Xg(i,s){Ho(i,s)}a(Xg,"defaultWriterReadyPromiseResetToRejected");function Zo(i){i._readyPromise_resolve!==void 0&&(i._readyPromise_resolve(void 0),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="fulfilled")}a(Zo,"defaultWriterReadyPromiseResolve");function Qg(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}a(Qg,"getGlobals");let $o=Qg();function Jg(i){if(!(typeof i=="function"||typeof i=="object")||i.name!=="DOMException")return!1;try{return new i,!0}catch{return!1}}a(Jg,"isDOMExceptionConstructor");function eb(){let i=$o==null?void 0:$o.DOMException;return Jg(i)?i:void 0}a(eb,"getFromGlobal");function tb(){let i=a(function(u,p){this.message=u||"",this.name=p||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)},"DOMException");return o(i,"DOMException"),i.prototype=Object.create(Error.prototype),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0}),i}a(tb,"createPolyfill");let rb=eb()||tb();function _f(i,s,u,p,g,b){let _=Fr(i),I=nf(s);i._disturbed=!0;let z=!1,B=c(void 0);return m((M,W)=>{let Y;if(b!==void 0){if(Y=a(()=>{let L=b.reason!==void 0?b.reason:new rb("Aborted","AbortError"),N=[];p||N.push(()=>s._state==="writable"?Zi(s,L):c(void 0)),g||N.push(()=>i._state==="readable"?He(i,L):c(void 0)),be(()=>Promise.all(N.map(G=>G())),!0,L)},"abortAlgorithm"),b.aborted){Y();return}b.addEventListener("abort",Y)}function Ze(){return m((L,N)=>{function G(we){we?L():x(jr(),G,N)}a(G,"next"),G(!1)})}a(Ze,"pipeLoop");function jr(){return z?c(!0):x(I._readyPromise,()=>m((L,N)=>{An(_,{_chunkSteps:a(G=>{B=x(ff(I,G),void 0,t),L(!1)},"_chunkSteps"),_closeSteps:a(()=>L(!0),"_closeSteps"),_errorSteps:N})}))}if(a(jr,"pipeStep"),yt(i,_._closedPromise,L=>(p?Ie(!0,L):be(()=>Zi(s,L),!0,L),null)),yt(s,I._closedPromise,L=>(g?Ie(!0,L):be(()=>He(i,L),!0,L),null)),pe(i,_._closedPromise,()=>(u?Ie():be(()=>Mg(I)),null)),nt(s)||s._state==="closed"){let L=new TypeError("the destination writable stream closed before all data could be piped to it");g?Ie(!0,L):be(()=>He(i,L),!0,L)}E(Ze());function Wt(){let L=B;return x(B,()=>L!==B?Wt():void 0)}a(Wt,"waitForWritesToFinish");function yt(L,N,G){L._state==="errored"?G(L._storedError):v(N,G)}a(yt,"isOrBecomesErrored");function pe(L,N,G){L._state==="closed"?G():w(N,G)}a(pe,"isOrBecomesClosed");function be(L,N,G){if(z)return;z=!0,s._state==="writable"&&!nt(s)?w(Wt(),we):we();function we(){return y(L(),()=>_t(N,G),Hr=>_t(!0,Hr)),null}a(we,"doTheRest")}a(be,"shutdownWithAction");function Ie(L,N){z||(z=!0,s._state==="writable"&&!nt(s)?w(Wt(),()=>_t(L,N)):_t(L,N))}a(Ie,"shutdown");function _t(L,N){return uf(I),ce(_),b!==void 0&&b.removeEventListener("abort",Y),L?W(N):M(void 0),null}a(_t,"finalize")})}a(_f,"ReadableStreamPipeTo");let ss=class ss{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Qi(this))throw ea("desiredSize");return Vo(this)}close(){if(!Qi(this))throw ea("close");if(!zr(this))throw new TypeError("The stream is not in a state that permits close");sr(this)}enqueue(s=void 0){if(!Qi(this))throw ea("enqueue");if(!zr(this))throw new TypeError("The stream is not in a state that permits enqueue");return qr(this,s)}error(s=void 0){if(!Qi(this))throw ea("error");je(this,s)}[D](s){qt(this);let u=this._cancelAlgorithm(s);return Ji(this),u}[U](s){let u=this._controlledReadableStream;if(this._queue.length>0){let p=Eo(this);this._closeRequested&&this._queue.length===0?(Ji(this),qn(u)):Dn(this),s._chunkSteps(p)}else Au(u,s),Dn(this)}[$](){}};a(ss,"ReadableStreamDefaultController");let Ne=ss;Object.defineProperties(Ne.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),o(Ne.prototype.close,"close"),o(Ne.prototype.enqueue,"enqueue"),o(Ne.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ne.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Qi(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableStream")?!1:i instanceof Ne}a(Qi,"IsReadableStreamDefaultController");function Dn(i){if(!vf(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let u=i._pullAlgorithm();y(u,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Dn(i)),null),p=>(je(i,p),null))}a(Dn,"ReadableStreamDefaultControllerCallPullIfNeeded");function vf(i){let s=i._controlledReadableStream;return!zr(i)||!i._started?!1:!!(Ut(s)&&Fi(s)>0||Vo(i)>0)}a(vf,"ReadableStreamDefaultControllerShouldCallPull");function Ji(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0,i._strategySizeAlgorithm=void 0}a(Ji,"ReadableStreamDefaultControllerClearAlgorithms");function sr(i){if(!zr(i))return;let s=i._controlledReadableStream;i._closeRequested=!0,i._queue.length===0&&(Ji(i),qn(s))}a(sr,"ReadableStreamDefaultControllerClose");function qr(i,s){if(!zr(i))return;let u=i._controlledReadableStream;if(Ut(u)&&Fi(u)>0)So(u,s,!1);else{let p;try{p=i._strategySizeAlgorithm(s)}catch(g){throw je(i,g),g}try{Ao(i,s,p)}catch(g){throw je(i,g),g}}Dn(i)}a(qr,"ReadableStreamDefaultControllerEnqueue");function je(i,s){let u=i._controlledReadableStream;u._state==="readable"&&(qt(i),Ji(i),Tf(u,s))}a(je,"ReadableStreamDefaultControllerError");function Vo(i){let s=i._controlledReadableStream._state;return s==="errored"?null:s==="closed"?0:i._strategyHWM-i._queueTotalSize}a(Vo,"ReadableStreamDefaultControllerGetDesiredSize");function nb(i){return!vf(i)}a(nb,"ReadableStreamDefaultControllerHasBackpressure");function zr(i){let s=i._controlledReadableStream._state;return!i._closeRequested&&s==="readable"}a(zr,"ReadableStreamDefaultControllerCanCloseOrEnqueue");function wf(i,s,u,p,g,b,_){s._controlledReadableStream=i,s._queue=void 0,s._queueTotalSize=void 0,qt(s),s._started=!1,s._closeRequested=!1,s._pullAgain=!1,s._pulling=!1,s._strategySizeAlgorithm=_,s._strategyHWM=b,s._pullAlgorithm=p,s._cancelAlgorithm=g,i._readableStreamController=s;let I=u();y(c(I),()=>(s._started=!0,Dn(s),null),z=>(je(s,z),null))}a(wf,"SetUpReadableStreamDefaultController");function ib(i,s,u,p){let g=Object.create(Ne.prototype),b,_,I;s.start!==void 0?b=a(()=>s.start(g),"startAlgorithm"):b=a(()=>{},"startAlgorithm"),s.pull!==void 0?_=a(()=>s.pull(g),"pullAlgorithm"):_=a(()=>c(void 0),"pullAlgorithm"),s.cancel!==void 0?I=a(z=>s.cancel(z),"cancelAlgorithm"):I=a(()=>c(void 0),"cancelAlgorithm"),wf(i,g,b,_,I,u,p)}a(ib,"SetUpReadableStreamDefaultControllerFromUnderlyingSource");function ea(i){return new TypeError(`ReadableStreamDefaultController.prototype.${i} can only be used on a ReadableStreamDefaultController`)}a(ea,"defaultControllerBrandCheckException$1");function ab(i,s){return rr(i._readableStreamController)?sb(i):ob(i)}a(ab,"ReadableStreamTee");function ob(i,s){let u=Fr(i),p=!1,g=!1,b=!1,_=!1,I,z,B,M,W,Y=m(pe=>{W=pe});function Ze(){return p?(g=!0,c(void 0)):(p=!0,An(u,{_chunkSteps:a(be=>{S(()=>{g=!1;let Ie=be,_t=be;b||qr(B._readableStreamController,Ie),_||qr(M._readableStreamController,_t),p=!1,g&&Ze()})},"_chunkSteps"),_closeSteps:a(()=>{p=!1,b||sr(B._readableStreamController),_||sr(M._readableStreamController),(!b||!_)&&W(void 0)},"_closeSteps"),_errorSteps:a(()=>{p=!1},"_errorSteps")}),c(void 0))}a(Ze,"pullAlgorithm");function jr(pe){if(b=!0,I=pe,_){let be=Cn([I,z]),Ie=He(i,be);W(Ie)}return Y}a(jr,"cancel1Algorithm");function Wt(pe){if(_=!0,z=pe,b){let be=Cn([I,z]),Ie=He(i,be);W(Ie)}return Y}a(Wt,"cancel2Algorithm");function yt(){}return a(yt,"startAlgorithm"),B=Ln(yt,Ze,jr),M=Ln(yt,Ze,Wt),v(u._closedPromise,pe=>(je(B._readableStreamController,pe),je(M._readableStreamController,pe),(!b||!_)&&W(void 0),null)),[B,M]}a(ob,"ReadableStreamDefaultTee");function sb(i){let s=Fr(i),u=!1,p=!1,g=!1,b=!1,_=!1,I,z,B,M,W,Y=m(L=>{W=L});function Ze(L){v(L._closedPromise,N=>(L!==s||(Pe(B._readableStreamController,N),Pe(M._readableStreamController,N),(!b||!_)&&W(void 0)),null))}a(Ze,"forwardReaderError");function jr(){ir(s)&&(ce(s),s=Fr(i),Ze(s)),An(s,{_chunkSteps:a(N=>{S(()=>{p=!1,g=!1;let G=N,we=N;if(!b&&!_)try{we=zu(N)}catch(Hr){Pe(B._readableStreamController,Hr),Pe(M._readableStreamController,Hr),W(He(i,Hr));return}b||Mi(B._readableStreamController,G),_||Mi(M._readableStreamController,we),u=!1,p?yt():g&&pe()})},"_chunkSteps"),_closeSteps:a(()=>{u=!1,b||Pn(B._readableStreamController),_||Pn(M._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&Ui(B._readableStreamController,0),M._readableStreamController._pendingPullIntos.length>0&&Ui(M._readableStreamController,0),(!b||!_)&&W(void 0)},"_closeSteps"),_errorSteps:a(()=>{u=!1},"_errorSteps")})}a(jr,"pullWithDefaultReader");function Wt(L,N){Dt(s)&&(ce(s),s=Xu(i),Ze(s));let G=N?M:B,we=N?B:M;ef(s,L,1,{_chunkSteps:a(Zr=>{S(()=>{p=!1,g=!1;let $r=N?_:b;if(N?b:_)$r||Wi(G._readableStreamController,Zr);else{let qf;try{qf=zu(Zr)}catch(hs){Pe(G._readableStreamController,hs),Pe(we._readableStreamController,hs),W(He(i,hs));return}$r||Wi(G._readableStreamController,Zr),Mi(we._readableStreamController,qf)}u=!1,p?yt():g&&pe()})},"_chunkSteps"),_closeSteps:a(Zr=>{u=!1;let $r=N?_:b,aa=N?b:_;$r||Pn(G._readableStreamController),aa||Pn(we._readableStreamController),Zr!==void 0&&($r||Wi(G._readableStreamController,Zr),!aa&&we._readableStreamController._pendingPullIntos.length>0&&Ui(we._readableStreamController,0)),(!$r||!aa)&&W(void 0)},"_closeSteps"),_errorSteps:a(()=>{u=!1},"_errorSteps")})}a(Wt,"pullWithBYOBReader");function yt(){if(u)return p=!0,c(void 0);u=!0;let L=Fo(B._readableStreamController);return L===null?jr():Wt(L._view,!1),c(void 0)}a(yt,"pull1Algorithm");function pe(){if(u)return g=!0,c(void 0);u=!0;let L=Fo(M._readableStreamController);return L===null?jr():Wt(L._view,!0),c(void 0)}a(pe,"pull2Algorithm");function be(L){if(b=!0,I=L,_){let N=Cn([I,z]),G=He(i,N);W(G)}return Y}a(be,"cancel1Algorithm");function Ie(L){if(_=!0,z=L,b){let N=Cn([I,z]),G=He(i,N);W(G)}return Y}a(Ie,"cancel2Algorithm");function _t(){}return a(_t,"startAlgorithm"),B=Rf(_t,yt,be),M=Rf(_t,pe,Ie),Ze(s),[B,M]}a(sb,"ReadableByteStreamTee");function lb(i){return r(i)&&typeof i.getReader<"u"}a(lb,"isReadableStreamLike");function ub(i){return lb(i)?cb(i.getReader()):fb(i)}a(ub,"ReadableStreamFrom");function fb(i){let s,u=qu(i,"async"),p=t;function g(){let _;try{_=tg(u)}catch(z){return h(z)}let I=c(_);return A(I,z=>{if(!r(z))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(rg(z))sr(s._readableStreamController);else{let M=ng(z);qr(s._readableStreamController,M)}})}a(g,"pullAlgorithm");function b(_){let I=u.iterator,z;try{z=Li(I,"return")}catch(W){return h(W)}if(z===void 0)return c(void 0);let B;try{B=k(z,I,[_])}catch(W){return h(W)}let M=c(B);return A(M,W=>{if(!r(W))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return a(b,"cancelAlgorithm"),s=Ln(p,g,b,0),s}a(fb,"ReadableStreamFromIterable");function cb(i){let s,u=t;function p(){let b;try{b=i.read()}catch(_){return h(_)}return A(b,_=>{if(!r(_))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(_.done)sr(s._readableStreamController);else{let I=_.value;qr(s._readableStreamController,I)}})}a(p,"pullAlgorithm");function g(b){try{return c(i.cancel(b))}catch(_){return h(_)}}return a(g,"cancelAlgorithm"),s=Ln(u,p,g,0),s}a(cb,"ReadableStreamFromDefaultReader");function db(i,s){Je(i,s);let u=i,p=u==null?void 0:u.autoAllocateChunkSize,g=u==null?void 0:u.cancel,b=u==null?void 0:u.pull,_=u==null?void 0:u.start,I=u==null?void 0:u.type;return{autoAllocateChunkSize:p===void 0?void 0:vo(p,`${s} has member 'autoAllocateChunkSize' that`),cancel:g===void 0?void 0:hb(g,u,`${s} has member 'cancel' that`),pull:b===void 0?void 0:pb(b,u,`${s} has member 'pull' that`),start:_===void 0?void 0:mb(_,u,`${s} has member 'start' that`),type:I===void 0?void 0:gb(I,`${s} has member 'type' that`)}}a(db,"convertUnderlyingDefaultOrByteSource");function hb(i,s,u){return Ce(i,u),p=>C(i,s,[p])}a(hb,"convertUnderlyingSourceCancelCallback");function pb(i,s,u){return Ce(i,u),p=>C(i,s,[p])}a(pb,"convertUnderlyingSourcePullCallback");function mb(i,s,u){return Ce(i,u),p=>k(i,s,[p])}a(mb,"convertUnderlyingSourceStartCallback");function gb(i,s){if(i=`${i}`,i!=="bytes")throw new TypeError(`${s} '${i}' is not a valid enumeration value for ReadableStreamType`);return i}a(gb,"convertReadableStreamType");function bb(i,s){return Je(i,s),{preventCancel:!!(i==null?void 0:i.preventCancel)}}a(bb,"convertIteratorOptions");function Sf(i,s){Je(i,s);let u=i==null?void 0:i.preventAbort,p=i==null?void 0:i.preventCancel,g=i==null?void 0:i.preventClose,b=i==null?void 0:i.signal;return b!==void 0&&yb(b,`${s} has member 'signal' that`),{preventAbort:!!u,preventCancel:!!p,preventClose:!!g,signal:b}}a(Sf,"convertPipeOptions");function yb(i,s){if(!kg(i))throw new TypeError(`${s} is not an AbortSignal.`)}a(yb,"assertAbortSignal");function _b(i,s){Je(i,s);let u=i==null?void 0:i.readable;yo(u,"readable","ReadableWritablePair"),wo(u,`${s} has member 'readable' that`);let p=i==null?void 0:i.writable;return yo(p,"writable","ReadableWritablePair"),rf(p,`${s} has member 'writable' that`),{readable:u,writable:p}}a(_b,"convertReadableWritablePair");let ls=class ls{constructor(s={},u={}){s===void 0?s=null:ku(s,"First parameter");let p=Hi(u,"Second parameter"),g=db(s,"First parameter");if(Yo(this),g.type==="bytes"){if(p.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let b=On(p,0);hg(this,g,b)}else{let b=ji(p),_=On(p,1);ib(this,g,_,b)}}get locked(){if(!Mt(this))throw lr("locked");return Ut(this)}cancel(s=void 0){return Mt(this)?Ut(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):He(this,s):h(lr("cancel"))}getReader(s=void 0){if(!Mt(this))throw lr("getReader");return mg(s,"First parameter").mode===void 0?Fr(this):Xu(this)}pipeThrough(s,u={}){if(!Mt(this))throw lr("pipeThrough");mt(s,1,"pipeThrough");let p=_b(s,"First parameter"),g=Sf(u,"Second parameter");if(Ut(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Lr(p.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let b=_f(this,p.writable,g.preventClose,g.preventAbort,g.preventCancel,g.signal);return E(b),p.readable}pipeTo(s,u={}){if(!Mt(this))return h(lr("pipeTo"));if(s===void 0)return h("Parameter 1 is required in 'pipeTo'.");if(!Dr(s))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let p;try{p=Sf(u,"Second parameter")}catch(g){return h(g)}return Ut(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Lr(s)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_f(this,s,p.preventClose,p.preventAbort,p.preventCancel,p.signal)}tee(){if(!Mt(this))throw lr("tee");let s=ab(this);return Cn(s)}values(s=void 0){if(!Mt(this))throw lr("values");let u=bb(s,"First parameter");return Jm(this,u.preventCancel)}[ko](s){return this.values(s)}static from(s){return ub(s)}};a(ls,"ReadableStream");let oe=ls;Object.defineProperties(oe,{from:{enumerable:!0}}),Object.defineProperties(oe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),o(oe.from,"from"),o(oe.prototype.cancel,"cancel"),o(oe.prototype.getReader,"getReader"),o(oe.prototype.pipeThrough,"pipeThrough"),o(oe.prototype.pipeTo,"pipeTo"),o(oe.prototype.tee,"tee"),o(oe.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(oe.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(oe.prototype,ko,{value:oe.prototype.values,writable:!0,configurable:!0});function Ln(i,s,u,p=1,g=()=>1){let b=Object.create(oe.prototype);Yo(b);let _=Object.create(Ne.prototype);return wf(b,_,i,s,u,p,g),b}a(Ln,"CreateReadableStream");function Rf(i,s,u){let p=Object.create(oe.prototype);Yo(p);let g=Object.create(Ue.prototype);return Ku(p,g,i,s,u,0,void 0),p}a(Rf,"CreateReadableByteStream");function Yo(i){i._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1}a(Yo,"InitializeReadableStream");function Mt(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_readableStreamController")?!1:i instanceof oe}a(Mt,"IsReadableStream");function Ut(i){return i._reader!==void 0}a(Ut,"IsReadableStreamLocked");function He(i,s){if(i._disturbed=!0,i._state==="closed")return c(void 0);if(i._state==="errored")return h(i._storedError);qn(i);let u=i._reader;if(u!==void 0&&ir(u)){let g=u._readIntoRequests;u._readIntoRequests=new T,g.forEach(b=>{b._closeSteps(void 0)})}let p=i._readableStreamController[D](s);return A(p,t)}a(He,"ReadableStreamCancel");function qn(i){i._state="closed";let s=i._reader;if(s!==void 0&&(Tu(s),Dt(s))){let u=s._readRequests;s._readRequests=new T,u.forEach(p=>{p._closeSteps()})}}a(qn,"ReadableStreamClose");function Tf(i,s){i._state="errored",i._storedError=s;let u=i._reader;u!==void 0&&(Bt(u,s),Dt(u)?Pu(u,s):tf(u,s))}a(Tf,"ReadableStreamError");function lr(i){return new TypeError(`ReadableStream.prototype.${i} can only be used on a ReadableStream`)}a(lr,"streamBrandCheckException$1");function xf(i,s){Je(i,s);let u=i==null?void 0:i.highWaterMark;return yo(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:_o(u)}}a(xf,"convertQueuingStrategyInit");let kf=a(i=>i.byteLength,"byteLengthSizeFunction");o(kf,"size");let us=class us{constructor(s){mt(s,1,"ByteLengthQueuingStrategy"),s=xf(s,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=s.highWaterMark}get highWaterMark(){if(!Af(this))throw Ef("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Af(this))throw Ef("size");return kf}};a(us,"ByteLengthQueuingStrategy");let Mr=us;Object.defineProperties(Mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Mr.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ef(i){return new TypeError(`ByteLengthQueuingStrategy.prototype.${i} can only be used on a ByteLengthQueuingStrategy`)}a(Ef,"byteLengthBrandCheckException");function Af(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_byteLengthQueuingStrategyHighWaterMark")?!1:i instanceof Mr}a(Af,"IsByteLengthQueuingStrategy");let Cf=a(()=>1,"countSizeFunction");o(Cf,"size");let fs=class fs{constructor(s){mt(s,1,"CountQueuingStrategy"),s=xf(s,"First parameter"),this._countQueuingStrategyHighWaterMark=s.highWaterMark}get highWaterMark(){if(!If(this))throw Pf("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!If(this))throw Pf("size");return Cf}};a(fs,"CountQueuingStrategy");let Ur=fs;Object.defineProperties(Ur.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ur.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Pf(i){return new TypeError(`CountQueuingStrategy.prototype.${i} can only be used on a CountQueuingStrategy`)}a(Pf,"countBrandCheckException");function If(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_countQueuingStrategyHighWaterMark")?!1:i instanceof Ur}a(If,"IsCountQueuingStrategy");function vb(i,s){Je(i,s);let u=i==null?void 0:i.cancel,p=i==null?void 0:i.flush,g=i==null?void 0:i.readableType,b=i==null?void 0:i.start,_=i==null?void 0:i.transform,I=i==null?void 0:i.writableType;return{cancel:u===void 0?void 0:Tb(u,i,`${s} has member 'cancel' that`),flush:p===void 0?void 0:wb(p,i,`${s} has member 'flush' that`),readableType:g,start:b===void 0?void 0:Sb(b,i,`${s} has member 'start' that`),transform:_===void 0?void 0:Rb(_,i,`${s} has member 'transform' that`),writableType:I}}a(vb,"convertTransformer");function wb(i,s,u){return Ce(i,u),p=>C(i,s,[p])}a(wb,"convertTransformerFlushCallback");function Sb(i,s,u){return Ce(i,u),p=>k(i,s,[p])}a(Sb,"convertTransformerStartCallback");function Rb(i,s,u){return Ce(i,u),(p,g)=>C(i,s,[p,g])}a(Rb,"convertTransformerTransformCallback");function Tb(i,s,u){return Ce(i,u),p=>C(i,s,[p])}a(Tb,"convertTransformerCancelCallback");let cs=class cs{constructor(s={},u={},p={}){s===void 0&&(s=null);let g=Hi(u,"Second parameter"),b=Hi(p,"Third parameter"),_=vb(s,"First parameter");if(_.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(_.writableType!==void 0)throw new RangeError("Invalid writableType specified");let I=On(b,0),z=ji(b),B=On(g,1),M=ji(g),W,Y=m(Ze=>{W=Ze});xb(this,Y,B,M,I,z),Eb(this,_),_.start!==void 0?W(_.start(this._transformStreamController)):W(void 0)}get readable(){if(!Of(this))throw Lf("readable");return this._readable}get writable(){if(!Of(this))throw Lf("writable");return this._writable}};a(cs,"TransformStream");let Wr=cs;Object.defineProperties(Wr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Wr.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function xb(i,s,u,p,g,b){function _(){return s}a(_,"startAlgorithm");function I(Y){return Pb(i,Y)}a(I,"writeAlgorithm");function z(Y){return Ib(i,Y)}a(z,"abortAlgorithm");function B(){return Ob(i)}a(B,"closeAlgorithm"),i._writable=Cg(_,I,B,z,u,p);function M(){return Fb(i)}a(M,"pullAlgorithm");function W(Y){return Bb(i,Y)}a(W,"cancelAlgorithm"),i._readable=Ln(_,M,W,g,b),i._backpressure=void 0,i._backpressureChangePromise=void 0,i._backpressureChangePromise_resolve=void 0,ta(i,!0),i._transformStreamController=void 0}a(xb,"InitializeTransformStream");function Of(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_transformStreamController")?!1:i instanceof Wr}a(Of,"IsTransformStream");function Ff(i,s){je(i._readable._readableStreamController,s),Go(i,s)}a(Ff,"TransformStreamError");function Go(i,s){na(i._transformStreamController),Fn(i._writable._writableStreamController,s),Ko(i)}a(Go,"TransformStreamErrorWritableAndUnblockWrite");function Ko(i){i._backpressure&&ta(i,!1)}a(Ko,"TransformStreamUnblockWrite");function ta(i,s){i._backpressureChangePromise!==void 0&&i._backpressureChangePromise_resolve(),i._backpressureChangePromise=m(u=>{i._backpressureChangePromise_resolve=u}),i._backpressure=s}a(ta,"TransformStreamSetBackpressure");let ds=class ds{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ra(this))throw ia("desiredSize");let s=this._controlledTransformStream._readable._readableStreamController;return Vo(s)}enqueue(s=void 0){if(!ra(this))throw ia("enqueue");Bf(this,s)}error(s=void 0){if(!ra(this))throw ia("error");Ab(this,s)}terminate(){if(!ra(this))throw ia("terminate");Cb(this)}};a(ds,"TransformStreamDefaultController");let it=ds;Object.defineProperties(it.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),o(it.prototype.enqueue,"enqueue"),o(it.prototype.error,"error"),o(it.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(it.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function ra(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledTransformStream")?!1:i instanceof it}a(ra,"IsTransformStreamDefaultController");function kb(i,s,u,p,g){s._controlledTransformStream=i,i._transformStreamController=s,s._transformAlgorithm=u,s._flushAlgorithm=p,s._cancelAlgorithm=g,s._finishPromise=void 0,s._finishPromise_resolve=void 0,s._finishPromise_reject=void 0}a(kb,"SetUpTransformStreamDefaultController");function Eb(i,s){let u=Object.create(it.prototype),p,g,b;s.transform!==void 0?p=a(_=>s.transform(_,u),"transformAlgorithm"):p=a(_=>{try{return Bf(u,_),c(void 0)}catch(I){return h(I)}},"transformAlgorithm"),s.flush!==void 0?g=a(()=>s.flush(u),"flushAlgorithm"):g=a(()=>c(void 0),"flushAlgorithm"),s.cancel!==void 0?b=a(_=>s.cancel(_),"cancelAlgorithm"):b=a(()=>c(void 0),"cancelAlgorithm"),kb(i,u,p,g,b)}a(Eb,"SetUpTransformStreamDefaultControllerFromTransformer");function na(i){i._transformAlgorithm=void 0,i._flushAlgorithm=void 0,i._cancelAlgorithm=void 0}a(na,"TransformStreamDefaultControllerClearAlgorithms");function Bf(i,s){let u=i._controlledTransformStream,p=u._readable._readableStreamController;if(!zr(p))throw new TypeError("Readable side is not in a state that permits enqueue");try{qr(p,s)}catch(b){throw Go(u,b),u._readable._storedError}nb(p)!==u._backpressure&&ta(u,!0)}a(Bf,"TransformStreamDefaultControllerEnqueue");function Ab(i,s){Ff(i._controlledTransformStream,s)}a(Ab,"TransformStreamDefaultControllerError");function Df(i,s){let u=i._transformAlgorithm(s);return A(u,void 0,p=>{throw Ff(i._controlledTransformStream,p),p})}a(Df,"TransformStreamDefaultControllerPerformTransform");function Cb(i){let s=i._controlledTransformStream,u=s._readable._readableStreamController;sr(u);let p=new TypeError("TransformStream terminated");Go(s,p)}a(Cb,"TransformStreamDefaultControllerTerminate");function Pb(i,s){let u=i._transformStreamController;if(i._backpressure){let p=i._backpressureChangePromise;return A(p,()=>{let g=i._writable;if(g._state==="erroring")throw g._storedError;return Df(u,s)})}return Df(u,s)}a(Pb,"TransformStreamDefaultSinkWriteAlgorithm");function Ib(i,s){let u=i._transformStreamController;if(u._finishPromise!==void 0)return u._finishPromise;let p=i._readable;u._finishPromise=m((b,_)=>{u._finishPromise_resolve=b,u._finishPromise_reject=_});let g=u._cancelAlgorithm(s);return na(u),y(g,()=>(p._state==="errored"?Nr(u,p._storedError):(je(p._readableStreamController,s),Xo(u)),null),b=>(je(p._readableStreamController,b),Nr(u,b),null)),u._finishPromise}a(Ib,"TransformStreamDefaultSinkAbortAlgorithm");function Ob(i){let s=i._transformStreamController;if(s._finishPromise!==void 0)return s._finishPromise;let u=i._readable;s._finishPromise=m((g,b)=>{s._finishPromise_resolve=g,s._finishPromise_reject=b});let p=s._flushAlgorithm();return na(s),y(p,()=>(u._state==="errored"?Nr(s,u._storedError):(sr(u._readableStreamController),Xo(s)),null),g=>(je(u._readableStreamController,g),Nr(s,g),null)),s._finishPromise}a(Ob,"TransformStreamDefaultSinkCloseAlgorithm");function Fb(i){return ta(i,!1),i._backpressureChangePromise}a(Fb,"TransformStreamDefaultSourcePullAlgorithm");function Bb(i,s){let u=i._transformStreamController;if(u._finishPromise!==void 0)return u._finishPromise;let p=i._writable;u._finishPromise=m((b,_)=>{u._finishPromise_resolve=b,u._finishPromise_reject=_});let g=u._cancelAlgorithm(s);return na(u),y(g,()=>(p._state==="errored"?Nr(u,p._storedError):(Fn(p._writableStreamController,s),Ko(i),Xo(u)),null),b=>(Fn(p._writableStreamController,b),Ko(i),Nr(u,b),null)),u._finishPromise}a(Bb,"TransformStreamDefaultSourceCancelAlgorithm");function ia(i){return new TypeError(`TransformStreamDefaultController.prototype.${i} can only be used on a TransformStreamDefaultController`)}a(ia,"defaultControllerBrandCheckException");function Xo(i){i._finishPromise_resolve!==void 0&&(i._finishPromise_resolve(),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}a(Xo,"defaultControllerFinishPromiseResolve");function Nr(i,s){i._finishPromise_reject!==void 0&&(E(i._finishPromise),i._finishPromise_reject(s),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}a(Nr,"defaultControllerFinishPromiseReject");function Lf(i){return new TypeError(`TransformStream.prototype.${i} can only be used on a TransformStream`)}a(Lf,"streamBrandCheckException"),e.ByteLengthQueuingStrategy=Mr,e.CountQueuingStrategy=Ur,e.ReadableByteStreamController=Ue,e.ReadableStream=oe,e.ReadableStreamBYOBReader=tt,e.ReadableStreamBYOBRequest=bt,e.ReadableStreamDefaultController=Ne,e.ReadableStreamDefaultReader=et,e.TransformStream=Wr,e.TransformStreamDefaultController=it,e.WritableStream=rt,e.WritableStreamDefaultController=zt,e.WritableStreamDefaultWriter=We})});var Zf=P(()=>{if(!globalThis.ReadableStream)try{let e=require("process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,Hf())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=a(function(r){let n=0,o=this;return new ReadableStream({type:"bytes",async pull(l){let d=await o.slice(n,Math.min(o.size,n+65536)).arrayBuffer();n+=d.byteLength,l.enqueue(new Uint8Array(d)),n===o.size&&l.close()}})},"name"))}catch{}});async function*ps(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let n=r.byteOffset,o=r.byteOffset+r.byteLength;for(;n!==o;){let l=Math.min(o-n,$f),f=r.buffer.slice(n,n+l);n+=f.byteLength,yield new Uint8Array(f)}}else yield r;else{let n=0,o=r;for(;n!==o.size;){let f=await o.slice(n,Math.min(o.size,n+$f)).arrayBuffer();n+=f.byteLength,yield new Uint8Array(f)}}}var Kw,$f,vt,Un,Vr,sa,Nt,Vf,Nb,wt,Wn=Mn(()=>{Kw=Oe(Zf(),1);$f=65536;a(ps,"toIterator");Vf=(Nt=class{constructor(t=[],r={}){$e(this,vt,[]);$e(this,Un,"");$e(this,Vr,0);$e(this,sa,"transparent");if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let l of t){let f;ArrayBuffer.isView(l)?f=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?f=new Uint8Array(l.slice(0)):l instanceof Nt?f=l:f=n.encode(`${l}`),Se(this,Vr,te(this,Vr)+(ArrayBuffer.isView(f)?f.byteLength:f.size)),te(this,vt).push(f)}Se(this,sa,`${r.endings===void 0?"transparent":r.endings}`);let o=r.type===void 0?"":String(r.type);Se(this,Un,/^[\x20-\x7E]*$/.test(o)?o:"")}get size(){return te(this,Vr)}get type(){return te(this,Un)}async text(){let t=new TextDecoder,r="";for await(let n of ps(te(this,vt),!1))r+=t.decode(n,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let n of ps(te(this,vt),!1))t.set(n,r),r+=n.length;return t.buffer}stream(){let t=ps(te(this,vt),!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await t.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,n=""){let{size:o}=this,l=t<0?Math.max(o+t,0):Math.min(t,o),f=r<0?Math.max(o+r,0):Math.min(r,o),d=Math.max(f-l,0),m=te(this,vt),c=[],h=0;for(let y of m){if(h>=d)break;let w=ArrayBuffer.isView(y)?y.byteLength:y.size;if(l&&w<=l)l-=w,f-=w;else{let v;ArrayBuffer.isView(y)?(v=y.subarray(l,Math.min(w,f)),h+=v.byteLength):(v=y.slice(l,Math.min(w,f)),h+=v.size),f-=w,c.push(v),l=0}}let x=new Nt([],{type:String(n).toLowerCase()});return Se(x,Vr,d),Se(x,vt,c),x}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}},vt=new WeakMap,Un=new WeakMap,Vr=new WeakMap,sa=new WeakMap,a(Nt,"Blob"),Nt);Object.defineProperties(Vf.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Nb=Vf,wt=Nb});var Nn,jn,Yr,jb,Hb,Gr,ms=Mn(()=>{Wn();jb=(Yr=class extends wt{constructor(r,n,o={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,o);$e(this,Nn,0);$e(this,jn,"");o===null&&(o={});let l=o.lastModified===void 0?Date.now():Number(o.lastModified);Number.isNaN(l)||Se(this,Nn,l),Se(this,jn,String(n))}get name(){return te(this,jn)}get lastModified(){return te(this,Nn)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof wt&&/^(File)$/.test(r[Symbol.toStringTag])}},Nn=new WeakMap,jn=new WeakMap,a(Yr,"File"),Yr),Hb=jb,Gr=Hb});function Kf(e,t=wt){var r=`${Yf()}${Yf()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],o=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((l,f)=>typeof l=="string"?n.push(o+gs(f)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(o+gs(f)+`"; filename="${gs(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}var Hn,Zb,$b,Yf,Vb,Gf,gs,ur,Fe,Kr,fr,la=Mn(()=>{Wn();ms();({toStringTag:Hn,iterator:Zb,hasInstance:$b}=Symbol),Yf=Math.random,Vb="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Gf=a((e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[Hn])?[(r=r!==void 0?r+"":t[Hn]=="File"?t.name:"blob",e),t.name!==r||t[Hn]=="blob"?new Gr([t],r,t):t]:[e,t+""]),"f"),gs=a((e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"e"),ur=a((e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)},"x"),fr=(Kr=class{constructor(...t){$e(this,Fe,[]);if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Hn](){return"FormData"}[Zb](){return this.entries()}static[$b](t){return t&&typeof t=="object"&&t[Hn]==="FormData"&&!Vb.some(r=>typeof t[r]!="function")}append(...t){ur("append",arguments,2),te(this,Fe).push(Gf(...t))}delete(t){ur("delete",arguments,1),t+="",Se(this,Fe,te(this,Fe).filter(([r])=>r!==t))}get(t){ur("get",arguments,1),t+="";for(var r=te(this,Fe),n=r.length,o=0;o<n;o++)if(r[o][0]===t)return r[o][1];return null}getAll(t,r){return ur("getAll",arguments,1),r=[],t+="",te(this,Fe).forEach(n=>n[0]===t&&r.push(n[1])),r}has(t){return ur("has",arguments,1),t+="",te(this,Fe).some(r=>r[0]===t)}forEach(t,r){ur("forEach",arguments,1);for(var[n,o]of this)t.call(r,o,n,this)}set(...t){ur("set",arguments,2);var r=[],n=!0;t=Gf(...t),te(this,Fe).forEach(o=>{o[0]===t[0]?n&&(n=!r.push(t)):r.push(o)}),n&&r.push(t),Se(this,Fe,r)}*entries(){yield*te(this,Fe)}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}},Fe=new WeakMap,a(Kr,"FormData"),Kr);a(Kf,"formDataToBlob")});var tc=P((hS,ec)=>{if(!globalThis.DOMException)try{let{MessageChannel:e}=require("worker_threads"),t=new e().port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){e.constructor.name==="DOMException"&&(globalThis.DOMException=e.constructor)}ec.exports=globalThis.DOMException});var fa,Yb,gS,vs=Mn(()=>{fa=require("fs"),Yb=Oe(tc(),1);ms();Wn();({stat:gS}=fa.promises)});var nc={};Mf(nc,{toFormData:()=>ty});function ey(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(o,l)=>String.fromCharCode(l)),n}async function ty(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new ws(r[1]||r[2]),o,l,f,d,m,c,h=[],x=new fr,y=a(S=>{f+=E.decode(S,{stream:!0})},"onPartData"),w=a(S=>{h.push(S)},"appendToFile"),v=a(()=>{let S=new Gr(h,c,{type:m});x.append(d,S)},"appendFileToFormData"),A=a(()=>{x.append(d,f)},"appendEntryToFormData"),E=new TextDecoder("utf-8");E.decode(),n.onPartBegin=function(){n.onPartData=y,n.onPartEnd=A,o="",l="",f="",d="",m="",c=null,h.length=0},n.onHeaderField=function(S){o+=E.decode(S,{stream:!0})},n.onHeaderValue=function(S){l+=E.decode(S,{stream:!0})},n.onHeaderEnd=function(){if(l+=E.decode(),o=o.toLowerCase(),o==="content-disposition"){let S=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);S&&(d=S[2]||S[3]||""),c=ey(l),c&&(n.onPartData=w,n.onPartEnd=v)}else o==="content-type"&&(m=l);l="",o=""};for await(let S of e)n.write(S);return n.end(),x}var at,K,rc,jt,ca,da,Gb,$n,Kb,Xb,Qb,Jb,cr,Ss,ws,ic=Mn(()=>{vs();la();at=0,K={START_BOUNDARY:at++,HEADER_FIELD_START:at++,HEADER_FIELD:at++,HEADER_VALUE_START:at++,HEADER_VALUE:at++,HEADER_VALUE_ALMOST_DONE:at++,HEADERS_ALMOST_DONE:at++,PART_DATA_START:at++,PART_DATA:at++,END:at++},rc=1,jt={PART_BOUNDARY:rc,LAST_BOUNDARY:rc*=2},ca=10,da=13,Gb=32,$n=45,Kb=58,Xb=97,Qb=122,Jb=a(e=>e|32,"lower"),cr=a(()=>{},"noop"),Ss=class Ss{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=cr,this.onHeaderField=cr,this.onHeadersEnd=cr,this.onHeaderValue=cr,this.onPartBegin=cr,this.onPartData=cr,this.onPartEnd=cr,this.boundaryChars={},t=`\r
--`+t;let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=K.START_BOUNDARY}write(t){let r=0,n=t.length,o=this.index,{lookbehind:l,boundary:f,boundaryChars:d,index:m,state:c,flags:h}=this,x=this.boundary.length,y=x-1,w=t.length,v,A,E=a(R=>{this[R+"Mark"]=r},"mark"),S=a(R=>{delete this[R+"Mark"]},"clear"),k=a((R,T,O,q)=>{(T===void 0||T!==O)&&this[R](q&&q.subarray(T,O))},"callback"),C=a((R,T)=>{let O=R+"Mark";O in this&&(T?(k(R,this[O],r,t),delete this[O]):(k(R,this[O],t.length,t),this[O]=0))},"dataCallback");for(r=0;r<n;r++)switch(v=t[r],c){case K.START_BOUNDARY:if(m===f.length-2){if(v===$n)h|=jt.LAST_BOUNDARY;else if(v!==da)return;m++;break}else if(m-1===f.length-2){if(h&jt.LAST_BOUNDARY&&v===$n)c=K.END,h=0;else if(!(h&jt.LAST_BOUNDARY)&&v===ca)m=0,k("onPartBegin"),c=K.HEADER_FIELD_START;else return;break}v!==f[m+2]&&(m=-2),v===f[m+2]&&m++;break;case K.HEADER_FIELD_START:c=K.HEADER_FIELD,E("onHeaderField"),m=0;case K.HEADER_FIELD:if(v===da){S("onHeaderField"),c=K.HEADERS_ALMOST_DONE;break}if(m++,v===$n)break;if(v===Kb){if(m===1)return;C("onHeaderField",!0),c=K.HEADER_VALUE_START;break}if(A=Jb(v),A<Xb||A>Qb)return;break;case K.HEADER_VALUE_START:if(v===Gb)break;E("onHeaderValue"),c=K.HEADER_VALUE;case K.HEADER_VALUE:v===da&&(C("onHeaderValue",!0),k("onHeaderEnd"),c=K.HEADER_VALUE_ALMOST_DONE);break;case K.HEADER_VALUE_ALMOST_DONE:if(v!==ca)return;c=K.HEADER_FIELD_START;break;case K.HEADERS_ALMOST_DONE:if(v!==ca)return;k("onHeadersEnd"),c=K.PART_DATA_START;break;case K.PART_DATA_START:c=K.PART_DATA,E("onPartData");case K.PART_DATA:if(o=m,m===0){for(r+=y;r<w&&!(t[r]in d);)r+=x;r-=y,v=t[r]}if(m<f.length)f[m]===v?(m===0&&C("onPartData",!0),m++):m=0;else if(m===f.length)m++,v===da?h|=jt.PART_BOUNDARY:v===$n?h|=jt.LAST_BOUNDARY:m=0;else if(m-1===f.length)if(h&jt.PART_BOUNDARY){if(m=0,v===ca){h&=~jt.PART_BOUNDARY,k("onPartEnd"),k("onPartBegin"),c=K.HEADER_FIELD_START;break}}else h&jt.LAST_BOUNDARY&&v===$n?(k("onPartEnd"),c=K.END,h=0):m=0;if(m>0)l[m-1]=v;else if(o>0){let R=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);k("onPartData",0,o,R),o=0,E("onPartData"),r--}break;case K.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}C("onHeaderField"),C("onHeaderValue"),C("onPartData"),this.index=m,this.state=c,this.flags=h}end(){if(this.state===K.HEADER_FIELD_START&&this.index===0||this.state===K.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==K.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}};a(Ss,"MultipartParser");ws=Ss;a(ey,"_fileName");a(ty,"toFormData")});var Kn=P((gR,As)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?As.exports={nextTick:uy}:As.exports=process;function uy(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,l,f;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(a(function(){e.call(null,t)},"afterTickOne"));case 3:return process.nextTick(a(function(){e.call(null,t,r)},"afterTickTwo"));case 4:return process.nextTick(a(function(){e.call(null,t,r,n)},"afterTickThree"));default:for(l=new Array(o-1),f=0;f<l.length;)l[f++]=arguments[f];return process.nextTick(a(function(){e.apply(null,l)},"afterTick"))}}a(uy,"nextTick")});var Sc=P((yR,wc)=>{var fy={}.toString;wc.exports=Array.isArray||function(e){return fy.call(e)=="[object Array]"}});var Cs=P((_R,Rc)=>{Rc.exports=require("stream")});var Xn=P((Ps,xc)=>{var va=require("buffer"),Tt=va.Buffer;function Tc(e,t){for(var r in e)t[r]=e[r]}a(Tc,"copyProps");Tt.from&&Tt.alloc&&Tt.allocUnsafe&&Tt.allocUnsafeSlow?xc.exports=va:(Tc(va,Ps),Ps.Buffer=Jr);function Jr(e,t,r){return Tt(e,t,r)}a(Jr,"SafeBuffer");Tc(Tt,Jr);Jr.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Tt(e,t,r)};Jr.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Tt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Jr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Tt(e)};Jr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return va.SlowBuffer(e)}});var en=P(de=>{function cy(e){return Array.isArray?Array.isArray(e):wa(e)==="[object Array]"}a(cy,"isArray");de.isArray=cy;function dy(e){return typeof e=="boolean"}a(dy,"isBoolean");de.isBoolean=dy;function hy(e){return e===null}a(hy,"isNull");de.isNull=hy;function py(e){return e==null}a(py,"isNullOrUndefined");de.isNullOrUndefined=py;function my(e){return typeof e=="number"}a(my,"isNumber");de.isNumber=my;function gy(e){return typeof e=="string"}a(gy,"isString");de.isString=gy;function by(e){return typeof e=="symbol"}a(by,"isSymbol");de.isSymbol=by;function yy(e){return e===void 0}a(yy,"isUndefined");de.isUndefined=yy;function _y(e){return wa(e)==="[object RegExp]"}a(_y,"isRegExp");de.isRegExp=_y;function vy(e){return typeof e=="object"&&e!==null}a(vy,"isObject");de.isObject=vy;function wy(e){return wa(e)==="[object Date]"}a(wy,"isDate");de.isDate=wy;function Sy(e){return wa(e)==="[object Error]"||e instanceof Error}a(Sy,"isError");de.isError=Sy;function Ry(e){return typeof e=="function"}a(Ry,"isFunction");de.isFunction=Ry;function Ty(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(Ty,"isPrimitive");de.isPrimitive=Ty;de.isBuffer=require("buffer").Buffer.isBuffer;function wa(e){return Object.prototype.toString.call(e)}a(wa,"objectToString")});var kc=P((RR,Is)=>{typeof Object.create=="function"?Is.exports=a(function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):Is.exports=a(function(t,r){if(r){t.super_=r;var n=a(function(){},"TempCtor");n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}},"inherits")});var tn=P((xR,Fs)=>{try{if(Os=require("util"),typeof Os.inherits!="function")throw"";Fs.exports=Os.inherits}catch{Fs.exports=kc()}var Os});var Ac=P((kR,Bs)=>{"use strict";function xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(xy,"_classCallCheck");var Ec=Xn().Buffer,Qn=require("util");function ky(e,t,r){e.copy(t,r)}a(ky,"copyBuffer");Bs.exports=function(){function e(){xy(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o},"join"),e.prototype.concat=a(function(r){if(this.length===0)return Ec.alloc(0);for(var n=Ec.allocUnsafe(r>>>0),o=this.head,l=0;o;)ky(o.data,n,l),l+=o.data.length,o=o.next;return n},"concat"),e}();Qn&&Qn.inspect&&Qn.inspect.custom&&(Bs.exports.prototype[Qn.inspect.custom]=function(){var e=Qn.inspect({length:this.length});return this.constructor.name+" "+e})});var Ds=P((AR,Cc)=>{"use strict";var Sa=Kn();function Ey(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Sa.nextTick(Ra,this,e)):Sa.nextTick(Ra,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(l){!t&&l?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Sa.nextTick(Ra,r,l)):Sa.nextTick(Ra,r,l):t&&t(l)}),this)}a(Ey,"destroy");function Ay(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(Ay,"undestroy");function Ra(e,t){e.emit("error",t)}a(Ra,"emitErrorNT");Cc.exports={destroy:Ey,undestroy:Ay}});var Ic=P((PR,Pc)=>{Pc.exports=require("util").deprecate});var qs=P((IR,Mc)=>{"use strict";var mr=Kn();Mc.exports=ne;function Fc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){$y(t,e)}}a(Fc,"CorkedRequest");var Cy=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:mr.nextTick,rn;ne.WritableState=ei;var Bc=Object.create(en());Bc.inherits=tn();var Py={deprecate:Ic()},Dc=Cs(),xa=Xn().Buffer,Iy=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Oy(e){return xa.from(e)}a(Oy,"_uint8ArrayToBuffer");function Fy(e){return xa.isBuffer(e)||e instanceof Iy}a(Fy,"_isUint8Array");var Lc=Ds();Bc.inherits(ne,Dc);function By(){}a(By,"nop");function ei(e,t){rn=rn||gr(),e=e||{};var r=t instanceof rn;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,o=e.writableHighWaterMark,l=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(o||o===0)?this.highWaterMark=o:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=e.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(d){Wy(t,d)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fc(this)}a(ei,"WritableState");ei.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(ei.prototype,"buffer",{get:Py.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ta;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ta=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:a(function(e){return Ta.call(this,e)?!0:this!==ne?!1:e&&e._writableState instanceof ei},"value")})):Ta=a(function(e){return e instanceof this},"realHasInstance");function ne(e){if(rn=rn||gr(),!Ta.call(ne,this)&&!(this instanceof rn))return new ne(e);this._writableState=new ei(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Dc.call(this)}a(ne,"Writable");ne.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Dy(e,t){var r=new Error("write after end");e.emit("error",r),mr.nextTick(t,r)}a(Dy,"writeAfterEnd");function Ly(e,t,r,n){var o=!0,l=!1;return r===null?l=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(l=new TypeError("Invalid non-string/buffer chunk")),l&&(e.emit("error",l),mr.nextTick(n,l),o=!1),o}a(Ly,"validChunk");ne.prototype.write=function(e,t,r){var n=this._writableState,o=!1,l=!n.objectMode&&Fy(e);return l&&!xa.isBuffer(e)&&(e=Oy(e)),typeof t=="function"&&(r=t,t=null),l?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=By),n.ended?Dy(this,r):(l||Ly(this,n,e,r))&&(n.pendingcb++,o=zy(this,n,l,e,t,r)),o};ne.prototype.cork=function(){var e=this._writableState;e.corked++};ne.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&qc(this,e))};ne.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function qy(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=xa.from(t,r)),t}a(qy,"decodeChunk");Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});function zy(e,t,r,n,o,l){if(!r){var f=qy(t,n,o);n!==f&&(r=!0,o="buffer",n=f)}var d=t.objectMode?1:n.length;t.length+=d;var m=t.length<t.highWaterMark;if(m||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:l,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ls(e,t,!1,d,n,o,l);return m}a(zy,"writeOrBuffer");function Ls(e,t,r,n,o,l,f){t.writelen=n,t.writecb=f,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,l,t.onwrite),t.sync=!1}a(Ls,"doWrite");function My(e,t,r,n,o){--t.pendingcb,r?(mr.nextTick(o,n),mr.nextTick(Jn,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),Jn(e,t))}a(My,"onwriteError");function Uy(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(Uy,"onwriteStateUpdate");function Wy(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(Uy(r),t)My(e,r,n,t,o);else{var l=zc(r);!l&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&qc(e,r),n?Cy(Oc,e,r,l,o):Oc(e,r,l,o)}}a(Wy,"onwrite");function Oc(e,t,r,n){r||Ny(e,t),t.pendingcb--,n(),Jn(e,t)}a(Oc,"afterWrite");function Ny(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(Ny,"onwriteDrain");function qc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),l=t.corkedRequestsFree;l.entry=r;for(var f=0,d=!0;r;)o[f]=r,r.isBuf||(d=!1),r=r.next,f+=1;o.allBuffers=d,Ls(e,t,!0,t.length,o,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new Fc(t),t.bufferedRequestCount=0}else{for(;r;){var m=r.chunk,c=r.encoding,h=r.callback,x=t.objectMode?1:m.length;if(Ls(e,t,!1,x,m,c,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(qc,"clearBuffer");ne.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ne.prototype._writev=null;ne.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Zy(this,n,r)};function zc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(zc,"needFinish");function jy(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Jn(e,t)})}a(jy,"callFinal");function Hy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,mr.nextTick(jy,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(Hy,"prefinish");function Jn(e,t){var r=zc(t);return r&&(Hy(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(Jn,"finishMaybe");function Zy(e,t,r){t.ending=!0,Jn(e,t),r&&(t.finished?mr.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(Zy,"endWritable");function $y(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}a($y,"onCorkedFinish");Object.defineProperty(ne.prototype,"destroyed",{get:a(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:a(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});ne.prototype.destroy=Lc.destroy;ne.prototype._undestroy=Lc.undestroy;ne.prototype._destroy=function(e,t){this.end(),t(e)}});var gr=P((FR,jc)=>{"use strict";var Uc=Kn(),Vy=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};jc.exports=xt;var Wc=Object.create(en());Wc.inherits=tn();var Nc=Us(),Ms=qs();Wc.inherits(xt,Nc);for(zs=Vy(Ms.prototype),ka=0;ka<zs.length;ka++)Ea=zs[ka],xt.prototype[Ea]||(xt.prototype[Ea]=Ms.prototype[Ea]);var zs,Ea,ka;function xt(e){if(!(this instanceof xt))return new xt(e);Nc.call(this,e),Ms.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Yy)}a(xt,"Duplex");Object.defineProperty(xt.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});function Yy(){this.allowHalfOpen||this._writableState.ended||Uc.nextTick(Gy,this)}a(Yy,"onend");function Gy(e){e.end()}a(Gy,"onEndNT");Object.defineProperty(xt.prototype,"destroyed",{get:a(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:a(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")});xt.prototype._destroy=function(e,t){this.push(null),this.end(),Uc.nextTick(t,e)}});var js=P(Zc=>{"use strict";var Ns=Xn().Buffer,Hc=Ns.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ky(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(Ky,"_normalizeEncoding");function Xy(e){var t=Ky(e);if(typeof t!="string"&&(Ns.isEncoding===Hc||!Hc(e)))throw new Error("Unknown encoding: "+e);return t||e}a(Xy,"normalizeEncoding");Zc.StringDecoder=ti;function ti(e){this.encoding=Xy(e);var t;switch(this.encoding){case"utf16le":this.text=n_,this.end=i_,t=4;break;case"utf8":this.fillLast=e_,t=4;break;case"base64":this.text=a_,this.end=o_,t=3;break;default:this.write=s_,this.end=l_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ns.allocUnsafe(t)}a(ti,"StringDecoder");ti.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};ti.prototype.end=r_;ti.prototype.text=t_;ti.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ws(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(Ws,"utf8CheckByte");function Qy(e,t,r){var n=t.length-1;if(n<r)return 0;var o=Ws(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||o===-2?0:(o=Ws(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||o===-2?0:(o=Ws(t[n]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}a(Qy,"utf8CheckIncomplete");function Jy(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(Jy,"utf8CheckExtraBytes");function e_(e){var t=this.lastTotal-this.lastNeed,r=Jy(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(e_,"utf8FillLast");function t_(e,t){var r=Qy(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(t_,"utf8Text");function r_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(r_,"utf8End");function n_(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(n_,"utf16Text");function i_(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(i_,"utf16End");function a_(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(a_,"base64Text");function o_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(o_,"base64End");function s_(e){return e.toString(this.encoding)}a(s_,"simpleWrite");function l_(e){return e&&e.length?this.write(e):""}a(l_,"simpleEnd")});var Us=P((zR,nd)=>{"use strict";var an=Kn();nd.exports=Q;var u_=Sc(),ri;Q.ReadableState=Qc;var qR=require("events").EventEmitter,Gc=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),Ys=Cs(),ni=Xn().Buffer,f_=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c_(e){return ni.from(e)}a(c_,"_uint8ArrayToBuffer");function d_(e){return ni.isBuffer(e)||e instanceof f_}a(d_,"_isUint8Array");var Kc=Object.create(en());Kc.inherits=tn();var Hs=require("util"),Z=void 0;Hs&&Hs.debuglog?Z=Hs.debuglog("stream"):Z=a(function(){},"debug");var h_=Ac(),Xc=Ds(),nn;Kc.inherits(Q,Ys);var Zs=["error","close","destroy","pause","resume"];function p_(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):u_(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(p_,"prependListener");function Qc(e,t){ri=ri||gr(),e=e||{};var r=t instanceof ri;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,o=e.readableHighWaterMark,l=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(o||o===0)?this.highWaterMark=o:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h_,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(nn||(nn=js().StringDecoder),this.decoder=new nn(e.encoding),this.encoding=e.encoding)}a(Qc,"ReadableState");function Q(e){if(ri=ri||gr(),!(this instanceof Q))return new Q(e);this._readableState=new Qc(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ys.call(this)}a(Q,"Readable");Object.defineProperty(Q.prototype,"destroyed",{get:a(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:a(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});Q.prototype.destroy=Xc.destroy;Q.prototype._undestroy=Xc.undestroy;Q.prototype._destroy=function(e,t){this.push(null),t(e)};Q.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=ni.from(e,t),t=""),n=!0),Jc(this,e,t,!1,n)};Q.prototype.unshift=function(e){return Jc(this,e,null,!0,!1)};function Jc(e,t,r,n,o){var l=e._readableState;if(t===null)l.reading=!1,y_(e,l);else{var f;o||(f=m_(l,t)),f?e.emit("error",f):l.objectMode||t&&t.length>0?(typeof t!="string"&&!l.objectMode&&Object.getPrototypeOf(t)!==ni.prototype&&(t=c_(t)),n?l.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):$s(e,l,t,!0):l.ended?e.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||t.length!==0?$s(e,l,t,!1):ed(e,l)):$s(e,l,t,!1))):n||(l.reading=!1)}return g_(l)}a(Jc,"readableAddChunk");function $s(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Aa(e)),ed(e,t)}a($s,"addChunk");function m_(e,t){var r;return!d_(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(m_,"chunkInvalid");function g_(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(g_,"needMoreData");Q.prototype.isPaused=function(){return this._readableState.flowing===!1};Q.prototype.setEncoding=function(e){return nn||(nn=js().StringDecoder),this._readableState.decoder=new nn(e),this._readableState.encoding=e,this};var $c=8388608;function b_(e){return e>=$c?e=$c:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(b_,"computeNewHighWaterMark");function Vc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=b_(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(Vc,"howMuchToRead");Q.prototype.read=function(e){Z("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Z("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Vs(this):Aa(this),null;if(e=Vc(e,t),e===0&&t.ended)return t.length===0&&Vs(this),null;var n=t.needReadable;Z("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Z("length less than watermark",n)),t.ended||t.reading?(n=!1,Z("reading or ended",n)):n&&(Z("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Vc(r,t)));var o;return e>0?o=td(e,t):o=null,o===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Vs(this)),o!==null&&this.emit("data",o),o};function y_(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Aa(e)}}a(y_,"onEofChunk");function Aa(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Z("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?an.nextTick(Yc,e):Yc(e))}a(Aa,"emitReadable");function Yc(e){Z("emit readable"),e.emit("readable"),Gs(e)}a(Yc,"emitReadable_");function ed(e,t){t.readingMore||(t.readingMore=!0,an.nextTick(__,e,t))}a(ed,"maybeReadMore");function __(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Z("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(__,"maybeReadMore_");Q.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Q.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Z("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,l=o?d:E;n.endEmitted?an.nextTick(l):r.once("end",l),e.on("unpipe",f);function f(S,k){Z("onunpipe"),S===r&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,h())}a(f,"onunpipe");function d(){Z("onend"),e.end()}a(d,"onend");var m=v_(r);e.on("drain",m);var c=!1;function h(){Z("cleanup"),e.removeListener("close",v),e.removeListener("finish",A),e.removeListener("drain",m),e.removeListener("error",w),e.removeListener("unpipe",f),r.removeListener("end",d),r.removeListener("end",E),r.removeListener("data",y),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&m()}a(h,"cleanup");var x=!1;r.on("data",y);function y(S){Z("ondata"),x=!1;var k=e.write(S);k===!1&&!x&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&rd(n.pipes,e)!==-1)&&!c&&(Z("false write response, pause",n.awaitDrain),n.awaitDrain++,x=!0),r.pause())}a(y,"ondata");function w(S){Z("onerror",S),E(),e.removeListener("error",w),Gc(e,"error")===0&&e.emit("error",S)}a(w,"onerror"),p_(e,"error",w);function v(){e.removeListener("finish",A),E()}a(v,"onclose"),e.once("close",v);function A(){Z("onfinish"),e.removeListener("close",v),E()}a(A,"onfinish"),e.once("finish",A);function E(){Z("unpipe"),r.unpipe(e)}return a(E,"unpipe"),e.emit("pipe",r),n.flowing||(Z("pipe resume"),r.resume()),e};function v_(e){return function(){var t=e._readableState;Z("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Gc(e,"data")&&(t.flowing=!0,Gs(e))}}a(v_,"pipeOnDrain");Q.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var l=0;l<o;l++)n[l].emit("unpipe",this,{hasUnpiped:!1});return this}var f=rd(t.pipes,e);return f===-1?this:(t.pipes.splice(f,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Q.prototype.on=function(e,t){var r=Ys.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Aa(this):an.nextTick(w_,this))}return r};Q.prototype.addListener=Q.prototype.on;function w_(e){Z("readable nexttick read 0"),e.read(0)}a(w_,"nReadingNextTick");Q.prototype.resume=function(){var e=this._readableState;return e.flowing||(Z("resume"),e.flowing=!0,S_(this,e)),this};function S_(e,t){t.resumeScheduled||(t.resumeScheduled=!0,an.nextTick(R_,e,t))}a(S_,"resume");function R_(e,t){t.reading||(Z("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Gs(e),t.flowing&&!t.reading&&e.read(0)}a(R_,"resume_");Q.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Gs(e){var t=e._readableState;for(Z("flow",t.flowing);t.flowing&&e.read()!==null;);}a(Gs,"flow");Q.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Z("wrapped end"),r.decoder&&!r.ended){var f=r.decoder.end();f&&f.length&&t.push(f)}t.push(null)}),e.on("data",function(f){if(Z("wrapped data"),r.decoder&&(f=r.decoder.write(f)),!(r.objectMode&&f==null)&&!(!r.objectMode&&(!f||!f.length))){var d=t.push(f);d||(n=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(f){return function(){return e[f].apply(e,arguments)}}(o));for(var l=0;l<Zs.length;l++)e.on(Zs[l],this.emit.bind(this,Zs[l]));return this._read=function(f){Z("wrapped _read",f),n&&(n=!1,e.resume())},this};Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:a(function(){return this._readableState.highWaterMark},"get")});Q._fromList=td;function td(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=T_(e,t.buffer,t.decoder),r}a(td,"fromList");function T_(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?x_(e,t):k_(e,t),n}a(T_,"fromListPartial");function x_(e,t){var r=t.head,n=1,o=r.data;for(e-=o.length;r=r.next;){var l=r.data,f=e>l.length?l.length:e;if(f===l.length?o+=l:o+=l.slice(0,e),e-=f,e===0){f===l.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=l.slice(f));break}++n}return t.length-=n,o}a(x_,"copyFromBufferString");function k_(e,t){var r=ni.allocUnsafe(e),n=t.head,o=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var l=n.data,f=e>l.length?l.length:e;if(l.copy(r,r.length-e,0,f),e-=f,e===0){f===l.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=l.slice(f));break}++o}return t.length-=o,r}a(k_,"copyFromBuffer");function Vs(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,an.nextTick(E_,t,e))}a(Vs,"endReadable");function E_(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(E_,"endReadableNT");function rd(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(rd,"indexOf")});var Ks=P((UR,od)=>{"use strict";od.exports=kt;var Ca=gr(),ad=Object.create(en());ad.inherits=tn();ad.inherits(kt,Ca);function A_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}a(A_,"afterTransform");function kt(e){if(!(this instanceof kt))return new kt(e);Ca.call(this,e),this._transformState={afterTransform:A_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",C_)}a(kt,"Transform");function C_(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){id(e,t,r)}):id(this,null,null)}a(C_,"prefinish");kt.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ca.prototype.push.call(this,e,t)};kt.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};kt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};kt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};kt.prototype._destroy=function(e,t){var r=this;Ca.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function id(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(id,"done")});var fd=P((NR,ud)=>{"use strict";ud.exports=ii;var sd=Ks(),ld=Object.create(en());ld.inherits=tn();ld.inherits(ii,sd);function ii(e){if(!(this instanceof ii))return new ii(e);sd.call(this,e)}a(ii,"PassThrough");ii.prototype._transform=function(e,t,r){r(null,e)}});var Xs=P((ue,Pa)=>{var st=require("stream");process.env.READABLE_STREAM==="disable"&&st?(Pa.exports=st,ue=Pa.exports=st.Readable,ue.Readable=st.Readable,ue.Writable=st.Writable,ue.Duplex=st.Duplex,ue.Transform=st.Transform,ue.PassThrough=st.PassThrough,ue.Stream=st):(ue=Pa.exports=Us(),ue.Stream=st||ue,ue.Readable=ue,ue.Writable=qs(),ue.Duplex=gr(),ue.Transform=Ks(),ue.PassThrough=fd())});var Et=P(ke=>{"use strict";ke.base64=!0;ke.array=!0;ke.string=!0;ke.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";ke.nodebuffer=typeof Buffer<"u";ke.uint8array=typeof Uint8Array<"u";if(typeof ArrayBuffer>"u")ke.blob=!1;else{Qs=new ArrayBuffer(0);try{ke.blob=new Blob([Qs],{type:"application/zip"}).size===0}catch{try{cd=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,Js=new cd,Js.append(Qs),ke.blob=Js.getBlob("application/zip").size===0}catch{ke.blob=!1}}}var Qs,cd,Js;try{ke.nodestream=!!Xs().Readable}catch{ke.nodestream=!1}});var tl=P(el=>{"use strict";var P_=ee(),I_=Et(),lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";el.encode=function(e){for(var t=[],r,n,o,l,f,d,m,c=0,h=e.length,x=h,y=P_.getTypeOf(e)!=="string";c<e.length;)x=h-c,y?(r=e[c++],n=c<h?e[c++]:0,o=c<h?e[c++]:0):(r=e.charCodeAt(c++),n=c<h?e.charCodeAt(c++):0,o=c<h?e.charCodeAt(c++):0),l=r>>2,f=(r&3)<<4|n>>4,d=x>1?(n&15)<<2|o>>6:64,m=x>2?o&63:64,t.push(lt.charAt(l)+lt.charAt(f)+lt.charAt(d)+lt.charAt(m));return t.join("")};el.decode=function(e){var t,r,n,o,l,f,d,m=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9+/=]/g,"");var x=e.length*3/4;if(e.charAt(e.length-1)===lt.charAt(64)&&x--,e.charAt(e.length-2)===lt.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var y;for(I_.uint8array?y=new Uint8Array(x|0):y=new Array(x|0);m<e.length;)o=lt.indexOf(e.charAt(m++)),l=lt.indexOf(e.charAt(m++)),f=lt.indexOf(e.charAt(m++)),d=lt.indexOf(e.charAt(m++)),t=o<<2|l>>4,r=(l&15)<<4|f>>2,n=(f&3)<<6|d,y[c++]=t,f!==64&&(y[c++]=r),d!==64&&(y[c++]=n);return y}});var ai=P(($R,dd)=>{"use strict";dd.exports={isNode:typeof Buffer<"u",newBufferFrom:a(function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},"newBufferFrom"),allocBuffer:a(function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},"allocBuffer"),isBuffer:a(function(e){return Buffer.isBuffer(e)},"isBuffer"),isStream:a(function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"},"isStream")}});var gd=P((YR,md)=>{"use strict";var hd=global.MutationObserver||global.WebKitMutationObserver,on;process.browser?hd?(rl=0,pd=new hd(oi),nl=global.document.createTextNode(""),pd.observe(nl,{characterData:!0}),on=a(function(){nl.data=rl=++rl%2},"scheduleDrain")):!global.setImmediate&&typeof global.MessageChannel<"u"?(il=new global.MessageChannel,il.port1.onmessage=oi,on=a(function(){il.port2.postMessage(0)},"scheduleDrain")):"document"in global&&"onreadystatechange"in global.document.createElement("script")?on=a(function(){var e=global.document.createElement("script");e.onreadystatechange=function(){oi(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)},"scheduleDrain"):on=a(function(){setTimeout(oi,0)},"scheduleDrain"):on=a(function(){process.nextTick(oi)},"scheduleDrain");var rl,pd,nl,il,al,si=[];function oi(){al=!0;for(var e,t,r=si.length;r;){for(t=si,si=[],e=-1;++e<r;)t[e]();r=si.length}al=!1}a(oi,"nextTick");md.exports=O_;function O_(e){si.push(e)===1&&!al&&on()}a(O_,"immediate")});var Rd=P((KR,Sd)=>{"use strict";var bd=gd();function sn(){}a(sn,"INTERNAL");var he={},yd=["REJECTED"],ol=["FULFILLED"],_d=["PENDING"];process.browser||(li=["UNHANDLED"]);var li;Sd.exports=Ht;function Ht(e){if(typeof e!="function")throw new TypeError("resolver must be a function");this.state=_d,this.queue=[],this.outcome=void 0,process.browser||(this.handled=li),e!==sn&&vd(this,e)}a(Ht,"Promise");Ht.prototype.finally=function(e){if(typeof e!="function")return this;var t=this.constructor;return this.then(r,n);function r(o){function l(){return o}return a(l,"yes"),t.resolve(e()).then(l)}function n(o){function l(){throw o}return a(l,"no"),t.resolve(e()).then(l)}};Ht.prototype.catch=function(e){return this.then(null,e)};Ht.prototype.then=function(e,t){if(typeof e!="function"&&this.state===ol||typeof t!="function"&&this.state===yd)return this;var r=new this.constructor(sn);if(process.browser||this.handled===li&&(this.handled=null),this.state!==_d){var n=this.state===ol?e:t;sl(r,n,this.outcome)}else this.queue.push(new ui(r,e,t));return r};function ui(e,t,r){this.promise=e,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}a(ui,"QueueItem");ui.prototype.callFulfilled=function(e){he.resolve(this.promise,e)};ui.prototype.otherCallFulfilled=function(e){sl(this.promise,this.onFulfilled,e)};ui.prototype.callRejected=function(e){he.reject(this.promise,e)};ui.prototype.otherCallRejected=function(e){sl(this.promise,this.onRejected,e)};function sl(e,t,r){bd(function(){var n;try{n=t(r)}catch(o){return he.reject(e,o)}n===e?he.reject(e,new TypeError("Cannot resolve promise with itself")):he.resolve(e,n)})}a(sl,"unwrap");he.resolve=function(e,t){var r=wd(F_,t);if(r.status==="error")return he.reject(e,r.value);var n=r.value;if(n)vd(e,n);else{e.state=ol,e.outcome=t;for(var o=-1,l=e.queue.length;++o<l;)e.queue[o].callFulfilled(t)}return e};he.reject=function(e,t){e.state=yd,e.outcome=t,process.browser||e.handled===li&&bd(function(){e.handled===li&&process.emit("unhandledRejection",t,e)});for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e};function F_(e){var t=e&&e.then;if(e&&(typeof e=="object"||typeof e=="function")&&typeof t=="function")return a(function(){t.apply(e,arguments)},"appyThen")}a(F_,"getThen");function vd(e,t){var r=!1;function n(d){r||(r=!0,he.reject(e,d))}a(n,"onError");function o(d){r||(r=!0,he.resolve(e,d))}a(o,"onSuccess");function l(){t(o,n)}a(l,"tryToUnwrap");var f=wd(l);f.status==="error"&&n(f.value)}a(vd,"safelyResolveThenable");function wd(e,t){var r={};try{r.value=e(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}a(wd,"tryCatch");Ht.resolve=B_;function B_(e){return e instanceof this?e:he.resolve(new this(sn),e)}a(B_,"resolve");Ht.reject=D_;function D_(e){var t=new this(sn);return he.reject(t,e)}a(D_,"reject");Ht.all=L_;function L_(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),l=0,f=-1,d=new this(sn);++f<r;)m(e[f],f);return d;function m(c,h){t.resolve(c).then(x,function(y){n||(n=!0,he.reject(d,y))});function x(y){o[h]=y,++l===r&&!n&&(n=!0,he.resolve(d,o))}a(x,"resolveFromAll")}}a(L_,"all");Ht.race=q_;function q_(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=-1,l=new this(sn);++o<r;)f(e[o]);return l;function f(d){t.resolve(d).then(function(m){n||(n=!0,he.resolve(l,m))},function(m){n||(n=!0,he.reject(l,m))})}}a(q_,"race")});var ln=P((QR,Td)=>{"use strict";var ll=null;typeof Promise<"u"?ll=Promise:ll=Rd();Td.exports={Promise:ll}});var kd=P(xd=>{(function(e,t){"use strict";if(e.setImmediate)return;var r=1,n={},o=!1,l=e.document,f;function d(k){typeof k!="function"&&(k=new Function(""+k));for(var C=new Array(arguments.length-1),R=0;R<C.length;R++)C[R]=arguments[R+1];var T={callback:k,args:C};return n[r]=T,f(r),r++}a(d,"setImmediate");function m(k){delete n[k]}a(m,"clearImmediate");function c(k){var C=k.callback,R=k.args;switch(R.length){case 0:C();break;case 1:C(R[0]);break;case 2:C(R[0],R[1]);break;case 3:C(R[0],R[1],R[2]);break;default:C.apply(t,R);break}}a(c,"run");function h(k){if(o)setTimeout(h,0,k);else{var C=n[k];if(C){o=!0;try{c(C)}finally{m(k),o=!1}}}}a(h,"runIfPresent");function x(){f=a(function(k){process.nextTick(function(){h(k)})},"registerImmediate")}a(x,"installNextTickImplementation");function y(){if(e.postMessage&&!e.importScripts){var k=!0,C=e.onmessage;return e.onmessage=function(){k=!1},e.postMessage("","*"),e.onmessage=C,k}}a(y,"canUsePostMessage");function w(){var k="setImmediate$"+Math.random()+"$",C=a(function(R){R.source===e&&typeof R.data=="string"&&R.data.indexOf(k)===0&&h(+R.data.slice(k.length))},"onGlobalMessage");e.addEventListener?e.addEventListener("message",C,!1):e.attachEvent("onmessage",C),f=a(function(R){e.postMessage(k+R,"*")},"registerImmediate")}a(w,"installPostMessageImplementation");function v(){var k=new MessageChannel;k.port1.onmessage=function(C){var R=C.data;h(R)},f=a(function(C){k.port2.postMessage(C)},"registerImmediate")}a(v,"installMessageChannelImplementation");function A(){var k=l.documentElement;f=a(function(C){var R=l.createElement("script");R.onreadystatechange=function(){h(C),R.onreadystatechange=null,k.removeChild(R),R=null},k.appendChild(R)},"registerImmediate")}a(A,"installReadyStateChangeImplementation");function E(){f=a(function(k){setTimeout(h,0,k)},"registerImmediate")}a(E,"installSetTimeoutImplementation");var S=Object.getPrototypeOf&&Object.getPrototypeOf(e);S=S&&S.setTimeout?S:e,{}.toString.call(e.process)==="[object process]"?x():y()?w():e.MessageChannel?v():l&&"onreadystatechange"in l.createElement("script")?A():E(),S.setImmediate=d,S.clearImmediate=m})(typeof self>"u"?typeof global>"u"?xd:global:self)});var ee=P(ie=>{"use strict";var Zt=Et(),z_=tl(),un=ai(),ul=ln();kd();function M_(e){var t=null;return Zt.uint8array?t=new Uint8Array(e.length):t=new Array(e.length),Oa(e,t)}a(M_,"string2binary");ie.newBlob=function(e,t){ie.checkSupport("blob");try{return new Blob([e],{type:t})}catch{try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,n=new r;return n.append(e),n.getBlob(t)}catch{throw new Error("Bug : can't construct the Blob.")}}};function fi(e){return e}a(fi,"identity");function Oa(e,t){for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)&255;return t}a(Oa,"stringToArrayLike");var Ia={stringifyByChunk:a(function(e,t,r){var n=[],o=0,l=e.length;if(l<=r)return String.fromCharCode.apply(null,e);for(;o<l;)t==="array"||t==="nodebuffer"?n.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+r,l)))):n.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+r,l)))),o+=r;return n.join("")},"stringifyByChunk"),stringifyByChar:a(function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},"stringifyByChar"),applyCanBeUsed:{uint8array:function(){try{return Zt.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return Zt.nodebuffer&&String.fromCharCode.apply(null,un.allocBuffer(1)).length===1}catch{return!1}}()}};function ci(e){var t=65536,r=ie.getTypeOf(e),n=!0;if(r==="uint8array"?n=Ia.applyCanBeUsed.uint8array:r==="nodebuffer"&&(n=Ia.applyCanBeUsed.nodebuffer),n)for(;t>1;)try{return Ia.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return Ia.stringifyByChar(e)}a(ci,"arrayLikeToString");ie.applyFromCharCode=ci;function Fa(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a(Fa,"arrayLikeToArrayLike");var $t={};$t.string={string:fi,array:a(function(e){return Oa(e,new Array(e.length))},"array"),arraybuffer:a(function(e){return $t.string.uint8array(e).buffer},"arraybuffer"),uint8array:a(function(e){return Oa(e,new Uint8Array(e.length))},"uint8array"),nodebuffer:a(function(e){return Oa(e,un.allocBuffer(e.length))},"nodebuffer")};$t.array={string:ci,array:fi,arraybuffer:a(function(e){return new Uint8Array(e).buffer},"arraybuffer"),uint8array:a(function(e){return new Uint8Array(e)},"uint8array"),nodebuffer:a(function(e){return un.newBufferFrom(e)},"nodebuffer")};$t.arraybuffer={string:a(function(e){return ci(new Uint8Array(e))},"string"),array:a(function(e){return Fa(new Uint8Array(e),new Array(e.byteLength))},"array"),arraybuffer:fi,uint8array:a(function(e){return new Uint8Array(e)},"uint8array"),nodebuffer:a(function(e){return un.newBufferFrom(new Uint8Array(e))},"nodebuffer")};$t.uint8array={string:ci,array:a(function(e){return Fa(e,new Array(e.length))},"array"),arraybuffer:a(function(e){return e.buffer},"arraybuffer"),uint8array:fi,nodebuffer:a(function(e){return un.newBufferFrom(e)},"nodebuffer")};$t.nodebuffer={string:ci,array:a(function(e){return Fa(e,new Array(e.length))},"array"),arraybuffer:a(function(e){return $t.nodebuffer.uint8array(e).buffer},"arraybuffer"),uint8array:a(function(e){return Fa(e,new Uint8Array(e.length))},"uint8array"),nodebuffer:fi};ie.transformTo=function(e,t){if(t||(t=""),!e)return t;ie.checkSupport(e);var r=ie.getTypeOf(t),n=$t[r][e](t);return n};ie.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var o=t[n];o==="."||o===""&&n!==0&&n!==t.length-1||(o===".."?r.pop():r.push(o))}return r.join("/")};ie.getTypeOf=function(e){if(typeof e=="string")return"string";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if(Zt.nodebuffer&&un.isBuffer(e))return"nodebuffer";if(Zt.uint8array&&e instanceof Uint8Array)return"uint8array";if(Zt.arraybuffer&&e instanceof ArrayBuffer)return"arraybuffer"};ie.checkSupport=function(e){var t=Zt[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")};ie.MAX_VALUE_16BITS=65535;ie.MAX_VALUE_32BITS=-1;ie.pretty=function(e){var t="",r,n;for(n=0;n<(e||"").length;n++)r=e.charCodeAt(n),t+="\\x"+(r<16?"0":"")+r.toString(16).toUpperCase();return t};ie.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})};ie.inherits=function(e,t){var r=a(function(){},"Obj");r.prototype=t.prototype,e.prototype=new r};ie.extend=function(){var e={},t,r;for(t=0;t<arguments.length;t++)for(r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&typeof e[r]>"u"&&(e[r]=arguments[t][r]);return e};ie.prepareContent=function(e,t,r,n,o){var l=ul.Promise.resolve(t).then(function(f){var d=Zt.blob&&(f instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(f))!==-1);return d&&typeof FileReader<"u"?new ul.Promise(function(m,c){var h=new FileReader;h.onload=function(x){m(x.target.result)},h.onerror=function(x){c(x.target.error)},h.readAsArrayBuffer(f)}):f});return l.then(function(f){var d=ie.getTypeOf(f);return d?(d==="arraybuffer"?f=ie.transformTo("uint8array",f):d==="string"&&(o?f=z_.decode(f):r&&n!==!0&&(f=M_(f))),f):ul.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});var Ee=P((nT,Ad)=>{"use strict";function Ed(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a(Ed,"GenericWorker");Ed.prototype={push:a(function(e){this.emit("data",e)},"push"),end:a(function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},"end"),error:a(function(e){return this.isFinished?!1:(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},"error"),on:a(function(e,t){return this._listeners[e].push(t),this},"on"),cleanUp:a(function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},"cleanUp"),emit:a(function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},"emit"),pipe:a(function(e){return e.registerPrevious(this)},"pipe"),registerPrevious:a(function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.end()}),e.on("error",function(r){t.error(r)}),this},"registerPrevious"),pause:a(function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},"pause"),resume:a(function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},"resume"),flush:a(function(){},"flush"),processChunk:a(function(e){this.push(e)},"processChunk"),withStreamInfo:a(function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},"withStreamInfo"),mergeStreamInfo:a(function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},"mergeStreamInfo"),lock:a(function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},"lock"),toString:a(function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e},"toString")};Ad.exports=Ed});var cn=P(Vt=>{"use strict";var fn=ee(),br=Et(),U_=ai(),Ba=Ee(),di=new Array(256);for(At=0;At<256;At++)di[At]=At>=252?6:At>=248?5:At>=240?4:At>=224?3:At>=192?2:1;var At;di[254]=di[254]=1;var W_=a(function(e){var t,r,n,o,l,f=e.length,d=0;for(o=0;o<f;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(br.uint8array?t=new Uint8Array(d):t=new Array(d),l=0,o=0;l<d;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[l++]=r:r<2048?(t[l++]=192|r>>>6,t[l++]=128|r&63):r<65536?(t[l++]=224|r>>>12,t[l++]=128|r>>>6&63,t[l++]=128|r&63):(t[l++]=240|r>>>18,t[l++]=128|r>>>12&63,t[l++]=128|r>>>6&63,t[l++]=128|r&63);return t},"string2buf"),N_=a(function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+di[e[r]]>t?r:t},"utf8border"),j_=a(function(e){var t,r,n,o,l=e.length,f=new Array(l*2);for(r=0,t=0;t<l;){if(n=e[t++],n<128){f[r++]=n;continue}if(o=di[n],o>4){f[r++]=65533,t+=o-1;continue}for(n&=o===2?31:o===3?15:7;o>1&&t<l;)n=n<<6|e[t++]&63,o--;if(o>1){f[r++]=65533;continue}n<65536?f[r++]=n:(n-=65536,f[r++]=55296|n>>10&1023,f[r++]=56320|n&1023)}return f.length!==r&&(f.subarray?f=f.subarray(0,r):f.length=r),fn.applyFromCharCode(f)},"buf2string");Vt.utf8encode=a(function(t){return br.nodebuffer?U_.newBufferFrom(t,"utf-8"):W_(t)},"utf8encode");Vt.utf8decode=a(function(t){return br.nodebuffer?fn.transformTo("nodebuffer",t).toString("utf-8"):(t=fn.transformTo(br.uint8array?"uint8array":"array",t),j_(t))},"utf8decode");function Da(){Ba.call(this,"utf-8 decode"),this.leftOver=null}a(Da,"Utf8DecodeWorker");fn.inherits(Da,Ba);Da.prototype.processChunk=function(e){var t=fn.transformTo(br.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(br.uint8array){var r=t;t=new Uint8Array(r.length+this.leftOver.length),t.set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=N_(t),o=t;n!==t.length&&(br.uint8array?(o=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(o=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:Vt.utf8decode(o),meta:e.meta})};Da.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Vt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};Vt.Utf8DecodeWorker=Da;function fl(){Ba.call(this,"utf-8 encode")}a(fl,"Utf8EncodeWorker");fn.inherits(fl,Ba);fl.prototype.processChunk=function(e){this.push({data:Vt.utf8encode(e.data),meta:e.meta})};Vt.Utf8EncodeWorker=fl});var Od=P((sT,Id)=>{"use strict";var Cd=Ee(),Pd=ee();function cl(e){Cd.call(this,"ConvertWorker to "+e),this.destType=e}a(cl,"ConvertWorker");Pd.inherits(cl,Cd);cl.prototype.processChunk=function(e){this.push({data:Pd.transformTo(this.destType,e.data),meta:e.meta})};Id.exports=cl});var Dd=P((uT,Bd)=>{"use strict";var Fd=Xs().Readable,H_=ee();H_.inherits(dl,Fd);function dl(e,t,r){Fd.call(this,t),this._helper=e;var n=this;e.on("data",function(o,l){n.push(o)||n._helper.pause(),r&&r(l)}).on("error",function(o){n.emit("error",o)}).on("end",function(){n.push(null)})}a(dl,"NodejsStreamOutputAdapter");dl.prototype._read=function(){this._helper.resume()};Bd.exports=dl});var hl=P((cT,zd)=>{"use strict";var yr=ee(),Z_=Od(),$_=Ee(),V_=tl(),Y_=Et(),G_=ln(),Ld=null;if(Y_.nodestream)try{Ld=Dd()}catch{}function K_(e,t,r){switch(e){case"blob":return yr.newBlob(yr.transformTo("arraybuffer",t),r);case"base64":return V_.encode(t);default:return yr.transformTo(e,t)}}a(K_,"transformZipOutput");function X_(e,t){var r,n=0,o=null,l=0;for(r=0;r<t.length;r++)l+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(l),r=0;r<t.length;r++)o.set(t[r],n),n+=t[r].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}a(X_,"concat");function Q_(e,t){return new G_.Promise(function(r,n){var o=[],l=e._internalType,f=e._outputType,d=e._mimeType;e.on("data",function(m,c){o.push(m),t&&t(c)}).on("error",function(m){o=[],n(m)}).on("end",function(){try{var m=K_(f,X_(l,o),d);r(m)}catch(c){n(c)}o=[]}).resume()})}a(Q_,"accumulate");function qd(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string";break}try{this._internalType=n,this._outputType=t,this._mimeType=r,yr.checkSupport(n),this._worker=e.pipe(new Z_(n)),e.lock()}catch(o){this._worker=new $_("error"),this._worker.error(o)}}a(qd,"StreamHelper");qd.prototype={accumulate:a(function(e){return Q_(this,e)},"accumulate"),on:a(function(e,t){var r=this;return e==="data"?this._worker.on(e,function(n){t.call(r,n.data,n.meta)}):this._worker.on(e,function(){yr.delay(t,arguments,r)}),this},"on"),resume:a(function(){return yr.delay(this._worker.resume,[],this._worker),this},"resume"),pause:a(function(){return this._worker.pause(),this},"pause"),toNodejsStream:a(function(e){if(yr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Ld(this,{objectMode:this._outputType!=="nodebuffer"},e)},"toNodejsStream")};zd.exports=qd});var pl=P(Ye=>{"use strict";Ye.base64=!1;Ye.binary=!1;Ye.dir=!1;Ye.createFolders=!0;Ye.date=null;Ye.compression=null;Ye.compressionOptions=null;Ye.comment=null;Ye.unixPermissions=null;Ye.dosPermissions=null});var ml=P((pT,Md)=>{"use strict";var La=ee(),qa=Ee(),J_=16*1024;function dn(e){qa.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(r){t.dataIsReady=!0,t.data=r,t.max=r&&r.length||0,t.type=La.getTypeOf(r),t.isPaused||t._tickAndRepeat()},function(r){t.error(r)})}a(dn,"DataWorker");La.inherits(dn,qa);dn.prototype.cleanUp=function(){qa.prototype.cleanUp.call(this),this.data=null};dn.prototype.resume=function(){return qa.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,La.delay(this._tickAndRepeat,[],this)),!0):!1};dn.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(La.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};dn.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=J_,t=null,r=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,r);break;case"uint8array":t=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":t=this.data.slice(this.index,r);break}return this.index=r,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};Md.exports=dn});var za=P((gT,Wd)=>{"use strict";var ev=ee();function tv(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}a(tv,"makeTable");var Ud=tv();function rv(e,t,r,n){var o=Ud,l=n+r;e=e^-1;for(var f=n;f<l;f++)e=e>>>8^o[(e^t[f])&255];return e^-1}a(rv,"crc32");function nv(e,t,r,n){var o=Ud,l=n+r;e=e^-1;for(var f=n;f<l;f++)e=e>>>8^o[(e^t.charCodeAt(f))&255];return e^-1}a(nv,"crc32str");Wd.exports=a(function(t,r){if(typeof t>"u"||!t.length)return 0;var n=ev.getTypeOf(t)!=="string";return n?rv(r|0,t,t.length,0):nv(r|0,t,t.length,0)},"crc32wrapper")});var bl=P((yT,jd)=>{"use strict";var Nd=Ee(),iv=za(),av=ee();function gl(){Nd.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a(gl,"Crc32Probe");av.inherits(gl,Nd);gl.prototype.processChunk=function(e){this.streamInfo.crc32=iv(e.data,this.streamInfo.crc32||0),this.push(e)};jd.exports=gl});var Zd=P((vT,Hd)=>{"use strict";var ov=ee(),yl=Ee();function _l(e){yl.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}a(_l,"DataLengthProbe");ov.inherits(_l,yl);_l.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}yl.prototype.processChunk.call(this,e)};Hd.exports=_l});var Ma=P((ST,Yd)=>{"use strict";var $d=ln(),Vd=ml(),sv=bl(),vl=Zd();function wl(e,t,r,n,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=o}a(wl,"CompressedObject");wl.prototype={getContentWorker:a(function(){var e=new Vd($d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new vl("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},"getContentWorker"),getCompressedWorker:a(function(){return new Vd($d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)},"getCompressedWorker")};wl.createWorkerFrom=function(e,t,r){return e.pipe(new sv).pipe(new vl("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new vl("compressedSize")).withStreamInfo("compression",t)};Yd.exports=wl});var Qd=P((TT,Xd)=>{"use strict";var lv=hl(),uv=ml(),Sl=cn(),Rl=Ma(),Gd=Ee(),Tl=a(function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}},"ZipObject");Tl.prototype={internalStream:a(function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");r=e.toLowerCase();var n=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new Sl.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new Sl.Utf8DecodeWorker))}catch(l){t=new Gd("error"),t.error(l)}return new lv(t,r,"")},"internalStream"),async:a(function(e,t){return this.internalStream(e).accumulate(t)},"async"),nodeStream:a(function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},"nodeStream"),_compressWorker:a(function(e,t){if(this._data instanceof Rl&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new Sl.Utf8EncodeWorker)),Rl.createWorkerFrom(r,e,t)},"_compressWorker"),_decompressWorker:a(function(){return this._data instanceof Rl?this._data.getContentWorker():this._data instanceof Gd?this._data:new uv(this._data)},"_decompressWorker")};var Kd=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],fv=a(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"removedFn");for(Ua=0;Ua<Kd.length;Ua++)Tl.prototype[Kd[Ua]]=fv;var Ua;Xd.exports=Tl});var Ct=P(me=>{"use strict";var cv=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function dv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a(dv,"_has");me.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)dv(r,n)&&(e[n]=r[n])}}return e};me.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var hv={arraySet:a(function(e,t,r,n,o){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),o);return}for(var l=0;l<n;l++)e[o+l]=t[r+l]},"arraySet"),flattenChunks:a(function(e){var t,r,n,o,l,f;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(f=new Uint8Array(n),o=0,t=0,r=e.length;t<r;t++)l=e[t],f.set(l,o),o+=l.length;return f},"flattenChunks")},pv={arraySet:a(function(e,t,r,n,o){for(var l=0;l<n;l++)e[o+l]=t[r+l]},"arraySet"),flattenChunks:a(function(e){return[].concat.apply([],e)},"flattenChunks")};me.setTyped=function(e){e?(me.Buf8=Uint8Array,me.Buf16=Uint16Array,me.Buf32=Int32Array,me.assign(me,hv)):(me.Buf8=Array,me.Buf16=Array,me.Buf32=Array,me.assign(me,pv))};me.setTyped(cv)});var wh=P(mn=>{"use strict";var mv=Ct(),gv=4,Jd=0,eh=1,bv=2;function pn(e){for(var t=e.length;--t>=0;)e[t]=0}a(pn,"zero");var yv=0,oh=1,_v=2,vv=3,wv=258,Il=29,yi=256,pi=yi+1+Il,hn=30,Ol=19,sh=2*pi+1,_r=15,xl=16,Sv=7,Fl=256,lh=16,uh=17,fh=18,Cl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Wa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Rv=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ch=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Tv=512,Pt=new Array((pi+2)*2);pn(Pt);var hi=new Array(hn*2);pn(hi);var mi=new Array(Tv);pn(mi);var gi=new Array(wv-vv+1);pn(gi);var Bl=new Array(Il);pn(Bl);var Na=new Array(hn);pn(Na);function kl(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}a(kl,"StaticTreeDesc");var dh,hh,ph;function El(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}a(El,"TreeDesc");function mh(e){return e<256?mi[e]:mi[256+(e>>>7)]}a(mh,"d_code");function bi(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}a(bi,"put_short");function ve(e,t,r){e.bi_valid>xl-r?(e.bi_buf|=t<<e.bi_valid&65535,bi(e,e.bi_buf),e.bi_buf=t>>xl-e.bi_valid,e.bi_valid+=r-xl):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}a(ve,"send_bits");function ut(e,t,r){ve(e,r[t*2],r[t*2+1])}a(ut,"send_code");function gh(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}a(gh,"bi_reverse");function xv(e){e.bi_valid===16?(bi(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}a(xv,"bi_flush");function kv(e,t){var r=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,m=t.stat_desc.max_length,c,h,x,y,w,v,A=0;for(y=0;y<=_r;y++)e.bl_count[y]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<sh;c++)h=e.heap[c],y=r[r[h*2+1]*2+1]+1,y>m&&(y=m,A++),r[h*2+1]=y,!(h>n)&&(e.bl_count[y]++,w=0,h>=d&&(w=f[h-d]),v=r[h*2],e.opt_len+=v*(y+w),l&&(e.static_len+=v*(o[h*2+1]+w)));if(A!==0){do{for(y=m-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[m]--,A-=2}while(A>0);for(y=m;y!==0;y--)for(h=e.bl_count[y];h!==0;)x=e.heap[--c],!(x>n)&&(r[x*2+1]!==y&&(e.opt_len+=(y-r[x*2+1])*r[x*2],r[x*2+1]=y),h--)}}a(kv,"gen_bitlen");function bh(e,t,r){var n=new Array(_r+1),o=0,l,f;for(l=1;l<=_r;l++)n[l]=o=o+r[l-1]<<1;for(f=0;f<=t;f++){var d=e[f*2+1];d!==0&&(e[f*2]=gh(n[d]++,d))}}a(bh,"gen_codes");function Ev(){var e,t,r,n,o,l=new Array(_r+1);for(r=0,n=0;n<Il-1;n++)for(Bl[n]=r,e=0;e<1<<Cl[n];e++)gi[r++]=n;for(gi[r-1]=n,o=0,n=0;n<16;n++)for(Na[n]=o,e=0;e<1<<Wa[n];e++)mi[o++]=n;for(o>>=7;n<hn;n++)for(Na[n]=o<<7,e=0;e<1<<Wa[n]-7;e++)mi[256+o++]=n;for(t=0;t<=_r;t++)l[t]=0;for(e=0;e<=143;)Pt[e*2+1]=8,e++,l[8]++;for(;e<=255;)Pt[e*2+1]=9,e++,l[9]++;for(;e<=279;)Pt[e*2+1]=7,e++,l[7]++;for(;e<=287;)Pt[e*2+1]=8,e++,l[8]++;for(bh(Pt,pi+1,l),e=0;e<hn;e++)hi[e*2+1]=5,hi[e*2]=gh(e,5);dh=new kl(Pt,Cl,yi+1,pi,_r),hh=new kl(hi,Wa,0,hn,_r),ph=new kl(new Array(0),Rv,0,Ol,Sv)}a(Ev,"tr_static_init");function yh(e){var t;for(t=0;t<pi;t++)e.dyn_ltree[t*2]=0;for(t=0;t<hn;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Ol;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Fl*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}a(yh,"init_block");function _h(e){e.bi_valid>8?bi(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}a(_h,"bi_windup");function Av(e,t,r,n){_h(e),n&&(bi(e,r),bi(e,~r)),mv.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}a(Av,"copy_block");function th(e,t,r,n){var o=t*2,l=r*2;return e[o]<e[l]||e[o]===e[l]&&n[t]<=n[r]}a(th,"smaller");function Al(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&th(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!th(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}a(Al,"pqdownheap");function rh(e,t,r){var n,o,l=0,f,d;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+l*2]<<8|e.pending_buf[e.d_buf+l*2+1],o=e.pending_buf[e.l_buf+l],l++,n===0?ut(e,o,t):(f=gi[o],ut(e,f+yi+1,t),d=Cl[f],d!==0&&(o-=Bl[f],ve(e,o,d)),n--,f=mh(n),ut(e,f,r),d=Wa[f],d!==0&&(n-=Na[f],ve(e,n,d)));while(l<e.last_lit);ut(e,Fl,t)}a(rh,"compress_block");function Pl(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,f,d,m=-1,c;for(e.heap_len=0,e.heap_max=sh,f=0;f<l;f++)r[f*2]!==0?(e.heap[++e.heap_len]=m=f,e.depth[f]=0):r[f*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=m<2?++m:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=n[c*2+1]);for(t.max_code=m,f=e.heap_len>>1;f>=1;f--)Al(e,r,f);c=l;do f=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Al(e,r,1),d=e.heap[1],e.heap[--e.heap_max]=f,e.heap[--e.heap_max]=d,r[c*2]=r[f*2]+r[d*2],e.depth[c]=(e.depth[f]>=e.depth[d]?e.depth[f]:e.depth[d])+1,r[f*2+1]=r[d*2+1]=c,e.heap[1]=c++,Al(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],kv(e,t),bh(r,m,e.bl_count)}a(Pl,"build_tree");function nh(e,t,r){var n,o=-1,l,f=t[0*2+1],d=0,m=7,c=4;for(f===0&&(m=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)l=f,f=t[(n+1)*2+1],!(++d<m&&l===f)&&(d<c?e.bl_tree[l*2]+=d:l!==0?(l!==o&&e.bl_tree[l*2]++,e.bl_tree[lh*2]++):d<=10?e.bl_tree[uh*2]++:e.bl_tree[fh*2]++,d=0,o=l,f===0?(m=138,c=3):l===f?(m=6,c=3):(m=7,c=4))}a(nh,"scan_tree");function ih(e,t,r){var n,o=-1,l,f=t[0*2+1],d=0,m=7,c=4;for(f===0&&(m=138,c=3),n=0;n<=r;n++)if(l=f,f=t[(n+1)*2+1],!(++d<m&&l===f)){if(d<c)do ut(e,l,e.bl_tree);while(--d!==0);else l!==0?(l!==o&&(ut(e,l,e.bl_tree),d--),ut(e,lh,e.bl_tree),ve(e,d-3,2)):d<=10?(ut(e,uh,e.bl_tree),ve(e,d-3,3)):(ut(e,fh,e.bl_tree),ve(e,d-11,7));d=0,o=l,f===0?(m=138,c=3):l===f?(m=6,c=3):(m=7,c=4)}}a(ih,"send_tree");function Cv(e){var t;for(nh(e,e.dyn_ltree,e.l_desc.max_code),nh(e,e.dyn_dtree,e.d_desc.max_code),Pl(e,e.bl_desc),t=Ol-1;t>=3&&e.bl_tree[ch[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}a(Cv,"build_bl_tree");function Pv(e,t,r,n){var o;for(ve(e,t-257,5),ve(e,r-1,5),ve(e,n-4,4),o=0;o<n;o++)ve(e,e.bl_tree[ch[o]*2+1],3);ih(e,e.dyn_ltree,t-1),ih(e,e.dyn_dtree,r-1)}a(Pv,"send_all_trees");function Iv(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Jd;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return eh;for(r=32;r<yi;r++)if(e.dyn_ltree[r*2]!==0)return eh;return Jd}a(Iv,"detect_data_type");var ah=!1;function Ov(e){ah||(Ev(),ah=!0),e.l_desc=new El(e.dyn_ltree,dh),e.d_desc=new El(e.dyn_dtree,hh),e.bl_desc=new El(e.bl_tree,ph),e.bi_buf=0,e.bi_valid=0,yh(e)}a(Ov,"_tr_init");function vh(e,t,r,n){ve(e,(yv<<1)+(n?1:0),3),Av(e,t,r,!0)}a(vh,"_tr_stored_block");function Fv(e){ve(e,oh<<1,3),ut(e,Fl,Pt),xv(e)}a(Fv,"_tr_align");function Bv(e,t,r,n){var o,l,f=0;e.level>0?(e.strm.data_type===bv&&(e.strm.data_type=Iv(e)),Pl(e,e.l_desc),Pl(e,e.d_desc),f=Cv(e),o=e.opt_len+3+7>>>3,l=e.static_len+3+7>>>3,l<=o&&(o=l)):o=l=r+5,r+4<=o&&t!==-1?vh(e,t,r,n):e.strategy===gv||l===o?(ve(e,(oh<<1)+(n?1:0),3),rh(e,Pt,hi)):(ve(e,(_v<<1)+(n?1:0),3),Pv(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),rh(e,e.dyn_ltree,e.dyn_dtree)),yh(e),n&&_h(e)}a(Bv,"_tr_flush_block");function Dv(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(gi[r]+yi+1)*2]++,e.dyn_dtree[mh(t)*2]++),e.last_lit===e.lit_bufsize-1}a(Dv,"_tr_tally");mn._tr_init=Ov;mn._tr_stored_block=vh;mn._tr_flush_block=Bv;mn._tr_tally=Dv;mn._tr_align=Fv});var Dl=P((PT,Sh)=>{"use strict";function Lv(e,t,r,n){for(var o=e&65535|0,l=e>>>16&65535|0,f=0;r!==0;){f=r>2e3?2e3:r,r-=f;do o=o+t[n++]|0,l=l+o|0;while(--f);o%=65521,l%=65521}return o|l<<16|0}a(Lv,"adler32");Sh.exports=Lv});var Ll=P((OT,Rh)=>{"use strict";function qv(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}a(qv,"makeTable");var zv=qv();function Mv(e,t,r,n){var o=zv,l=n+r;e^=-1;for(var f=n;f<l;f++)e=e>>>8^o[(e^t[f])&255];return e^-1}a(Mv,"crc32");Rh.exports=Mv});var ja=P((BT,Th)=>{"use strict";Th.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Fh=P(dt=>{"use strict";var ge=Ct(),Le=wh(),Ah=Dl(),Yt=Ll(),Uv=ja(),Rr=0,Wv=1,Nv=3,Jt=4,xh=5,ct=0,kh=1,qe=-2,jv=-3,ql=-5,Hv=-1,Zv=1,Ha=2,$v=3,Vv=4,Yv=0,Gv=2,Ya=8,Kv=9,Xv=15,Qv=8,Jv=29,e0=256,Ml=e0+1+Jv,t0=30,r0=19,n0=2*Ml+1,i0=15,j=3,Xt=258,Ge=Xt+j+1,a0=32,Ga=42,Ul=69,Za=73,$a=91,Va=103,vr=113,vi=666,ae=1,wi=2,wr=3,yn=4,o0=3;function Qt(e,t){return e.msg=Uv[t],t}a(Qt,"err");function Eh(e){return(e<<1)-(e>4?9:0)}a(Eh,"rank");function Kt(e){for(var t=e.length;--t>=0;)e[t]=0}a(Kt,"zero");function Gt(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(ge.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}a(Gt,"flush_pending");function fe(e,t){Le._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Gt(e.strm)}a(fe,"flush_block_only");function H(e,t){e.pending_buf[e.pending++]=t}a(H,"put_byte");function _i(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}a(_i,"putShortMSB");function s0(e,t,r,n){var o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,ge.arraySet(t,e.input,e.next_in,o,r),e.state.wrap===1?e.adler=Ah(e.adler,t,o,r):e.state.wrap===2&&(e.adler=Yt(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}a(s0,"read_buf");function Ch(e,t){var r=e.max_chain_length,n=e.strstart,o,l,f=e.prev_length,d=e.nice_match,m=e.strstart>e.w_size-Ge?e.strstart-(e.w_size-Ge):0,c=e.window,h=e.w_mask,x=e.prev,y=e.strstart+Xt,w=c[n+f-1],v=c[n+f];e.prev_length>=e.good_match&&(r>>=2),d>e.lookahead&&(d=e.lookahead);do if(o=t,!(c[o+f]!==v||c[o+f-1]!==w||c[o]!==c[n]||c[++o]!==c[n+1])){n+=2,o++;do;while(c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&n<y);if(l=Xt-(y-n),n=y-Xt,l>f){if(e.match_start=t,f=l,l>=d)break;w=c[n+f-1],v=c[n+f]}}while((t=x[t&h])>m&&--r!==0);return f<=e.lookahead?f:e.lookahead}a(Ch,"longest_match");function Sr(e){var t=e.w_size,r,n,o,l,f;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ge)){ge.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do o=e.head[--r],e.head[r]=o>=t?o-t:0;while(--n);n=t,r=n;do o=e.prev[--r],e.prev[r]=o>=t?o-t:0;while(--n);l+=t}if(e.strm.avail_in===0)break;if(n=s0(e.strm,e.window,e.strstart+e.lookahead,l),e.lookahead+=n,e.lookahead+e.insert>=j)for(f=e.strstart-e.insert,e.ins_h=e.window[f],e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+j-1])&e.hash_mask,e.prev[f&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=f,f++,e.insert--,!(e.lookahead+e.insert<j)););}while(e.lookahead<Ge&&e.strm.avail_in!==0)}a(Sr,"fill_window");function l0(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Sr(e),e.lookahead===0&&t===Rr)return ae;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,fe(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Ge&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===Jt?(fe(e,!0),e.strm.avail_out===0?wr:yn):(e.strstart>e.block_start&&(fe(e,!1),e.strm.avail_out===0),ae)}a(l0,"deflate_stored");function zl(e,t){for(var r,n;;){if(e.lookahead<Ge){if(Sr(e),e.lookahead<Ge&&t===Rr)return ae;if(e.lookahead===0)break}if(r=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ge&&(e.match_length=Ch(e,r)),e.match_length>=j)if(n=Le._tr_tally(e,e.strstart-e.match_start,e.match_length-j),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=j){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Le._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=e.strstart<j-1?e.strstart:j-1,t===Jt?(fe(e,!0),e.strm.avail_out===0?wr:yn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:wi}a(zl,"deflate_fast");function gn(e,t){for(var r,n,o;;){if(e.lookahead<Ge){if(Sr(e),e.lookahead<Ge&&t===Rr)return ae;if(e.lookahead===0)break}if(r=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=j-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ge&&(e.match_length=Ch(e,r),e.match_length<=5&&(e.strategy===Zv||e.match_length===j&&e.strstart-e.match_start>4096)&&(e.match_length=j-1)),e.prev_length>=j&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-j,n=Le._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-j),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=j-1,e.strstart++,n&&(fe(e,!1),e.strm.avail_out===0))return ae}else if(e.match_available){if(n=Le._tr_tally(e,0,e.window[e.strstart-1]),n&&fe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ae}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Le._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<j-1?e.strstart:j-1,t===Jt?(fe(e,!0),e.strm.avail_out===0?wr:yn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:wi}a(gn,"deflate_slow");function u0(e,t){for(var r,n,o,l,f=e.window;;){if(e.lookahead<=Xt){if(Sr(e),e.lookahead<=Xt&&t===Rr)return ae;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=j&&e.strstart>0&&(o=e.strstart-1,n=f[o],n===f[++o]&&n===f[++o]&&n===f[++o])){l=e.strstart+Xt;do;while(n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&o<l);e.match_length=Xt-(l-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=j?(r=Le._tr_tally(e,1,e.match_length-j),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Le._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===Jt?(fe(e,!0),e.strm.avail_out===0?wr:yn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:wi}a(u0,"deflate_rle");function f0(e,t){for(var r;;){if(e.lookahead===0&&(Sr(e),e.lookahead===0)){if(t===Rr)return ae;break}if(e.match_length=0,r=Le._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===Jt?(fe(e,!0),e.strm.avail_out===0?wr:yn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:wi}a(f0,"deflate_huff");function ft(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}a(ft,"Config");var bn;bn=[new ft(0,0,0,0,l0),new ft(4,4,8,4,zl),new ft(4,5,16,8,zl),new ft(4,6,32,32,zl),new ft(4,4,16,16,gn),new ft(8,16,32,32,gn),new ft(8,16,128,128,gn),new ft(8,32,128,256,gn),new ft(32,128,258,1024,gn),new ft(32,258,258,4096,gn)];function c0(e){e.window_size=2*e.w_size,Kt(e.head),e.max_lazy_match=bn[e.level].max_lazy,e.good_match=bn[e.level].good_length,e.nice_match=bn[e.level].nice_length,e.max_chain_length=bn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=j-1,e.match_available=0,e.ins_h=0}a(c0,"lm_init");function d0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ya,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ge.Buf16(n0*2),this.dyn_dtree=new ge.Buf16((2*t0+1)*2),this.bl_tree=new ge.Buf16((2*r0+1)*2),Kt(this.dyn_ltree),Kt(this.dyn_dtree),Kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ge.Buf16(i0+1),this.heap=new ge.Buf16(2*Ml+1),Kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ge.Buf16(2*Ml+1),Kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}a(d0,"DeflateState");function Ph(e){var t;return!e||!e.state?Qt(e,qe):(e.total_in=e.total_out=0,e.data_type=Gv,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ga:vr,e.adler=t.wrap===2?0:1,t.last_flush=Rr,Le._tr_init(t),ct)}a(Ph,"deflateResetKeep");function Ih(e){var t=Ph(e);return t===ct&&c0(e.state),t}a(Ih,"deflateReset");function h0(e,t){return!e||!e.state||e.state.wrap!==2?qe:(e.state.gzhead=t,ct)}a(h0,"deflateSetHeader");function Oh(e,t,r,n,o,l){if(!e)return qe;var f=1;if(t===Hv&&(t=6),n<0?(f=0,n=-n):n>15&&(f=2,n-=16),o<1||o>Kv||r!==Ya||n<8||n>15||t<0||t>9||l<0||l>Vv)return Qt(e,qe);n===8&&(n=9);var d=new d0;return e.state=d,d.strm=e,d.wrap=f,d.gzhead=null,d.w_bits=n,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=o+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+j-1)/j),d.window=new ge.Buf8(d.w_size*2),d.head=new ge.Buf16(d.hash_size),d.prev=new ge.Buf16(d.w_size),d.lit_bufsize=1<<o+6,d.pending_buf_size=d.lit_bufsize*4,d.pending_buf=new ge.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=t,d.strategy=l,d.method=r,Ih(e)}a(Oh,"deflateInit2");function p0(e,t){return Oh(e,t,Ya,Xv,Qv,Yv)}a(p0,"deflateInit");function m0(e,t){var r,n,o,l;if(!e||!e.state||t>xh||t<0)return e?Qt(e,qe):qe;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===vi&&t!==Jt)return Qt(e,e.avail_out===0?ql:qe);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Ga)if(n.wrap===2)e.adler=0,H(n,31),H(n,139),H(n,8),n.gzhead?(H(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),H(n,n.gzhead.time&255),H(n,n.gzhead.time>>8&255),H(n,n.gzhead.time>>16&255),H(n,n.gzhead.time>>24&255),H(n,n.level===9?2:n.strategy>=Ha||n.level<2?4:0),H(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(H(n,n.gzhead.extra.length&255),H(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Yt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Ul):(H(n,0),H(n,0),H(n,0),H(n,0),H(n,0),H(n,n.level===9?2:n.strategy>=Ha||n.level<2?4:0),H(n,o0),n.status=vr);else{var f=Ya+(n.w_bits-8<<4)<<8,d=-1;n.strategy>=Ha||n.level<2?d=0:n.level<6?d=1:n.level===6?d=2:d=3,f|=d<<6,n.strstart!==0&&(f|=a0),f+=31-f%31,n.status=vr,_i(n,f),n.strstart!==0&&(_i(n,e.adler>>>16),_i(n,e.adler&65535)),e.adler=1}if(n.status===Ul)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=Yt(e.adler,n.pending_buf,n.pending-o,o)),Gt(e),o=n.pending,n.pending===n.pending_buf_size));)H(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=Yt(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Za)}else n.status=Za;if(n.status===Za)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=Yt(e.adler,n.pending_buf,n.pending-o,o)),Gt(e),o=n.pending,n.pending===n.pending_buf_size)){l=1;break}n.gzindex<n.gzhead.name.length?l=n.gzhead.name.charCodeAt(n.gzindex++)&255:l=0,H(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Yt(e.adler,n.pending_buf,n.pending-o,o)),l===0&&(n.gzindex=0,n.status=$a)}else n.status=$a;if(n.status===$a)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=Yt(e.adler,n.pending_buf,n.pending-o,o)),Gt(e),o=n.pending,n.pending===n.pending_buf_size)){l=1;break}n.gzindex<n.gzhead.comment.length?l=n.gzhead.comment.charCodeAt(n.gzindex++)&255:l=0,H(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Yt(e.adler,n.pending_buf,n.pending-o,o)),l===0&&(n.status=Va)}else n.status=Va;if(n.status===Va&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Gt(e),n.pending+2<=n.pending_buf_size&&(H(n,e.adler&255),H(n,e.adler>>8&255),e.adler=0,n.status=vr)):n.status=vr),n.pending!==0){if(Gt(e),e.avail_out===0)return n.last_flush=-1,ct}else if(e.avail_in===0&&Eh(t)<=Eh(r)&&t!==Jt)return Qt(e,ql);if(n.status===vi&&e.avail_in!==0)return Qt(e,ql);if(e.avail_in!==0||n.lookahead!==0||t!==Rr&&n.status!==vi){var m=n.strategy===Ha?f0(n,t):n.strategy===$v?u0(n,t):bn[n.level].func(n,t);if((m===wr||m===yn)&&(n.status=vi),m===ae||m===wr)return e.avail_out===0&&(n.last_flush=-1),ct;if(m===wi&&(t===Wv?Le._tr_align(n):t!==xh&&(Le._tr_stored_block(n,0,0,!1),t===Nv&&(Kt(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Gt(e),e.avail_out===0))return n.last_flush=-1,ct}return t!==Jt?ct:n.wrap<=0?kh:(n.wrap===2?(H(n,e.adler&255),H(n,e.adler>>8&255),H(n,e.adler>>16&255),H(n,e.adler>>24&255),H(n,e.total_in&255),H(n,e.total_in>>8&255),H(n,e.total_in>>16&255),H(n,e.total_in>>24&255)):(_i(n,e.adler>>>16),_i(n,e.adler&65535)),Gt(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ct:kh)}a(m0,"deflate");function g0(e){var t;return!e||!e.state?qe:(t=e.state.status,t!==Ga&&t!==Ul&&t!==Za&&t!==$a&&t!==Va&&t!==vr&&t!==vi?Qt(e,qe):(e.state=null,t===vr?Qt(e,jv):ct))}a(g0,"deflateEnd");function b0(e,t){var r=t.length,n,o,l,f,d,m,c,h;if(!e||!e.state||(n=e.state,f=n.wrap,f===2||f===1&&n.status!==Ga||n.lookahead))return qe;for(f===1&&(e.adler=Ah(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(f===0&&(Kt(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new ge.Buf8(n.w_size),ge.arraySet(h,t,r-n.w_size,n.w_size,0),t=h,r=n.w_size),d=e.avail_in,m=e.next_in,c=e.input,e.avail_in=r,e.next_in=0,e.input=t,Sr(n);n.lookahead>=j;){o=n.strstart,l=n.lookahead-(j-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+j-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++;while(--l);n.strstart=o,n.lookahead=j-1,Sr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=j-1,n.match_available=0,e.next_in=m,e.input=c,e.avail_in=d,n.wrap=f,ct}a(b0,"deflateSetDictionary");dt.deflateInit=p0;dt.deflateInit2=Oh;dt.deflateReset=Ih;dt.deflateResetKeep=Ph;dt.deflateSetHeader=h0;dt.deflate=m0;dt.deflateEnd=g0;dt.deflateSetDictionary=b0;dt.deflateInfo="pako deflate (from Nodeca project)"});var Wl=P(_n=>{"use strict";var Ka=Ct(),Bh=!0,Dh=!0;try{String.fromCharCode.apply(null,[0])}catch{Bh=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Dh=!1}var Si=new Ka.Buf8(256);for(It=0;It<256;It++)Si[It]=It>=252?6:It>=248?5:It>=240?4:It>=224?3:It>=192?2:1;var It;Si[254]=Si[254]=1;_n.string2buf=function(e){var t,r,n,o,l,f=e.length,d=0;for(o=0;o<f;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Ka.Buf8(d),l=0,o=0;l<d;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[l++]=r:r<2048?(t[l++]=192|r>>>6,t[l++]=128|r&63):r<65536?(t[l++]=224|r>>>12,t[l++]=128|r>>>6&63,t[l++]=128|r&63):(t[l++]=240|r>>>18,t[l++]=128|r>>>12&63,t[l++]=128|r>>>6&63,t[l++]=128|r&63);return t};function Lh(e,t){if(t<65534&&(e.subarray&&Dh||!e.subarray&&Bh))return String.fromCharCode.apply(null,Ka.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}a(Lh,"buf2binstring");_n.buf2binstring=function(e){return Lh(e,e.length)};_n.binstring2buf=function(e){for(var t=new Ka.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t};_n.buf2string=function(e,t){var r,n,o,l,f=t||e.length,d=new Array(f*2);for(n=0,r=0;r<f;){if(o=e[r++],o<128){d[n++]=o;continue}if(l=Si[o],l>4){d[n++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<f;)o=o<<6|e[r++]&63,l--;if(l>1){d[n++]=65533;continue}o<65536?d[n++]=o:(o-=65536,d[n++]=55296|o>>10&1023,d[n++]=56320|o&1023)}return Lh(d,n)};_n.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Si[e[r]]>t?r:t}});var Nl=P((MT,qh)=>{"use strict";function y0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a(y0,"ZStream");qh.exports=y0});var Wh=P(xi=>{"use strict";var Ri=Fh(),Ti=Ct(),Hl=Wl(),Zl=ja(),_0=Nl(),Uh=Object.prototype.toString,v0=0,jl=4,vn=0,zh=1,Mh=2,w0=-1,S0=0,R0=8;function Tr(e){if(!(this instanceof Tr))return new Tr(e);this.options=Ti.assign({level:w0,method:R0,chunkSize:16384,windowBits:15,memLevel:8,strategy:S0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _0,this.strm.avail_out=0;var r=Ri.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==vn)throw new Error(Zl[r]);if(t.header&&Ri.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(typeof t.dictionary=="string"?n=Hl.string2buf(t.dictionary):Uh.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Ri.deflateSetDictionary(this.strm,n),r!==vn)throw new Error(Zl[r]);this._dict_set=!0}}a(Tr,"Deflate");Tr.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,o,l;if(this.ended)return!1;l=t===~~t?t:t===!0?jl:v0,typeof e=="string"?r.input=Hl.string2buf(e):Uh.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Ti.Buf8(n),r.next_out=0,r.avail_out=n),o=Ri.deflate(r,l),o!==zh&&o!==vn)return this.onEnd(o),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(l===jl||l===Mh))&&(this.options.to==="string"?this.onData(Hl.buf2binstring(Ti.shrinkBuf(r.output,r.next_out))):this.onData(Ti.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&o!==zh);return l===jl?(o=Ri.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===vn):(l===Mh&&(this.onEnd(vn),r.avail_out=0),!0)};Tr.prototype.onData=function(e){this.chunks.push(e)};Tr.prototype.onEnd=function(e){e===vn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ti.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $l(e,t){var r=new Tr(t);if(r.push(e,!0),r.err)throw r.msg||Zl[r.err];return r.result}a($l,"deflate");function T0(e,t){return t=t||{},t.raw=!0,$l(e,t)}a(T0,"deflateRaw");function x0(e,t){return t=t||{},t.gzip=!0,$l(e,t)}a(x0,"gzip");xi.Deflate=Tr;xi.deflate=$l;xi.deflateRaw=T0;xi.gzip=x0});var jh=P((jT,Nh)=>{"use strict";var Xa=30,k0=12;Nh.exports=a(function(t,r){var n,o,l,f,d,m,c,h,x,y,w,v,A,E,S,k,C,R,T,O,q,D,U,$,F;n=t.state,o=t.next_in,$=t.input,l=o+(t.avail_in-5),f=t.next_out,F=t.output,d=f-(r-t.avail_out),m=f+(t.avail_out-257),c=n.dmax,h=n.wsize,x=n.whave,y=n.wnext,w=n.window,v=n.hold,A=n.bits,E=n.lencode,S=n.distcode,k=(1<<n.lenbits)-1,C=(1<<n.distbits)-1;e:do{A<15&&(v+=$[o++]<<A,A+=8,v+=$[o++]<<A,A+=8),R=E[v&k];t:for(;;){if(T=R>>>24,v>>>=T,A-=T,T=R>>>16&255,T===0)F[f++]=R&65535;else if(T&16){O=R&65535,T&=15,T&&(A<T&&(v+=$[o++]<<A,A+=8),O+=v&(1<<T)-1,v>>>=T,A-=T),A<15&&(v+=$[o++]<<A,A+=8,v+=$[o++]<<A,A+=8),R=S[v&C];r:for(;;){if(T=R>>>24,v>>>=T,A-=T,T=R>>>16&255,T&16){if(q=R&65535,T&=15,A<T&&(v+=$[o++]<<A,A+=8,A<T&&(v+=$[o++]<<A,A+=8)),q+=v&(1<<T)-1,q>c){t.msg="invalid distance too far back",n.mode=Xa;break e}if(v>>>=T,A-=T,T=f-d,q>T){if(T=q-T,T>x&&n.sane){t.msg="invalid distance too far back",n.mode=Xa;break e}if(D=0,U=w,y===0){if(D+=h-T,T<O){O-=T;do F[f++]=w[D++];while(--T);D=f-q,U=F}}else if(y<T){if(D+=h+y-T,T-=y,T<O){O-=T;do F[f++]=w[D++];while(--T);if(D=0,y<O){T=y,O-=T;do F[f++]=w[D++];while(--T);D=f-q,U=F}}}else if(D+=y-T,T<O){O-=T;do F[f++]=w[D++];while(--T);D=f-q,U=F}for(;O>2;)F[f++]=U[D++],F[f++]=U[D++],F[f++]=U[D++],O-=3;O&&(F[f++]=U[D++],O>1&&(F[f++]=U[D++]))}else{D=f-q;do F[f++]=F[D++],F[f++]=F[D++],F[f++]=F[D++],O-=3;while(O>2);O&&(F[f++]=F[D++],O>1&&(F[f++]=F[D++]))}}else if(T&64){t.msg="invalid distance code",n.mode=Xa;break e}else{R=S[(R&65535)+(v&(1<<T)-1)];continue r}break}}else if(T&64)if(T&32){n.mode=k0;break e}else{t.msg="invalid literal/length code",n.mode=Xa;break e}else{R=E[(R&65535)+(v&(1<<T)-1)];continue t}break}}while(o<l&&f<m);O=A>>3,o-=O,A-=O<<3,v&=(1<<A)-1,t.next_in=o,t.next_out=f,t.avail_in=o<l?5+(l-o):5-(o-l),t.avail_out=f<m?257+(m-f):257-(f-m),n.hold=v,n.bits=A},"inflate_fast")});var Kh=P((ZT,Gh)=>{"use strict";var Hh=Ct(),wn=15,Zh=852,$h=592,Vh=0,Vl=1,Yh=2,E0=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],A0=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C0=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P0=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Gh.exports=a(function(t,r,n,o,l,f,d,m){var c=m.bits,h=0,x=0,y=0,w=0,v=0,A=0,E=0,S=0,k=0,C=0,R,T,O,q,D,U=null,$=0,F,le=new Hh.Buf16(wn+1),ce=new Hh.Buf16(wn+1),pt=null,Ir=0,En,Or,Bt;for(h=0;h<=wn;h++)le[h]=0;for(x=0;x<o;x++)le[r[n+x]]++;for(v=c,w=wn;w>=1&&le[w]===0;w--);if(v>w&&(v=w),w===0)return l[f++]=1<<24|64<<16|0,l[f++]=1<<24|64<<16|0,m.bits=1,0;for(y=1;y<w&&le[y]===0;y++);for(v<y&&(v=y),S=1,h=1;h<=wn;h++)if(S<<=1,S-=le[h],S<0)return-1;if(S>0&&(t===Vh||w!==1))return-1;for(ce[1]=0,h=1;h<wn;h++)ce[h+1]=ce[h]+le[h];for(x=0;x<o;x++)r[n+x]!==0&&(d[ce[r[n+x]]++]=x);if(t===Vh?(U=pt=d,F=19):t===Vl?(U=E0,$-=257,pt=A0,Ir-=257,F=256):(U=C0,pt=P0,F=-1),C=0,x=0,h=y,D=f,A=v,E=0,O=-1,k=1<<v,q=k-1,t===Vl&&k>Zh||t===Yh&&k>$h)return 1;for(;;){En=h-E,d[x]<F?(Or=0,Bt=d[x]):d[x]>F?(Or=pt[Ir+d[x]],Bt=U[$+d[x]]):(Or=96,Bt=0),R=1<<h-E,T=1<<A,y=T;do T-=R,l[D+(C>>E)+T]=En<<24|Or<<16|Bt|0;while(T!==0);for(R=1<<h-1;C&R;)R>>=1;if(R!==0?(C&=R-1,C+=R):C=0,x++,--le[h]===0){if(h===w)break;h=r[n+d[x]]}if(h>v&&(C&q)!==O){for(E===0&&(E=v),D+=y,A=h-E,S=1<<A;A+E<w&&(S-=le[A+E],!(S<=0));)A++,S<<=1;if(k+=1<<A,t===Vl&&k>Zh||t===Yh&&k>$h)return 1;O=C&q,l[O]=v<<24|A<<16|D-f|0}}return C!==0&&(l[D+C]=h-E<<24|64<<16|0),m.bits=v,0},"inflate_table")});var Ip=P(Ke=>{"use strict";var Ae=Ct(),Jl=Dl(),ht=Ll(),I0=jh(),ki=Kh(),O0=0,Sp=1,Rp=2,Xh=4,F0=5,Qa=6,xr=0,B0=1,D0=2,ze=-2,Tp=-3,eu=-4,L0=-5,Qh=8,xp=1,Jh=2,ep=3,tp=4,rp=5,np=6,ip=7,ap=8,op=9,sp=10,to=11,Ot=12,Yl=13,lp=14,Gl=15,up=16,fp=17,cp=18,dp=19,Ja=20,eo=21,hp=22,pp=23,mp=24,gp=25,bp=26,Kl=27,yp=28,_p=29,J=30,tu=31,q0=32,z0=852,M0=592,U0=15,W0=U0;function vp(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}a(vp,"zswap32");function N0(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ae.Buf16(320),this.work=new Ae.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}a(N0,"InflateState");function kp(e){var t;return!e||!e.state?ze:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=xp,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ae.Buf32(z0),t.distcode=t.distdyn=new Ae.Buf32(M0),t.sane=1,t.back=-1,xr)}a(kp,"inflateResetKeep");function Ep(e){var t;return!e||!e.state?ze:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,kp(e))}a(Ep,"inflateReset");function Ap(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?ze:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ep(e))}a(Ap,"inflateReset2");function Cp(e,t){var r,n;return e?(n=new N0,e.state=n,n.window=null,r=Ap(e,t),r!==xr&&(e.state=null),r):ze}a(Cp,"inflateInit2");function j0(e){return Cp(e,W0)}a(j0,"inflateInit");var wp=!0,Xl,Ql;function H0(e){if(wp){var t;for(Xl=new Ae.Buf32(512),Ql=new Ae.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ki(Sp,e.lens,0,288,Xl,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ki(Rp,e.lens,0,32,Ql,0,e.work,{bits:5}),wp=!1}e.lencode=Xl,e.lenbits=9,e.distcode=Ql,e.distbits=5}a(H0,"fixedtables");function Pp(e,t,r,n){var o,l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Ae.Buf8(l.wsize)),n>=l.wsize?(Ae.arraySet(l.window,t,r-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>n&&(o=n),Ae.arraySet(l.window,t,r-n,o,l.wnext),n-=o,n?(Ae.arraySet(l.window,t,r-n,n,0),l.wnext=n,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0}a(Pp,"updatewindow");function Z0(e,t){var r,n,o,l,f,d,m,c,h,x,y,w,v,A,E=0,S,k,C,R,T,O,q,D,U=new Ae.Buf8(4),$,F,le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return ze;r=e.state,r.mode===Ot&&(r.mode=Yl),f=e.next_out,o=e.output,m=e.avail_out,l=e.next_in,n=e.input,d=e.avail_in,c=r.hold,h=r.bits,x=d,y=m,D=xr;e:for(;;)switch(r.mode){case xp:if(r.wrap===0){r.mode=Yl;break}for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(r.wrap&2&&c===35615){r.check=0,U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0),c=0,h=0,r.mode=Jh;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=J;break}if((c&15)!==Qh){e.msg="unknown compression method",r.mode=J;break}if(c>>>=4,h-=4,q=(c&15)+8,r.wbits===0)r.wbits=q;else if(q>r.wbits){e.msg="invalid window size",r.mode=J;break}r.dmax=1<<q,e.adler=r.check=1,r.mode=c&512?sp:Ot,c=0,h=0;break;case Jh:for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==Qh){e.msg="unknown compression method",r.mode=J;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=J;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0)),c=0,h=0,r.mode=ep;case ep:for(;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,U[2]=c>>>16&255,U[3]=c>>>24&255,r.check=ht(r.check,U,4,0)),c=0,h=0,r.mode=tp;case tp:for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0)),c=0,h=0,r.mode=rp;case rp:if(r.flags&1024){for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=np;case np:if(r.flags&1024&&(w=r.length,w>d&&(w=d),w&&(r.head&&(q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Ae.arraySet(r.head.extra,n,l,w,q)),r.flags&512&&(r.check=ht(r.check,n,w,l)),d-=w,l+=w,r.length-=w),r.length))break e;r.length=0,r.mode=ip;case ip:if(r.flags&2048){if(d===0)break e;w=0;do q=n[l+w++],r.head&&q&&r.length<65536&&(r.head.name+=String.fromCharCode(q));while(q&&w<d);if(r.flags&512&&(r.check=ht(r.check,n,w,l)),d-=w,l+=w,q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=ap;case ap:if(r.flags&4096){if(d===0)break e;w=0;do q=n[l+w++],r.head&&q&&r.length<65536&&(r.head.comment+=String.fromCharCode(q));while(q&&w<d);if(r.flags&512&&(r.check=ht(r.check,n,w,l)),d-=w,l+=w,q)break e}else r.head&&(r.head.comment=null);r.mode=op;case op:if(r.flags&512){for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=J;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ot;break;case sp:for(;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}e.adler=r.check=vp(c),c=0,h=0,r.mode=to;case to:if(r.havedict===0)return e.next_out=f,e.avail_out=m,e.next_in=l,e.avail_in=d,r.hold=c,r.bits=h,D0;e.adler=r.check=1,r.mode=Ot;case Ot:if(t===F0||t===Qa)break e;case Yl:if(r.last){c>>>=h&7,h-=h&7,r.mode=Kl;break}for(;h<3;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=lp;break;case 1:if(H0(r),r.mode=Ja,t===Qa){c>>>=2,h-=2;break e}break;case 2:r.mode=fp;break;case 3:e.msg="invalid block type",r.mode=J}c>>>=2,h-=2;break;case lp:for(c>>>=h&7,h-=h&7;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=J;break}if(r.length=c&65535,c=0,h=0,r.mode=Gl,t===Qa)break e;case Gl:r.mode=up;case up:if(w=r.length,w){if(w>d&&(w=d),w>m&&(w=m),w===0)break e;Ae.arraySet(o,n,l,w,f),d-=w,l+=w,m-=w,f+=w,r.length-=w;break}r.mode=Ot;break;case fp:for(;h<14;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=J;break}r.have=0,r.mode=cp;case cp:for(;r.have<r.ncode;){for(;h<3;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.lens[le[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[le[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},D=ki(O0,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,D){e.msg="invalid code lengths set",r.mode=J;break}r.have=0,r.mode=dp;case dp:for(;r.have<r.nlen+r.ndist;){for(;E=r.lencode[c&(1<<r.lenbits)-1],S=E>>>24,k=E>>>16&255,C=E&65535,!(S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(C<16)c>>>=S,h-=S,r.lens[r.have++]=C;else{if(C===16){for(F=S+2;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(c>>>=S,h-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=J;break}q=r.lens[r.have-1],w=3+(c&3),c>>>=2,h-=2}else if(C===17){for(F=S+3;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=S,h-=S,q=0,w=3+(c&7),c>>>=3,h-=3}else{for(F=S+7;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=S,h-=S,q=0,w=11+(c&127),c>>>=7,h-=7}if(r.have+w>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=J;break}for(;w--;)r.lens[r.have++]=q}}if(r.mode===J)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=J;break}if(r.lenbits=9,$={bits:r.lenbits},D=ki(Sp,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,D){e.msg="invalid literal/lengths set",r.mode=J;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},D=ki(Rp,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,D){e.msg="invalid distances set",r.mode=J;break}if(r.mode=Ja,t===Qa)break e;case Ja:r.mode=eo;case eo:if(d>=6&&m>=258){e.next_out=f,e.avail_out=m,e.next_in=l,e.avail_in=d,r.hold=c,r.bits=h,I0(e,y),f=e.next_out,o=e.output,m=e.avail_out,l=e.next_in,n=e.input,d=e.avail_in,c=r.hold,h=r.bits,r.mode===Ot&&(r.back=-1);break}for(r.back=0;E=r.lencode[c&(1<<r.lenbits)-1],S=E>>>24,k=E>>>16&255,C=E&65535,!(S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(k&&!(k&240)){for(R=S,T=k,O=C;E=r.lencode[O+((c&(1<<R+T)-1)>>R)],S=E>>>24,k=E>>>16&255,C=E&65535,!(R+S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=R,h-=R,r.back+=R}if(c>>>=S,h-=S,r.back+=S,r.length=C,k===0){r.mode=bp;break}if(k&32){r.back=-1,r.mode=Ot;break}if(k&64){e.msg="invalid literal/length code",r.mode=J;break}r.extra=k&15,r.mode=hp;case hp:if(r.extra){for(F=r.extra;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pp;case pp:for(;E=r.distcode[c&(1<<r.distbits)-1],S=E>>>24,k=E>>>16&255,C=E&65535,!(S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(!(k&240)){for(R=S,T=k,O=C;E=r.distcode[O+((c&(1<<R+T)-1)>>R)],S=E>>>24,k=E>>>16&255,C=E&65535,!(R+S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=R,h-=R,r.back+=R}if(c>>>=S,h-=S,r.back+=S,k&64){e.msg="invalid distance code",r.mode=J;break}r.offset=C,r.extra=k&15,r.mode=mp;case mp:if(r.extra){for(F=r.extra;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=J;break}r.mode=gp;case gp:if(m===0)break e;if(w=y-m,r.offset>w){if(w=r.offset-w,w>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=J;break}w>r.wnext?(w-=r.wnext,v=r.wsize-w):v=r.wnext-w,w>r.length&&(w=r.length),A=r.window}else A=o,v=f-r.offset,w=r.length;w>m&&(w=m),m-=w,r.length-=w;do o[f++]=A[v++];while(--w);r.length===0&&(r.mode=eo);break;case bp:if(m===0)break e;o[f++]=r.length,m--,r.mode=eo;break;case Kl:if(r.wrap){for(;h<32;){if(d===0)break e;d--,c|=n[l++]<<h,h+=8}if(y-=m,e.total_out+=y,r.total+=y,y&&(e.adler=r.check=r.flags?ht(r.check,o,y,f-y):Jl(r.check,o,y,f-y)),y=m,(r.flags?c:vp(c))!==r.check){e.msg="incorrect data check",r.mode=J;break}c=0,h=0}r.mode=yp;case yp:if(r.wrap&&r.flags){for(;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=J;break}c=0,h=0}r.mode=_p;case _p:D=B0;break e;case J:D=Tp;break e;case tu:return eu;case q0:default:return ze}return e.next_out=f,e.avail_out=m,e.next_in=l,e.avail_in=d,r.hold=c,r.bits=h,(r.wsize||y!==e.avail_out&&r.mode<J&&(r.mode<Kl||t!==Xh))&&Pp(e,e.output,e.next_out,y-e.avail_out)?(r.mode=tu,eu):(x-=e.avail_in,y-=e.avail_out,e.total_in+=x,e.total_out+=y,r.total+=y,r.wrap&&y&&(e.adler=r.check=r.flags?ht(r.check,o,y,e.next_out-y):Jl(r.check,o,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ot?128:0)+(r.mode===Ja||r.mode===Gl?256:0),(x===0&&y===0||t===Xh)&&D===xr&&(D=L0),D)}a(Z0,"inflate");function $0(e){if(!e||!e.state)return ze;var t=e.state;return t.window&&(t.window=null),e.state=null,xr}a($0,"inflateEnd");function V0(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?ze:(r.head=t,t.done=!1,xr)}a(V0,"inflateGetHeader");function Y0(e,t){var r=t.length,n,o,l;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==to)?ze:n.mode===to&&(o=1,o=Jl(o,t,r,0),o!==n.check)?Tp:(l=Pp(e,t,r,r),l?(n.mode=tu,eu):(n.havedict=1,xr))}a(Y0,"inflateSetDictionary");Ke.inflateReset=Ep;Ke.inflateReset2=Ap;Ke.inflateResetKeep=kp;Ke.inflateInit=j0;Ke.inflateInit2=Cp;Ke.inflate=Z0;Ke.inflateEnd=$0;Ke.inflateGetHeader=V0;Ke.inflateSetDictionary=Y0;Ke.inflateInfo="pako inflate (from Nodeca project)"});var ru=P((GT,Op)=>{"use strict";Op.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var Bp=P((KT,Fp)=>{"use strict";function G0(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a(G0,"GZheader");Fp.exports=G0});var Lp=P(Ai=>{"use strict";var Sn=Ip(),Ei=Ct(),ro=Wl(),re=ru(),nu=ja(),K0=Nl(),X0=Bp(),Dp=Object.prototype.toString;function kr(e){if(!(this instanceof kr))return new kr(e);this.options=Ei.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K0,this.strm.avail_out=0;var r=Sn.inflateInit2(this.strm,t.windowBits);if(r!==re.Z_OK)throw new Error(nu[r]);if(this.header=new X0,Sn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ro.string2buf(t.dictionary):Dp.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Sn.inflateSetDictionary(this.strm,t.dictionary),r!==re.Z_OK)))throw new Error(nu[r])}a(kr,"Inflate");kr.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,o=this.options.dictionary,l,f,d,m,c,h=!1;if(this.ended)return!1;f=t===~~t?t:t===!0?re.Z_FINISH:re.Z_NO_FLUSH,typeof e=="string"?r.input=ro.binstring2buf(e):Dp.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Ei.Buf8(n),r.next_out=0,r.avail_out=n),l=Sn.inflate(r,re.Z_NO_FLUSH),l===re.Z_NEED_DICT&&o&&(l=Sn.inflateSetDictionary(this.strm,o)),l===re.Z_BUF_ERROR&&h===!0&&(l=re.Z_OK,h=!1),l!==re.Z_STREAM_END&&l!==re.Z_OK)return this.onEnd(l),this.ended=!0,!1;r.next_out&&(r.avail_out===0||l===re.Z_STREAM_END||r.avail_in===0&&(f===re.Z_FINISH||f===re.Z_SYNC_FLUSH))&&(this.options.to==="string"?(d=ro.utf8border(r.output,r.next_out),m=r.next_out-d,c=ro.buf2string(r.output,d),r.next_out=m,r.avail_out=n-m,m&&Ei.arraySet(r.output,r.output,d,m,0),this.onData(c)):this.onData(Ei.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(h=!0)}while((r.avail_in>0||r.avail_out===0)&&l!==re.Z_STREAM_END);return l===re.Z_STREAM_END&&(f=re.Z_FINISH),f===re.Z_FINISH?(l=Sn.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===re.Z_OK):(f===re.Z_SYNC_FLUSH&&(this.onEnd(re.Z_OK),r.avail_out=0),!0)};kr.prototype.onData=function(e){this.chunks.push(e)};kr.prototype.onEnd=function(e){e===re.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ei.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iu(e,t){var r=new kr(t);if(r.push(e,!0),r.err)throw r.msg||nu[r.err];return r.result}a(iu,"inflate");function Q0(e,t){return t=t||{},t.raw=!0,iu(e,t)}a(Q0,"inflateRaw");Ai.Inflate=kr;Ai.inflate=iu;Ai.inflateRaw=Q0;Ai.ungzip=iu});var Mp=P((ex,zp)=>{"use strict";var J0=Ct().assign,ew=Wh(),tw=Lp(),rw=ru(),qp={};J0(qp,ew,tw,rw);zp.exports=qp});var Wp=P(io=>{"use strict";var nw=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",iw=Mp(),Up=ee(),no=Ee(),aw=nw?"uint8array":"array";io.magic="\b\0";function Er(e,t){no.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}a(Er,"FlateWorker");Up.inherits(Er,no);Er.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(Up.transformTo(aw,e.data),!1)};Er.prototype.flush=function(){no.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};Er.prototype.cleanUp=function(){no.prototype.cleanUp.call(this),this._pako=null};Er.prototype._createPako=function(){this._pako=new iw[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}};io.compressWorker=function(e){return new Er("Deflate",e)};io.uncompressWorker=function(){return new Er("Inflate",{})}});var ou=P(au=>{"use strict";var Np=Ee();au.STORE={magic:"\0\0",compressWorker:a(function(){return new Np("STORE compression")},"compressWorker"),uncompressWorker:a(function(){return new Np("STORE decompression")},"uncompressWorker")};au.DEFLATE=Wp()});var su=P(Ar=>{"use strict";Ar.LOCAL_FILE_HEADER="PK";Ar.CENTRAL_FILE_HEADER="PK";Ar.CENTRAL_DIRECTORY_END="PK";Ar.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Ar.ZIP64_CENTRAL_DIRECTORY_END="PK";Ar.DATA_DESCRIPTOR="PK\x07\b"});var $p=P((ox,Zp)=>{"use strict";var Rn=ee(),Tn=Ee(),lu=cn(),jp=za(),ao=su(),X=a(function(e,t){var r="",n;for(n=0;n<t;n++)r+=String.fromCharCode(e&255),e=e>>>8;return r},"decToHex"),ow=a(function(e,t){var r=e;return e||(r=t?16893:33204),(r&65535)<<16},"generateUnixExternalFileAttr"),sw=a(function(e){return(e||0)&63},"generateDosExternalFileAttr"),Hp=a(function(e,t,r,n,o,l){var f=e.file,d=e.compression,m=l!==lu.utf8encode,c=Rn.transformTo("string",l(f.name)),h=Rn.transformTo("string",lu.utf8encode(f.name)),x=f.comment,y=Rn.transformTo("string",l(x)),w=Rn.transformTo("string",lu.utf8encode(x)),v=h.length!==f.name.length,A=w.length!==x.length,E,S,k="",C="",R="",T=f.dir,O=f.date,q={crc32:0,compressedSize:0,uncompressedSize:0};(!t||r)&&(q.crc32=e.crc32,q.compressedSize=e.compressedSize,q.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),!m&&(v||A)&&(D|=2048);var U=0,$=0;T&&(U|=16),o==="UNIX"?($=798,U|=ow(f.unixPermissions,T)):($=20,U|=sw(f.dosPermissions,T)),E=O.getUTCHours(),E=E<<6,E=E|O.getUTCMinutes(),E=E<<5,E=E|O.getUTCSeconds()/2,S=O.getUTCFullYear()-1980,S=S<<4,S=S|O.getUTCMonth()+1,S=S<<5,S=S|O.getUTCDate(),v&&(C=X(1,1)+X(jp(c),4)+h,k+="up"+X(C.length,2)+C),A&&(R=X(1,1)+X(jp(y),4)+w,k+="uc"+X(R.length,2)+R);var F="";F+=`
\0`,F+=X(D,2),F+=d.magic,F+=X(E,2),F+=X(S,2),F+=X(q.crc32,4),F+=X(q.compressedSize,4),F+=X(q.uncompressedSize,4),F+=X(c.length,2),F+=X(k.length,2);var le=ao.LOCAL_FILE_HEADER+F+c+k,ce=ao.CENTRAL_FILE_HEADER+X($,2)+F+X(y.length,2)+"\0\0\0\0"+X(U,4)+X(n,4)+c+k+y;return{fileRecord:le,dirRecord:ce}},"generateZipParts"),lw=a(function(e,t,r,n,o){var l="",f=Rn.transformTo("string",o(n));return l=ao.CENTRAL_DIRECTORY_END+"\0\0\0\0"+X(e,2)+X(e,2)+X(t,4)+X(r,4)+X(f.length,2)+f,l},"generateCentralDirectoryEnd"),uw=a(function(e){var t="";return t=ao.DATA_DESCRIPTOR+X(e.crc32,4)+X(e.compressedSize,4)+X(e.uncompressedSize,4),t},"generateDataDescriptors");function Xe(e,t,r,n){Tn.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a(Xe,"ZipFileWorker");Rn.inherits(Xe,Tn);Xe.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,Tn.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))};Xe.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=Hp(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0};Xe.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=Hp(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:uw(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};Xe.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=lw(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})};Xe.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};Xe.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(r){t.error(r)}),this};Xe.prototype.resume=function(){if(!Tn.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};Xe.prototype.error=function(e){var t=this._sources;if(!Tn.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch{}return!0};Xe.prototype.lock=function(){Tn.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};Zp.exports=Xe});var Yp=P(Vp=>{"use strict";var fw=ou(),cw=$p(),dw=a(function(e,t){var r=e||t,n=fw[r];if(!n)throw new Error(r+" is not a valid compression method !");return n},"getCompression");Vp.generateWorker=function(e,t,r){var n=new cw(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach(function(l,f){o++;var d=dw(f.options.compression,t.compression),m=f.options.compressionOptions||t.compressionOptions||{},c=f.dir,h=f.date;f._compressWorker(d,m).withStreamInfo("file",{name:l,dir:c,date:h,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(n)}),n.entriesCount=o}catch(l){n.error(l)}return n}});var Kp=P((fx,Gp)=>{"use strict";var hw=ee(),oo=Ee();function Ci(e,t){oo.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}a(Ci,"NodejsStreamInputAdapter");hw.inherits(Ci,oo);Ci.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(r){t.push({data:r,meta:{percent:0}})}).on("error",function(r){t.isPaused?this.generatedError=r:t.error(r)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})};Ci.prototype.pause=function(){return oo.prototype.pause.call(this)?(this._stream.pause(),!0):!1};Ci.prototype.resume=function(){return oo.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};Gp.exports=Ci});var om=P((dx,am)=>{"use strict";var pw=cn(),Pi=ee(),em=Ee(),mw=hl(),tm=pl(),Xp=Ma(),gw=Qd(),bw=Yp(),Qp=ai(),yw=Kp(),rm=a(function(e,t,r){var n=Pi.getTypeOf(t),o,l=Pi.extend(r||{},tm);l.date=l.date||new Date,l.compression!==null&&(l.compression=l.compression.toUpperCase()),typeof l.unixPermissions=="string"&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&l.unixPermissions&16384&&(l.dir=!0),l.dosPermissions&&l.dosPermissions&16&&(l.dir=!0),l.dir&&(e=nm(e)),l.createFolders&&(o=_w(e))&&im.call(this,o,!0);var f=n==="string"&&l.binary===!1&&l.base64===!1;(!r||typeof r.binary>"u")&&(l.binary=!f);var d=t instanceof Xp&&t.uncompressedSize===0;(d||l.dir||!t||t.length===0)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",n="string");var m=null;t instanceof Xp||t instanceof em?m=t:Qp.isNode&&Qp.isStream(t)?m=new yw(e,t):m=Pi.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var c=new gw(e,m,l);this.files[e]=c},"fileAdd"),_w=a(function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},"parentFolder"),nm=a(function(e){return e.slice(-1)!=="/"&&(e+="/"),e},"forceTrailingSlash"),im=a(function(e,t){return t=typeof t<"u"?t:tm.createFolders,e=nm(e),this.files[e]||rm.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},"folderAdd");function Jp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}a(Jp,"isRegExp");var vw={load:a(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"load"),forEach:a(function(e){var t,r,n;for(t in this.files)n=this.files[t],r=t.slice(this.root.length,t.length),r&&t.slice(0,this.root.length)===this.root&&e(r,n)},"forEach"),filter:a(function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},"filter"),file:a(function(e,t,r){if(arguments.length===1)if(Jp(e)){var n=e;return this.filter(function(l,f){return!f.dir&&n.test(l)})}else{var o=this.files[this.root+e];return o&&!o.dir?o:null}else e=this.root+e,rm.call(this,e,t,r);return this},"file"),folder:a(function(e){if(!e)return this;if(Jp(e))return this.filter(function(o,l){return l.dir&&e.test(o)});var t=this.root+e,r=im.call(this,t),n=this.clone();return n.root=r.name,n},"folder"),remove:a(function(e){e=this.root+e;var t=this.files[e];if(t||(e.slice(-1)!=="/"&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(o,l){return l.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},"remove"),generate:a(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"generate"),generateInternalStream:a(function(e){var t,r={};try{if(r=Pi.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:pw.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");Pi.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var n=r.comment||this.comment||"";t=bw.generateWorker(this,r,n)}catch(o){t=new em("error"),t.error(o)}return new mw(t,r.type||"string",r.mimeType)},"generateInternalStream"),generateAsync:a(function(e,t){return this.generateInternalStream(e).accumulate(t)},"generateAsync"),generateNodeStream:a(function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)},"generateNodeStream")};am.exports=vw});var uu=P((px,lm)=>{"use strict";var ww=ee();function sm(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a(sm,"DataReader");sm.prototype={checkOffset:a(function(e){this.checkIndex(this.index+e)},"checkOffset"),checkIndex:a(function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},"checkIndex"),setIndex:a(function(e){this.checkIndex(e),this.index=e},"setIndex"),skip:a(function(e){this.setIndex(this.index+e)},"skip"),byteAt:a(function(){},"byteAt"),readInt:a(function(e){var t=0,r;for(this.checkOffset(e),r=this.index+e-1;r>=this.index;r--)t=(t<<8)+this.byteAt(r);return this.index+=e,t},"readInt"),readString:a(function(e){return ww.transformTo("string",this.readData(e))},"readString"),readData:a(function(){},"readData"),lastIndexOfSignature:a(function(){},"lastIndexOfSignature"),readAndCheckSignature:a(function(){},"readAndCheckSignature"),readDate:a(function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1))},"readDate")};lm.exports=sm});var fu=P((gx,fm)=>{"use strict";var um=uu(),Sw=ee();function xn(e){um.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=e[t]&255}a(xn,"ArrayReader");Sw.inherits(xn,um);xn.prototype.byteAt=function(e){return this.data[this.zero+e]};xn.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),l=this.length-4;l>=0;--l)if(this.data[l]===t&&this.data[l+1]===r&&this.data[l+2]===n&&this.data[l+3]===o)return l-this.zero;return-1};xn.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),l=this.readData(4);return t===l[0]&&r===l[1]&&n===l[2]&&o===l[3]};xn.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};fm.exports=xn});var hm=P((yx,dm)=>{"use strict";var cm=uu(),Rw=ee();function kn(e){cm.call(this,e)}a(kn,"StringReader");Rw.inherits(kn,cm);kn.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)};kn.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero};kn.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t};kn.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};dm.exports=kn});var du=P((vx,mm)=>{"use strict";var pm=fu(),Tw=ee();function cu(e){pm.call(this,e)}a(cu,"Uint8ArrayReader");Tw.inherits(cu,pm);cu.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};mm.exports=cu});var ym=P((Sx,bm)=>{"use strict";var gm=du(),xw=ee();function hu(e){gm.call(this,e)}a(hu,"NodeBufferReader");xw.inherits(hu,gm);hu.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};bm.exports=hu});var pu=P((Tx,vm)=>{"use strict";var so=ee(),_m=Et(),kw=fu(),Ew=hm(),Aw=ym(),Cw=du();vm.exports=function(e){var t=so.getTypeOf(e);return so.checkSupport(t),t==="string"&&!_m.uint8array?new Ew(e):t==="nodebuffer"?new Aw(e):_m.uint8array?new Cw(so.transformTo("uint8array",e)):new kw(so.transformTo("array",e))}});var Tm=P((xx,Rm)=>{"use strict";var mu=pu(),er=ee(),Pw=Ma(),wm=za(),lo=cn(),uo=ou(),Iw=Et(),Ow=0,Fw=3,Bw=a(function(e){for(var t in uo)if(Object.prototype.hasOwnProperty.call(uo,t)&&uo[t].magic===e)return uo[t];return null},"findCompression");function Sm(e,t){this.options=e,this.loadOptions=t}a(Sm,"ZipEntry");Sm.prototype={isEncrypted:a(function(){return(this.bitFlag&1)===1},"isEncrypted"),useUTF8:a(function(){return(this.bitFlag&2048)===2048},"useUTF8"),readLocalPart:a(function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=Bw(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+er.pretty(this.compressionMethod)+" unknown (inner file : "+er.transformTo("string",this.fileName)+")");this.decompressed=new Pw(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},"readLocalPart"),readCentralPart:a(function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},"readCentralPart"),processAttributes:a(function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),e===Ow&&(this.dosPermissions=this.externalFileAttributes&63),e===Fw&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},"processAttributes"),parseZIP64ExtraField:a(function(){if(this.extraFields[1]){var e=mu(this.extraFields[1].value);this.uncompressedSize===er.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===er.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===er.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===er.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},"parseZIP64ExtraField"),readExtraFields:a(function(e){var t=e.index+this.extraFieldsLength,r,n,o;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),n=e.readInt(2),o=e.readData(n),this.extraFields[r]={id:r,length:n,value:o};e.setIndex(t)},"readExtraFields"),handleUTF8:a(function(){var e=Iw.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=lo.utf8decode(this.fileName),this.fileCommentStr=lo.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var r=er.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(n!==null)this.fileCommentStr=n;else{var o=er.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},"handleUTF8"),findExtraFieldUnicodePath:a(function(){var e=this.extraFields[28789];if(e){var t=mu(e.value);return t.readInt(1)!==1||wm(this.fileName)!==t.readInt(4)?null:lo.utf8decode(t.readData(e.length-5))}return null},"findExtraFieldUnicodePath"),findExtraFieldUnicodeComment:a(function(){var e=this.extraFields[25461];if(e){var t=mu(e.value);return t.readInt(1)!==1||wm(this.fileComment)!==t.readInt(4)?null:lo.utf8decode(t.readData(e.length-5))}return null},"findExtraFieldUnicodeComment")};Rm.exports=Sm});var Em=P((Ex,km)=>{"use strict";var Dw=pu(),Ft=ee(),Qe=su(),Lw=Tm(),qw=Et();function xm(e){this.files=[],this.loadOptions=e}a(xm,"ZipEntries");xm.prototype={checkSignature:a(function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Ft.pretty(t)+", expected "+Ft.pretty(e)+")")}},"checkSignature"),isSignature:a(function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4),o=n===t;return this.reader.setIndex(r),o},"isSignature"),readBlockEndOfCentral:a(function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=qw.uint8array?"uint8array":"array",r=Ft.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},"readBlockEndOfCentral"),readBlockZip64EndOfCentral:a(function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e=this.zip64EndOfCentralSize-44,t=0,r,n,o;t<e;)r=this.reader.readInt(2),n=this.reader.readInt(4),o=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:o}},"readBlockZip64EndOfCentral"),readBlockZip64EndOfCentralLocator:a(function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},"readBlockZip64EndOfCentralLocator"),readLocalFiles:a(function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(Qe.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},"readLocalFiles"),readCentralDir:a(function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Qe.CENTRAL_FILE_HEADER);)e=new Lw({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},"readCentralDir"),readEndOfCentral:a(function(){var e=this.reader.lastIndexOfSignature(Qe.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,Qe.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var r=e;if(this.checkSignature(Qe.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===Ft.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Ft.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Ft.MAX_VALUE_16BITS||this.centralDirRecords===Ft.MAX_VALUE_16BITS||this.centralDirSize===Ft.MAX_VALUE_32BITS||this.centralDirOffset===Ft.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(Qe.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(Qe.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Qe.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Qe.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Qe.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var o=r-n;if(o>0)this.isSignature(r,Qe.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},"readEndOfCentral"),prepareReader:a(function(e){this.reader=Dw(e)},"prepareReader"),load:a(function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()},"load")};km.exports=xm});var Pm=P((Cx,Cm)=>{"use strict";var gu=ee(),fo=ln(),zw=cn(),Mw=Em(),Uw=bl(),Am=ai();function Ww(e){return new fo.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new Uw);n.on("error",function(o){r(o)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}a(Ww,"checkEntryCRC32");Cm.exports=function(e,t){var r=this;return t=gu.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:zw.utf8decode}),Am.isNode&&Am.isStream(e)?fo.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):gu.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(n){var o=new Mw(t);return o.load(n),o}).then(a(function(o){var l=[fo.Promise.resolve(o)],f=o.files;if(t.checkCRC32)for(var d=0;d<f.length;d++)l.push(Ww(f[d]));return fo.Promise.all(l)},"checkCRC32")).then(a(function(o){for(var l=o.shift(),f=l.files,d=0;d<f.length;d++){var m=f[d],c=m.fileNameStr,h=gu.resolve(m.fileNameStr);r.file(h,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:t.createFolders}),m.dir||(r.file(h).unsafeOriginalName=c)}return l.zipComment.length&&(r.comment=l.zipComment),r},"addFiles"))}});var co=P((Ix,Im)=>{"use strict";function Me(){if(!(this instanceof Me))return new Me;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new Me;for(var t in this)typeof this[t]!="function"&&(e[t]=this[t]);return e}}a(Me,"JSZip");Me.prototype=om();Me.prototype.loadAsync=Pm();Me.support=Et();Me.defaults=pl();Me.version="3.10.1";Me.loadAsync=function(e,t){return new Me().loadAsync(e,t)};Me.external=ln();Im.exports=Me});var Nw={};Mf(Nw,{TestRunMonitor:()=>bo});module.exports=Ub(Nw);var Nm=Oe(require("net")),jm=require("fs");var _c=Oe(require("http"),1),vc=Oe(require("https"),1),pr=Oe(require("zlib"),1),xe=Oe(require("stream"),1),Gn=require("buffer");function Wb(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",o=!1,l=r[0]||"text/plain",f=l;for(let h=1;h<r.length;h++)r[h]==="base64"?o=!0:r[h]&&(f+=`;${r[h]}`,r[h].indexOf("charset=")===0&&(n=r[h].substring(8)));!r[0]&&!n.length&&(f+=";charset=US-ASCII",n="US-ASCII");let d=o?"base64":"ascii",m=unescape(e.substring(t+1)),c=Buffer.from(m,d);return c.type=l,c.typeFull=f,c.charset=n,c}a(Wb,"dataUriToBuffer");var Nf=Wb;var Be=Oe(require("stream"),1),Rt=require("util"),Re=require("buffer");Wn();la();var bs=class bs extends Error{constructor(t,r){super(t),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};a(bs,"FetchBaseError");var St=bs;var ys=class ys extends St{constructor(t,r,n){super(t,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};a(ys,"FetchError");var ye=ys;var ua=Symbol.toStringTag,_s=a(e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[ua]==="URLSearchParams","isURLSearchParameters"),Zn=a(e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[ua]),"isBlob"),Xf=a(e=>typeof e=="object"&&(e[ua]==="AbortSignal"||e[ua]==="EventTarget"),"isAbortSignal"),Qf=a((e,t)=>{let r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},"isDomainOrSubdomain"),Jf=a((e,t)=>{let r=new URL(t).protocol,n=new URL(e).protocol;return r===n},"isSameProtocol");var ry=(0,Rt.promisify)(Be.default.pipeline),_e=Symbol("Body internals"),Ts=class Ts{constructor(t,{size:r=0}={}){let n=null;t===null?t=null:_s(t)?t=Re.Buffer.from(t.toString()):Zn(t)||Re.Buffer.isBuffer(t)||(Rt.types.isAnyArrayBuffer(t)?t=Re.Buffer.from(t):ArrayBuffer.isView(t)?t=Re.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof Be.default||(t instanceof fr?(t=Kf(t),n=t.type.split("=")[1]):t=Re.Buffer.from(String(t))));let o=t;Re.Buffer.isBuffer(t)?o=Be.default.Readable.from(t):Zn(t)&&(o=Be.default.Readable.from(t.stream())),this[_e]={body:t,stream:o,boundary:n,disturbed:!1,error:null},this.size=r,t instanceof Be.default&&t.on("error",l=>{let f=l instanceof St?l:new ye(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[_e].error=f})}get body(){return this[_e].stream}get bodyUsed(){return this[_e].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:r,byteLength:n}=await Rs(this);return t.slice(r,r+n)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let n=new fr,o=new URLSearchParams(await this.text());for(let[l,f]of o)n.append(l,f);return n}let{toFormData:r}=await Promise.resolve().then(()=>(ic(),nc));return r(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[_e].body&&this[_e].body.type||"",r=await this.arrayBuffer();return new wt([r],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await Rs(this);return new TextDecoder().decode(t)}buffer(){return Rs(this)}};a(Ts,"Body");var ot=Ts;ot.prototype.buffer=(0,Rt.deprecate)(ot.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ot.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Rt.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Rs(e){if(e[_e].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[_e].disturbed=!0,e[_e].error)throw e[_e].error;let{body:t}=e;if(t===null)return Re.Buffer.alloc(0);if(!(t instanceof Be.default))return Re.Buffer.alloc(0);let r=[],n=0;try{for await(let o of t){if(e.size>0&&n+o.length>e.size){let l=new ye(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(l),l}n+=o.length,r.push(o)}}catch(o){throw o instanceof St?o:new ye(`Invalid response body while trying to fetch ${e.url}: ${o.message}`,"system",o)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return r.every(o=>typeof o=="string")?Re.Buffer.from(r.join("")):Re.Buffer.concat(r,n)}catch(o){throw new ye(`Could not create Buffer from response body for ${e.url}: ${o.message}`,"system",o)}else throw new ye(`Premature close of server response while trying to fetch ${e.url}`)}a(Rs,"consumeBody");var Xr=a((e,t)=>{let r,n,{body:o}=e[_e];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof Be.default&&typeof o.getBoundary!="function"&&(r=new Be.PassThrough({highWaterMark:t}),n=new Be.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[_e].stream=r,o=n),o},"clone"),ny=(0,Rt.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),ha=a((e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":_s(e)?"application/x-www-form-urlencoded;charset=UTF-8":Zn(e)?e.type||null:Re.Buffer.isBuffer(e)||Rt.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof fr?`multipart/form-data; boundary=${t[_e].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${ny(e)}`:e instanceof Be.default?null:"text/plain;charset=UTF-8","extractContentType"),ac=a(e=>{let{body:t}=e[_e];return t===null?0:Zn(t)?t.size:Re.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},"getTotalBytes"),oc=a(async(e,{body:t})=>{t===null?e.end():await ry(t,e)},"writeToStream");var xs=require("util"),Vn=Oe(require("http"),1);var pa=typeof Vn.default.validateHeaderName=="function"?Vn.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},ks=typeof Vn.default.validateHeaderValue=="function"?Vn.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let r=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},ma=class ma extends URLSearchParams{constructor(t){let r=[];if(t instanceof ma){let n=t.raw();for(let[o,l]of Object.entries(n))r.push(...l.map(f=>[o,f]))}else if(t!=null)if(typeof t=="object"&&!xs.types.isBoxedPrimitive(t)){let n=t[Symbol.iterator];if(n==null)r.push(...Object.entries(t));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...t].map(o=>{if(typeof o!="object"||xs.types.isBoxedPrimitive(o))throw new TypeError("Each header pair must be an iterable object");return[...o]}).map(o=>{if(o.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...o]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,o])=>(pa(n),ks(n,String(o)),[String(n).toLowerCase(),String(o)])):void 0,super(r),new Proxy(this,{get(n,o,l){switch(o){case"append":case"set":return(f,d)=>(pa(f),ks(f,String(d)),URLSearchParams.prototype[o].call(n,String(f).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return f=>(pa(f),URLSearchParams.prototype[o].call(n,String(f).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,o,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let r=this.getAll(t);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(t)&&(n=n.toLowerCase()),n}forEach(t,r=void 0){for(let n of this.keys())Reflect.apply(t,r,[this.get(n),n,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,r)=>(t[r]=this.getAll(r),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,r)=>{let n=this.getAll(r);return r==="host"?t[r]=n[0]:t[r]=n.length>1?n:n[0],t},{})}};a(ma,"Headers");var Te=ma;Object.defineProperties(Te.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function sc(e=[]){return new Te(e.reduce((t,r,n,o)=>(n%2===0&&t.push(o.slice(n,n+2)),t),[]).filter(([t,r])=>{try{return pa(t),ks(t,String(r)),!0}catch{return!1}}))}a(sc,"fromRawHeaders");var iy=new Set([301,302,303,307,308]),ga=a(e=>iy.has(e),"isRedirect");var Ve=Symbol("Response internals"),dr=class dr extends ot{constructor(t=null,r={}){super(t,r);let n=r.status!=null?r.status:200,o=new Te(r.headers);if(t!==null&&!o.has("Content-Type")){let l=ha(t,this);l&&o.append("Content-Type",l)}this[Ve]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:o,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Ve].type}get url(){return this[Ve].url||""}get status(){return this[Ve].status}get ok(){return this[Ve].status>=200&&this[Ve].status<300}get redirected(){return this[Ve].counter>0}get statusText(){return this[Ve].statusText}get headers(){return this[Ve].headers}get highWaterMark(){return this[Ve].highWaterMark}clone(){return new dr(Xr(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,r=302){if(!ga(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new dr(null,{headers:{location:new URL(t).toString()},status:r})}static error(){let t=new dr(null,{status:0,statusText:""});return t[Ve].type="error",t}static json(t=void 0,r={}){let n=JSON.stringify(t);if(n===void 0)throw new TypeError("data is not JSON serializable");let o=new Te(r&&r.headers);return o.has("content-type")||o.set("content-type","application/json"),new dr(n,{...r,headers:o})}get[Symbol.toStringTag](){return"Response"}};a(dr,"Response");var De=dr;Object.defineProperties(De.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var gc=require("url"),bc=require("util");var lc=a(e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""},"getSearch");var fc=require("net");function uc(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}a(uc,"stripURLForUseAsAReferrer");var cc=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),dc="strict-origin-when-cross-origin";function hc(e){if(!cc.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}a(hc,"validateReferrerPolicy");function ay(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,fc.isIP)(t);return r===4&&/^127\./.test(t)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:e.host==="localhost"||e.host.endsWith(".localhost")?!1:e.protocol==="file:"}a(ay,"isOriginPotentiallyTrustworthy");function Qr(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:ay(e)}a(Qr,"isUrlPotentiallyTrustworthy");function pc(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let n=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let o=e.referrer,l=uc(o),f=uc(o,!0);l.toString().length>4096&&(l=f),t&&(l=t(l)),r&&(f=r(f));let d=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return l;case"strict-origin":return Qr(l)&&!Qr(d)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return l.origin===d.origin?l:Qr(l)&&!Qr(d)?"no-referrer":f;case"same-origin":return l.origin===d.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===d.origin?l:f;case"no-referrer-when-downgrade":return Qr(l)&&!Qr(d)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}a(pc,"determineRequestsReferrer");function mc(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of t)n&&cc.has(n)&&(r=n);return r}a(mc,"parseReferrerPolicyFromHeader");var se=Symbol("Request internals"),Yn=a(e=>typeof e=="object"&&typeof e[se]=="object","isRequest"),oy=(0,bc.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),ba=class ba extends ot{constructor(t,r={}){let n;if(Yn(t)?n=new URL(t.url):(n=new URL(t),t={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let o=r.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(o)&&(o=o.toUpperCase()),!Yn(r)&&"data"in r&&oy(),(r.body!=null||Yn(t)&&t.body!==null)&&(o==="GET"||o==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body?r.body:Yn(t)&&t.body!==null?Xr(t):null;super(l,{size:r.size||t.size||0});let f=new Te(r.headers||t.headers||{});if(l!==null&&!f.has("Content-Type")){let c=ha(l,this);c&&f.set("Content-Type",c)}let d=Yn(t)?t.signal:null;if("signal"in r&&(d=r.signal),d!=null&&!Xf(d))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=r.referrer==null?t.referrer:r.referrer;if(m==="")m="no-referrer";else if(m){let c=new URL(m);m=/^about:(\/\/)?client$/.test(c)?"client":c}else m=void 0;this[se]={method:o,redirect:r.redirect||t.redirect||"follow",headers:f,parsedURL:n,signal:d,referrer:m},this.follow=r.follow===void 0?t.follow===void 0?20:t.follow:r.follow,this.compress=r.compress===void 0?t.compress===void 0?!0:t.compress:r.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent,this.highWaterMark=r.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||t.referrerPolicy||""}get method(){return this[se].method}get url(){return(0,gc.format)(this[se].parsedURL)}get headers(){return this[se].headers}get redirect(){return this[se].redirect}get signal(){return this[se].signal}get referrer(){if(this[se].referrer==="no-referrer")return"";if(this[se].referrer==="client")return"about:client";if(this[se].referrer)return this[se].referrer.toString()}get referrerPolicy(){return this[se].referrerPolicy}set referrerPolicy(t){this[se].referrerPolicy=hc(t)}clone(){return new ba(this)}get[Symbol.toStringTag](){return"Request"}};a(ba,"Request");var hr=ba;Object.defineProperties(hr.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var yc=a(e=>{let{parsedURL:t}=e[se],r=new Te(e[se].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(n="0"),e.body!==null){let d=ac(e);typeof d=="number"&&!Number.isNaN(d)&&(n=String(d))}n&&r.set("Content-Length",n),e.referrerPolicy===""&&(e.referrerPolicy=dc),e.referrer&&e.referrer!=="no-referrer"?e[se].referrer=pc(e):e[se].referrer="no-referrer",e[se].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;typeof o=="function"&&(o=o(t));let l=lc(t),f={path:t.pathname+l,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o};return{parsedURL:t,options:f}},"getNodeRequestOptions");var Es=class Es extends St{constructor(t,r="aborted"){super(t,r)}};a(Es,"AbortError");var ya=Es;la();vs();var sy=new Set(["data:","http:","https:"]);async function _a(e,t){return new Promise((r,n)=>{let o=new hr(e,t),{parsedURL:l,options:f}=yc(o);if(!sy.has(l.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let v=Nf(o.url),A=new De(v,{headers:{"Content-Type":v.typeFull}});r(A);return}let d=(l.protocol==="https:"?vc.default:_c.default).request,{signal:m}=o,c=null,h=a(()=>{let v=new ya("The operation was aborted.");n(v),o.body&&o.body instanceof xe.default.Readable&&o.body.destroy(v),!(!c||!c.body)&&c.body.emit("error",v)},"abort");if(m&&m.aborted){h();return}let x=a(()=>{h(),w()},"abortAndFinalize"),y=d(l.toString(),f);m&&m.addEventListener("abort",x);let w=a(()=>{y.abort(),m&&m.removeEventListener("abort",x)},"finalize");y.on("error",v=>{n(new ye(`request to ${o.url} failed, reason: ${v.message}`,"system",v)),w()}),ly(y,v=>{c&&c.body&&c.body.destroy(v)}),process.version<"v14"&&y.on("socket",v=>{let A;v.prependListener("end",()=>{A=v._eventsCount}),v.prependListener("close",E=>{if(c&&A<v._eventsCount&&!E){let S=new Error("Premature close");S.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",S)}})}),y.on("response",v=>{y.setTimeout(0);let A=sc(v.rawHeaders);if(ga(v.statusCode)){let R=A.get("Location"),T=null;try{T=R===null?null:new URL(R,o.url)}catch{if(o.redirect!=="manual"){n(new ye(`uri requested responds with an invalid redirect URL: ${R}`,"invalid-redirect")),w();return}}switch(o.redirect){case"error":n(new ye(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),w();return;case"manual":break;case"follow":{if(T===null)break;if(o.counter>=o.follow){n(new ye(`maximum redirect reached at: ${o.url}`,"max-redirect")),w();return}let O={headers:new Te(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:Xr(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!Qf(o.url,T)||!Jf(o.url,T))for(let D of["authorization","www-authenticate","cookie","cookie2"])O.headers.delete(D);if(v.statusCode!==303&&o.body&&t.body instanceof xe.default.Readable){n(new ye("Cannot follow redirect with body being a readable stream","unsupported-redirect")),w();return}(v.statusCode===303||(v.statusCode===301||v.statusCode===302)&&o.method==="POST")&&(O.method="GET",O.body=void 0,O.headers.delete("content-length"));let q=mc(A);q&&(O.referrerPolicy=q),r(_a(new hr(T,O))),w();return}default:return n(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}m&&v.once("end",()=>{m.removeEventListener("abort",x)});let E=(0,xe.pipeline)(v,new xe.PassThrough,R=>{R&&n(R)});process.version<"v12.10"&&v.on("aborted",x);let S={url:o.url,status:v.statusCode,statusText:v.statusMessage,headers:A,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},k=A.get("Content-Encoding");if(!o.compress||o.method==="HEAD"||k===null||v.statusCode===204||v.statusCode===304){c=new De(E,S),r(c);return}let C={flush:pr.default.Z_SYNC_FLUSH,finishFlush:pr.default.Z_SYNC_FLUSH};if(k==="gzip"||k==="x-gzip"){E=(0,xe.pipeline)(E,pr.default.createGunzip(C),R=>{R&&n(R)}),c=new De(E,S),r(c);return}if(k==="deflate"||k==="x-deflate"){let R=(0,xe.pipeline)(v,new xe.PassThrough,T=>{T&&n(T)});R.once("data",T=>{(T[0]&15)===8?E=(0,xe.pipeline)(E,pr.default.createInflate(),O=>{O&&n(O)}):E=(0,xe.pipeline)(E,pr.default.createInflateRaw(),O=>{O&&n(O)}),c=new De(E,S),r(c)}),R.once("end",()=>{c||(c=new De(E,S),r(c))});return}if(k==="br"){E=(0,xe.pipeline)(E,pr.default.createBrotliDecompress(),R=>{R&&n(R)}),c=new De(E,S),r(c);return}c=new De(E,S),r(c)}),oc(y,o).catch(n)})}a(_a,"fetch");function ly(e,t){let r=Gn.Buffer.from(`0\r
\r
`),n=!1,o=!1,l;e.on("response",f=>{let{headers:d}=f;n=d["transfer-encoding"]==="chunked"&&!d["content-length"]}),e.on("socket",f=>{let d=a(()=>{if(n&&!o){let c=new Error("Premature close");c.code="ERR_STREAM_PREMATURE_CLOSE",t(c)}},"onSocketClose"),m=a(c=>{o=Gn.Buffer.compare(c.slice(-5),r)===0,!o&&l&&(o=Gn.Buffer.compare(l.slice(-3),r.slice(0,3))===0&&Gn.Buffer.compare(c.slice(-2),r.slice(3))===0),l=c},"onData");f.prependListener("close",d),f.on("data",m),e.on("close",()=>{f.removeListener("close",d),f.removeListener("data",m)})})}a(ly,"fixResponseChunkedTransferBadEnding");var Oi=require("path");var Om=require("fs"),Fm=require("jsdom"),Bm=Oe(co());var bu=class bu{constructor(t,r,n,o={}){this.reportHTMLFilePath=t;this.testRunUUID=r;this.pwTestIdToChecksumTestId=n;this.supportVideo=!1;this.config={hosted:!0,assetsBaseURL:"https://api.checksum.ai/api/test-runs"};this.config={...this.config,...o}}async process(){this.config.hosted&&(await this.initializeDOM(),this.makeLightModeOnly(),await this.editZipFile(),await this.writeFile())}async initializeDOM(){return this.dom=await Fm.JSDOM.fromFile(this.reportHTMLFilePath,{resources:"usable",runScripts:"dangerously"}),new Promise(t=>this.dom.window.addEventListener("load",t))}async writeFile(){let t=this.dom.serialize();t=t.replace(/window.playwrightReportBase64 = ".*";/,`window.playwrightReportBase64 = "${this.newBase64Zip}";`),(0,Om.writeFileSync)(this.getProcessedFilePath(),t)}getProcessedFilePath(){return this.reportHTMLFilePath.replace(".html",`.${this.testRunUUID}.html`)}getReportsStats(){return this.stats}makeLightModeOnly(){try{this.dom.window.document.querySelector('meta[name="color-scheme"]').setAttribute("content","light");let r=this.dom.window.document.querySelector("head style"),n=r.innerHTML,o=/@media\s*\(prefers-color-scheme:\s*dark\)\s*{[^}]*}/g,l=n.replace(o,"");r.innerHTML=l}catch{}}async editZipFile(){let t=this.dom.window.playwrightReportBase64.replace("data:application/zip;base64,",""),r=await(0,Bm.loadAsync)(t,{base64:!0});for(let o of Object.keys(r.files)){let l=r.file(o);if(l){let f=await l.async("string"),d=JSON.parse(f);o.startsWith("report")?(this.handleReportJSON(d),this.extractStats(d)):this.handleFileReportJSON(d),r.file(o,JSON.stringify(d))}}let n=await r.generateAsync({type:"base64",compression:"DEFLATE"});this.newBase64Zip=`data:application/zip;base64,${n}`}extractStats(t){if(!t.stats)return;let r=a(f=>isNaN(f)?0:f,"getStat"),{expected:n,unexpected:o,flaky:l}=t.stats;this.stats={passed:r(l)+r(n),failed:r(o)}}getCloudPath(t){return`${this.config.assetsBaseURL}/${this.testRunUUID}/${this.pwTestIdToChecksumTestId[t]}`}handleReportJSON(t){t.files.forEach(r=>r.tests.forEach(n=>{n.results.forEach(o=>{this.processAttachments(o.attachments,n.testId)})}))}handleFileReportJSON(t){var r;(r=t.tests)==null||r.forEach(n=>{var o;(o=n.results)==null||o.forEach(l=>{this.processAttachments(l.attachments,n.testId)})})}processAttachments(t,r){if(t.forEach(n=>this.updateAttachment(n,r)),!this.supportVideo){let n=t.findIndex(o=>o.name==="video");n!==-1&&t.splice(n,1)}}updateAttachment(t,r){["trace","video"].includes(t.name)&&(t.path=`${this.getCloudPath(r)}/${t.name}`)}};a(bu,"PlaywrightReportProcessor");var ho=bu;var Hm=require("http");var V=require("fs"),_u=Oe(co()),vu=require("stream/promises"),Dm=require("crypto"),Cr=require("path");var yu,wu=class wu{constructor(t,r,n,o,l=!1){this.mode=t;this.traceDir=r;this.outputZipFilePath=n;this.frontendLogPrefix=o;this.deleteOriginalFiles=l;this.wallTimesToBeRemoved={};this.callIdsRemovals={};this.consoleLogGUIDs=[];this.numberOfLinesPerFile={};this.unarchiveFolder=(0,Dm.randomUUID)();this.resourcesFolder=(0,Cr.join)(this.unarchiveFolder,"resources");this.runningIndexes={trace:0,network:0,stacks:0};this.generationAllowedAPIName=["page.goto","page.waitForNavigation","page.waitForTimeout","locator.fill","locator.click","locator.hover","locator.check","locator.uncheck","locator.dblclick","locator.dragTo"];let{createInterface:f}=require("readline/promises");yu=f}async process(){if(this.mode==="runtime")return!1;try{if(!(0,V.existsSync)(this.traceDir))return!1;let r=(0,V.readdirSync)(this.traceDir).filter(n=>n.endsWith(".zip")).sort((n,o)=>{let l=a(m=>{try{let c=m.split(".");return parseInt(c[c.length-2])}catch{return 0}},"getIndex"),f=l(n),d=l(o);return f-d});if(!r.length)return!1;(0,V.mkdirSync)(this.unarchiveFolder),(0,V.mkdirSync)(this.resourcesFolder);for(let n of r)await this.processOne((0,Cr.join)(this.traceDir,n));if(await this.reZip(),(0,V.rmdirSync)(this.unarchiveFolder,{recursive:!0}),this.deleteOriginalFiles)for(let n of r)(0,V.rmSync)((0,Cr.join)(this.traceDir,n))}catch(t){return console.log("There was an error processing the trace files",t),!1}return!0}async processOne(t){let n=(await this.unzipAndWriteFiles(t)).trace.map(l=>(0,Cr.join)(this.unarchiveFolder,l));for(let l of n)await this.preprocessFile(l);let o=[...n];for(;o.length>0;)for(let l of o)await this.processFile(l,o)}async unzipAndWriteFiles(t){let r=(0,V.readFileSync)(t),n=await(0,_u.loadAsync)(r),o={trace:[],network:[],stacks:[]},l=a(f=>{let d=a((m,c)=>(o[c].push(m),m),"addToUnarchivedFiles");return f.endsWith(".trace")?d(`trace${this.runningIndexes.trace++}.trace`,"trace"):f.endsWith(".network")?d(`trace${this.runningIndexes.network++}.network`,"network"):f.endsWith(".stacks")?d(`trace${this.runningIndexes.stacks++}.stacks`,"stacks"):null},"getNewFileName");for(let f of Object.keys(n.files)){let d=l(f);if(!d)continue;let m=n.file(f).nodeStream(),c=(0,V.createWriteStream)(`${this.unarchiveFolder}/${d}`);await(0,vu.pipeline)(m,c)}for(let f of Object.keys(n.files)){if(!f.startsWith("resources/"))continue;let d=f.replace("resources/",""),m=`${this.resourcesFolder}/${d}`;if(this.mode==="generation"&&d.startsWith("src@")||(0,V.existsSync)(m))continue;let c=n.file(f).nodeStream(),h=(0,V.createWriteStream)(m);await(0,vu.pipeline)(c,h)}return o}async reZip(){let t=await(0,_u.loadAsync)("UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA==",{base64:!0});for(let o of(0,V.readdirSync)(this.unarchiveFolder))if(o.endsWith(".network")||this.shouldIncludeStacksFiles()&&o.endsWith(".stacks")||o.endsWith(".trace")){let l=(0,V.readFileSync)((0,Cr.join)(this.unarchiveFolder,o));t.file(o,l)}let r=t.folder("resources");for(let o of(0,V.readdirSync)(this.resourcesFolder)){let l=(0,V.readFileSync)((0,Cr.join)(this.resourcesFolder,o));r.file(o,l)}let n=await t.generateAsync({type:"nodebuffer",compression:"DEFLATE"});(0,V.existsSync)(this.outputZipFilePath)&&(0,V.rmSync)(this.outputZipFilePath),(0,V.writeFileSync)(this.outputZipFilePath,n)}async preprocessFile(t){this.callIdsRemovals[t]={callIdsToBeRemoved:{},arrayOfCallIdsToBeRemoved:new Set};let r=(0,V.createReadStream)(t),n=yu({input:r,crlfDelay:1/0}),o=0;for await(let l of n){o++;let f=JSON.parse(l);this.shouldLineBeRemoved(f)&&(f.wallTime&&(this.wallTimesToBeRemoved[f.wallTime]=!0),f.callId&&(this.callIdsRemovals[t].callIdsToBeRemoved[f.callId]=!0,this.callIdsRemovals[t].arrayOfCallIdsToBeRemoved.add(f.callId)))}this.numberOfLinesPerFile[t]=o}async processFile(t,r){var d,m;let n=[],o=(0,V.createReadStream)(t),l=yu({input:o,crlfDelay:1/0}),f=t;for await(let c of l){let h=JSON.parse(c),x=!1;if(this.frontendLogPrefix){if(this.isChecksumConsoleLog(h)){this.consoleLogGUIDs.push(h.guid);continue}if(this.isConsoleLogMetadata(h)&&this.consoleLogGUIDs.includes((m=(d=h.params)==null?void 0:d.message)==null?void 0:m.guid))continue}if(this.lineCanBeRemoved(h)&&(this.wallTimesToBeRemoved[h.wallTime]||this.callIdsRemovals[f].callIdsToBeRemoved[h.callId]||Array.from(this.callIdsRemovals[f].arrayOfCallIdsToBeRemoved).some(y=>c.includes(`"${y}"`)))&&(x=!0),x){h.callId&&(this.callIdsRemovals[f].callIdsToBeRemoved[h.callId]=!0,this.callIdsRemovals[f].arrayOfCallIdsToBeRemoved.add(h.callId));continue}n.push(c)}if(n.length===this.numberOfLinesPerFile[f]){let c=r.indexOf(f);c>-1&&r.splice(c,1)}else this.numberOfLinesPerFile[f]=n.length,(0,V.writeFileSync)(t,n.join(`
`))}isChecksumConsoleLog(t){var r,n;return t.class==="ConsoleMessage"&&((n=(r=t.initializer)==null?void 0:r.text)==null?void 0:n.startsWith(this.frontendLogPrefix))||t.type==="console"&&t.text.startsWith(this.frontendLogPrefix)}isConsoleLogMetadata(t){return t.class==="BrowserContext"&&t.method==="console"}lineCanBeRemoved(t){return!["frame-snapshot"].includes(t.type)}shouldLineBeRemoved(t){switch(this.mode){case"runtime":return this.shouldLineBeRemoved_runtime(t);case"generation":return this.shouldLineBeRemoved_generation(t)}return!1}shouldLineBeRemoved_runtime(t){return!1}shouldIncludeStacksFiles(){return this.mode==="runtime"}shouldLineBeRemoved_generation(t){return!!t.apiName&&!this.generationAllowedAPIName.includes(t.apiName)}};a(wu,"PlaywrightTraceProcessor");var po=wu;var Lm=Oe(co()),Pr=require("path"),tr=require("fs");async function qm(e,t){let r=await(0,tr.readdirSync)(t);await Promise.all(r.map(async n=>{let o=(0,Pr.join)(t,n);if((await(0,tr.statSync)(o)).isDirectory()){let f=e.folder(n);await qm(f,o)}else{let f=await(0,tr.readFileSync)(o);e.file(n,f)}}))}a(qm,"addFolderToZip");async function zm(e){try{let t=await(0,Lm.loadAsync)("UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA==",{base64:!0});await qm(t,e);let r=await t.generateAsync({type:"nodebuffer",compression:"DEFLATE"}),n=(0,Pr.join)((0,Pr.dirname)(e),`${(0,Pr.basename)(e)}.zip`);return(0,tr.writeFileSync)(n,r),n}catch(t){return console.error("Error creating zip:",t),null}}a(zm,"zipFolder");var Ii=a(e=>new Promise(t=>setTimeout(t,e)),"awaitSleep"),Mm=a(async(e,t=1e3,r="guardReturnTimedOut")=>{if(t===null)return e;let n="guard-timed-out",o=a(async()=>(await Ii(t+1e3),n),"guard"),l=await Promise.race([e,o()]);if(typeof l=="string"&&l===n)throw new Error(r);return l},"guardReturn");var Um=require("request"),go=require("fs");var Su=class Su{constructor(t,r,n,o,l){this.apiBaseURL=t;this.apiKey=r;this.uploadTimeout=n;this.makeGetUploadUrlAPIPath=o;this.onOutstandingUpload=l}async uploadAsset(t){try{let{path:r}=t.info;if(console.log("Uploading file",r),await this.getSignedURLForUpload(t),!t.uploadURL){console.log("Error getting signed URL for asset",r),t.error=!0;return}let o=(0,go.statSync)(r).size,l=(0,go.createReadStream)(r),f=Mm(new Promise((d,m)=>{var h;let c=(0,Um.put)(t.uploadURL,{body:l},(x,y)=>{x&&m(x),d(y)});(h=this.onOutstandingUpload)==null||h.call(this,{request:c,size:o})}),this.uploadTimeout);f.then(d=>{if(d.statusCode!==200)throw new Error("Upload failed");console.log("File uploaded successfully",r),t.complete=!0}).catch(d=>{console.log("Error uploading asset",r,d),t.error=!0}),t.response=f}catch{t.error=!0}}async getSignedURLForUpload(t){try{let r=t.info,n=await fetch(`${this.apiBaseURL}/${this.makeGetUploadUrlAPIPath(t)}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",ChecksumAppCode:this.apiKey},body:JSON.stringify(r)}),{url:o}=await n.json();t.uploadURL=o}catch(r){return console.log("Error getting signed URL for artifact",r),null}}};a(Su,"TestAssetUploader");var mo=Su;var Ru=class Ru{constructor(t,r=!1){this.config=t;this.isolationMode=r;this.MAX_UPLOADS=5;this.MONITOR_INTERVAL=2500;this.UPLOAD_TIMEOUT=10*60*1e3;this.WATCH_TIMEOUT=2*60*1e3;this.assets=[];this.watchAssets=[];this.reportComplete=!1;this.processingInProgress=!1;this.pwTestIdToChecksumTestId={};this.outstandingUploads=[];this.testAssetUploader=new mo(t.checksumApiURL,t.apiKey,this.UPLOAD_TIMEOUT,()=>`client-api/test-runs/${this.config.sessionId}/get-upload-url`,({request:n,size:o})=>{this.outstandingUploads.push({request:n,size:o})}),setInterval(this.monitorUploads.bind(this),this.MONITOR_INTERVAL),this.listenForMessages(),this.startServer()}listenForMessages(){process.stdin.on("data",async t=>{let r=t.toString().trim();if(!r.startsWith("cli:"))return;let[n,o]=r.substring(4).split("=");switch(n){case"report":this.testRunEndTime=Date.now(),await this.handleReport(o),this.monitorUploadsCompletion();break;case"shutdown":this.shutdown();break}})}sendMessage(t){setTimeout(()=>{console.log(`monitor:${t}`)},100)}async handleReport(t){console.log(`Handling report ${this.isolationMode?"(isolation mode)":""}`,t);try{let r=new ho(t,this.config.sessionId,this.pwTestIdToChecksumTestId,{hosted:!this.isolationMode});await r.process(),this.reportAsset=this.initAsset({type:"report",path:r.getProcessedFilePath()}),this.isolationMode?this.reportAsset.complete=!0:this.uploadAsset(this.reportAsset),this.stats=r.getReportsStats()}catch(r){console.log("Error processing report",r),this.reportAsset.error=!0}}shutdown(){console.log("Received shutdown message from CLI"),this.server.close(),process.exit(0)}async monitorUploadsCompletion(){var t;if(!this.reportComplete&&this.reportAsset&&(this.reportAsset.complete||this.reportAsset.error)){this.reportComplete=!0;let r="{}";try{r=JSON.stringify(this.stats)}catch(n){console.log("Error stringifying stats",n)}this.sendMessage(`report-complete=${(t=this.reportAsset)!=null&&t.complete?"true":"false"}:${r}`)}if(!this.processingInProgress&&this.reportComplete&&this.assets.filter(r=>r.complete||r.error).length===this.assets.length&&(this.watchAssets.length===0||this.testRunEndTime&&Date.now()-this.testRunEndTime>this.WATCH_TIMEOUT)){this.sendMessage(this.assets.find(r=>r.error)?"complete-with-errors":"complete");return}await Ii(1e3),this.monitorUploadsCompletion()}async startServer(){let t=await this.acquirePortNumber();this.sendMessage(`port=${t}`),this.server=(0,Hm.createServer)((r,n)=>{let o=a(f=>{n.writeHead(400,{"Content-Type":"text/plain"}),n.end(f)},"returnErrorWithMessage");if(r.method!=="POST"){n.writeHead(404,{"Content-Type":"text/plain"}),n.end("Method not allowed");return}let l="";r.on("data",f=>{l+=f.toString()}),r.on("end",()=>{let f;try{f=JSON.parse(l)}catch{return o("Invalid body")}let{type:d,payload:m,watch:c}=f;switch(console.log("Server received message",d,m),d){case"asset":if(!m.path||!m.type)return o("Missing arguments");c?this.watchAsset(m):this.processAsset(m);break;case"testInfo":if(!m.pwTestId||!m.checksumTestId)return o("Missing arguments");this.pwTestIdToChecksumTestId[m.pwTestId]=m.checksumTestId;break;case"testStats":break;case"playwrightConfig":this.sendMessage(`playwrightConfig=${JSON.stringify(m)}`);break;default:return o("Invalid message type")}n.writeHead(200,{"Content-Type":"text/plain"}),n.end("OK")})}),this.server.listen(t)}monitorUploads(){let{totalSize:t,totalUploaded:r}=this.calculateUploadProgress();if(t>0){let l=(r/t*100).toFixed(2);this.sendMessage(`upload-progress=${l}`)}let n=a(()=>this.assets.filter(l=>l.response&&!l.complete&&!l.error),"getActiveUploads"),o=this.assets.filter(l=>!l.response);if(o.length!==0&&!(n().length>=this.MAX_UPLOADS))for(;o.length>0&&n().length<this.MAX_UPLOADS;){let l=o.pop();this.uploadAsset(l)}}calculateUploadProgress(){let{totalSize:t,totalUploaded:r}=this.outstandingUploads.reduce((n,{size:o,request:l})=>(n.totalSize+=o,n.totalUploaded+=l.req.connection._bytesDispatched,n),{totalSize:0,totalUploaded:0});return{totalSize:t,totalUploaded:Math.min(t,r)}}getUploadLogMessage(t){switch(t.info.type){case"report":return"Uploading report";case"har":return`Uploading har file for test ${t.info.testId}`;case"trace":return`Uploading trace file for test ${t.info.testId}`;case"esra":return`Uploading metadata file for test ${t.info.testId}`;case"test-files":return`Uploading auto-healed test code for file ${t.info.path}`}}async uploadAsset(t){try{if(this.isolationMode){t.response=new Promise(n=>{setTimeout(()=>{t.complete=!0,n({statusCode:200,ok:!0,body:"OK"})},10)});return}let r=this.getUploadLogMessage(t);r&&this.sendMessage(`log=${r}`),await this.testAssetUploader.uploadAsset(t)}catch{t.error=!0}}async getSignedURLForUpload(t){try{let{apiKey:r,sessionId:n,checksumApiURL:o}=this.config,l=t.info,f=await _a(`${o}/client-api/test-runs/${n}/get-upload-url`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",ChecksumAppCode:r},body:JSON.stringify(l)}),{url:d}=await f.json();t.uploadURL=d}catch(r){return console.log("Error getting signed URL for artifact",r),null}}watchAsset(t){console.log("Watching file",t.path),this.watchAssets.push({...t,addedAt:Date.now()});let r=(0,Oi.dirname)(t.path),n=(0,Oi.basename)(t.path),o=(0,jm.watch)(r,(l,f)=>{f===n&&(console.log("Watched file changed",t.path),this.processAsset(t),o.close(),this.watchAssets=this.watchAssets.filter(d=>d.path!==t.path))})}processAsset(t){switch(t.type){case"trace":return this.processTrace(t.path,t.testId);case"har":return this.processHar(t.path,t.testId);case"esra":case"test-files":return this.addAsset(t)}}async processHar(t,r){await Ii(1e3);let n=await zm(t);if(console.log("Processed har, sending for upload"),n)return this.addAsset({type:"har",path:n,testId:r})}async processTrace(t,r){try{this.processingInProgress=!0,await Ii(1e3);let n=t.replace(".zip",".processed.zip"),o=await new po("runtime",(0,Oi.dirname)(t),n,"$checksum").process();console.log("Processed trace files, adding assets"),o?(this.addAsset({type:"trace",path:n,testId:r}),this.addAsset({type:"trace-backup-file",path:t,testId:r})):this.addAsset({type:"trace",path:t,testId:r})}catch(n){console.log("Error processing trace file",n)}finally{this.processingInProgress=!1}}addAsset(t){console.log("Adding file",t.path);let r=this.initAsset(t);return this.assets.push(r),r}initAsset(t){return{complete:!1,error:!1,response:void 0,info:t}}async acquirePortNumber(){return await new Promise((t,r)=>{let n=Nm.createServer();n.unref(),n.on("error",r),n.listen(0,()=>{let o=n.address().port;n.close(()=>{t(o)})})})}};a(Ru,"TestRunMonitor");var bo=Ru,Zm;try{Zm=JSON.parse(process.argv[2])}catch(e){console.log("Error starting test run monitor",e),process.exit(1)}var Wm;new bo(Zm,((Wm=process.argv)==null?void 0:Wm[3])==="isolated");0&&(module.exports={TestRunMonitor});
/*! Bundled license information:

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)
*/
