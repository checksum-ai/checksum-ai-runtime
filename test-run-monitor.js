var Ub=Object.create;var Wn=Object.defineProperty;var Wb=Object.getOwnPropertyDescriptor;var Nb=Object.getOwnPropertyNames;var jb=Object.getPrototypeOf,Hb=Object.prototype.hasOwnProperty;var Uf=e=>{throw TypeError(e)};var a=(e,t)=>Wn(e,"name",{value:t,configurable:!0});var Nn=(e,t)=>()=>(e&&(t=e(e=0)),t);var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wf=(e,t)=>{for(var r in t)Wn(e,r,{get:t[r],enumerable:!0})},Nf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Nb(t))!Hb.call(e,o)&&o!==r&&Wn(e,o,{get:()=>t[o],enumerable:!(n=Wb(t,o))||n.enumerable});return e};var Oe=(e,t,r)=>(r=e!=null?Ub(jb(e)):{},Nf(t||!e||!e.__esModule?Wn(r,"default",{value:e,enumerable:!0}):r,e)),Zb=e=>Nf(Wn({},"__esModule",{value:!0}),e);var jf=(e,t,r)=>t.has(e)||Uf("Cannot "+r);var te=(e,t,r)=>(jf(e,t,"read from private field"),r?r.call(e):t.get(e)),$e=(e,t,r)=>t.has(e)?Uf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Se=(e,t,r,n)=>(jf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var $f=C((la,Zf)=>{(function(e,t){typeof la=="object"&&typeof Zf<"u"?t(la):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.WebStreamsPolyfill={}))})(la,function(e){"use strict";function t(){}a(t,"noop");function r(i){return typeof i=="object"&&i!==null||typeof i=="function"}a(r,"typeIsObject");let n=t;function o(i,s){try{Object.defineProperty(i,"name",{value:s,configurable:!0})}catch{}}a(o,"setFunctionName");let l=Promise,f=Promise.prototype.then,d=Promise.reject.bind(l);function m(i){return new l(i)}a(m,"newPromise");function c(i){return m(s=>s(i))}a(c,"promiseResolvedWith");function h(i){return d(i)}a(h,"promiseRejectedWith");function E(i,s,u){return f.call(i,s,u)}a(E,"PerformPromiseThen");function y(i,s,u){E(E(i,s,u),void 0,n)}a(y,"uponPromise");function w(i,s){y(i,s)}a(w,"uponFulfillment");function v(i,s){y(i,void 0,s)}a(v,"uponRejection");function k(i,s,u){return E(i,s,u)}a(k,"transformPromiseWith");function A(i){E(i,void 0,n)}a(A,"setPromiseIsHandledToTrue");let S=a(i=>{if(typeof queueMicrotask=="function")S=queueMicrotask;else{let s=c(void 0);S=a(u=>E(s,u),"_queueMicrotask")}return S(i)},"_queueMicrotask");function x(i,s,u){if(typeof i!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(i,s,u)}a(x,"reflectCall");function P(i,s,u){try{return c(x(i,s,u))}catch(p){return h(p)}}a(P,"promiseCall");let T=16384,es=class es{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(s){let u=this._back,p=u;u._elements.length===T-1&&(p={_elements:[],_next:void 0}),u._elements.push(s),p!==u&&(this._back=p,u._next=p),++this._size}shift(){let s=this._front,u=s,p=this._cursor,g=p+1,b=s._elements,_=b[p];return g===T&&(u=s._next,g=0),--this._size,this._cursor=g,s!==u&&(this._front=u),b[p]=void 0,_}forEach(s){let u=this._cursor,p=this._front,g=p._elements;for(;(u!==g.length||p._next!==void 0)&&!(u===g.length&&(p=p._next,g=p._elements,u=0,g.length===0));)s(g[u]),++u}peek(){let s=this._front,u=this._cursor;return s._elements[u]}};a(es,"SimpleQueue");let R=es,O=Symbol("[[AbortSteps]]"),q=Symbol("[[ErrorSteps]]"),D=Symbol("[[CancelSteps]]"),U=Symbol("[[PullSteps]]"),$=Symbol("[[ReleaseSteps]]");function F(i,s){i._ownerReadableStream=s,s._reader=i,s._state==="readable"?Or(i):s._state==="closed"?Fr(i):Pn(i,s._storedError)}a(F,"ReadableStreamReaderGenericInitialize");function le(i,s){let u=i._ownerReadableStream;return He(u,s)}a(le,"ReadableStreamReaderGenericCancel");function ce(i){let s=i._ownerReadableStream;s._state==="readable"?Dt(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Xm(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),s._readableStreamController[$](),s._reader=void 0,i._ownerReadableStream=void 0}a(ce,"ReadableStreamReaderGenericRelease");function pt(i){return new TypeError("Cannot "+i+" a stream using a released reader")}a(pt,"readerLockException");function Or(i){i._closedPromise=m((s,u)=>{i._closedPromise_resolve=s,i._closedPromise_reject=u})}a(Or,"defaultReaderClosedPromiseInitialize");function Pn(i,s){Or(i),Dt(i,s)}a(Pn,"defaultReaderClosedPromiseInitializeAsRejected");function Fr(i){Or(i),xu(i)}a(Fr,"defaultReaderClosedPromiseInitializeAsResolved");function Dt(i,s){i._closedPromise_reject!==void 0&&(A(i._closedPromise),i._closedPromise_reject(s),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}a(Dt,"defaultReaderClosedPromiseReject");function Xm(i,s){Pn(i,s)}a(Xm,"defaultReaderClosedPromiseResetToRejected");function xu(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}a(xu,"defaultReaderClosedPromiseResolve");let Au=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},Qm=Math.trunc||function(i){return i<0?Math.ceil(i):Math.floor(i)};function Jm(i){return typeof i=="object"||typeof i=="function"}a(Jm,"isDictionary");function Je(i,s){if(i!==void 0&&!Jm(i))throw new TypeError(`${s} is not an object.`)}a(Je,"assertDictionary");function Ce(i,s){if(typeof i!="function")throw new TypeError(`${s} is not a function.`)}a(Ce,"assertFunction");function eg(i){return typeof i=="object"&&i!==null||typeof i=="function"}a(eg,"isObject");function ku(i,s){if(!eg(i))throw new TypeError(`${s} is not an object.`)}a(ku,"assertObject");function mt(i,s,u){if(i===void 0)throw new TypeError(`Parameter ${s} is required in '${u}'.`)}a(mt,"assertRequiredArgument");function vo(i,s,u){if(i===void 0)throw new TypeError(`${s} is required in '${u}'.`)}a(vo,"assertRequiredField");function wo(i){return Number(i)}a(wo,"convertUnrestrictedDouble");function Cu(i){return i===0?0:i}a(Cu,"censorNegativeZero");function tg(i){return Cu(Qm(i))}a(tg,"integerPart");function So(i,s){let p=Number.MAX_SAFE_INTEGER,g=Number(i);if(g=Cu(g),!Au(g))throw new TypeError(`${s} is not a finite number`);if(g=tg(g),g<0||g>p)throw new TypeError(`${s} is outside the accepted range of 0 to ${p}, inclusive`);return!Au(g)||g===0?0:g}a(So,"convertUnsignedLongLongWithEnforceRange");function To(i,s){if(!Ut(i))throw new TypeError(`${s} is not a ReadableStream.`)}a(To,"assertReadableStream");function Br(i){return new et(i)}a(Br,"AcquireReadableStreamDefaultReader");function Pu(i,s){i._reader._readRequests.push(s)}a(Pu,"ReadableStreamAddReadRequest");function Ro(i,s,u){let g=i._reader._readRequests.shift();u?g._closeSteps():g._chunkSteps(s)}a(Ro,"ReadableStreamFulfillReadRequest");function Di(i){return i._reader._readRequests.length}a(Di,"ReadableStreamGetNumReadRequests");function Iu(i){let s=i._reader;return!(s===void 0||!Lt(s))}a(Iu,"ReadableStreamHasDefaultReader");let ts=class ts{constructor(s){if(mt(s,1,"ReadableStreamDefaultReader"),To(s,"First parameter"),Wt(s))throw new TypeError("This stream has already been locked for exclusive reading by another reader");F(this,s),this._readRequests=new R}get closed(){return Lt(this)?this._closedPromise:h(Li("closed"))}cancel(s=void 0){return Lt(this)?this._ownerReadableStream===void 0?h(pt("cancel")):le(this,s):h(Li("cancel"))}read(){if(!Lt(this))return h(Li("read"));if(this._ownerReadableStream===void 0)return h(pt("read from"));let s,u,p=m((b,_)=>{s=b,u=_});return In(this,{_chunkSteps:a(b=>s({value:b,done:!1}),"_chunkSteps"),_closeSteps:a(()=>s({value:void 0,done:!0}),"_closeSteps"),_errorSteps:a(b=>u(b),"_errorSteps")}),p}releaseLock(){if(!Lt(this))throw Li("releaseLock");this._ownerReadableStream!==void 0&&rg(this)}};a(ts,"ReadableStreamDefaultReader");let et=ts;Object.defineProperties(et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(et.prototype.cancel,"cancel"),o(et.prototype.read,"read"),o(et.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(et.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Lt(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_readRequests")?!1:i instanceof et}a(Lt,"IsReadableStreamDefaultReader");function In(i,s){let u=i._ownerReadableStream;u._disturbed=!0,u._state==="closed"?s._closeSteps():u._state==="errored"?s._errorSteps(u._storedError):u._readableStreamController[U](s)}a(In,"ReadableStreamDefaultReaderRead");function rg(i){ce(i);let s=new TypeError("Reader was released");Ou(i,s)}a(rg,"ReadableStreamDefaultReaderRelease");function Ou(i,s){let u=i._readRequests;i._readRequests=new R,u.forEach(p=>{p._errorSteps(s)})}a(Ou,"ReadableStreamDefaultReaderErrorReadRequests");function Li(i){return new TypeError(`ReadableStreamDefaultReader.prototype.${i} can only be used on a ReadableStreamDefaultReader`)}a(Li,"defaultReaderBrandCheckException");let ng=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),rs=class rs{constructor(s,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=s,this._preventCancel=u}next(){let s=a(()=>this._nextSteps(),"nextSteps");return this._ongoingPromise=this._ongoingPromise?k(this._ongoingPromise,s,s):s(),this._ongoingPromise}return(s){let u=a(()=>this._returnSteps(s),"returnSteps");return this._ongoingPromise?k(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let s=this._reader,u,p,g=m((_,I)=>{u=_,p=I});return In(s,{_chunkSteps:a(_=>{this._ongoingPromise=void 0,S(()=>u({value:_,done:!1}))},"_chunkSteps"),_closeSteps:a(()=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(s),u({value:void 0,done:!0})},"_closeSteps"),_errorSteps:a(_=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(s),p(_)},"_errorSteps")}),g}_returnSteps(s){if(this._isFinished)return Promise.resolve({value:s,done:!0});this._isFinished=!0;let u=this._reader;if(!this._preventCancel){let p=le(u,s);return ce(u),k(p,()=>({value:s,done:!0}))}return ce(u),c({value:s,done:!0})}};a(rs,"ReadableStreamAsyncIteratorImpl");let qi=rs,Fu={next(){return Bu(this)?this._asyncIteratorImpl.next():h(Du("next"))},return(i){return Bu(this)?this._asyncIteratorImpl.return(i):h(Du("return"))}};Object.setPrototypeOf(Fu,ng);function ig(i,s){let u=Br(i),p=new qi(u,s),g=Object.create(Fu);return g._asyncIteratorImpl=p,g}a(ig,"AcquireReadableStreamAsyncIterator");function Bu(i){if(!r(i)||!Object.prototype.hasOwnProperty.call(i,"_asyncIteratorImpl"))return!1;try{return i._asyncIteratorImpl instanceof qi}catch{return!1}}a(Bu,"IsReadableStreamAsyncIterator");function Du(i){return new TypeError(`ReadableStreamAsyncIterator.${i} can only be used on a ReadableSteamAsyncIterator`)}a(Du,"streamAsyncIteratorBrandCheckException");let Lu=Number.isNaN||function(i){return i!==i};var Eo,xo,Ao;function On(i){return i.slice()}a(On,"CreateArrayFromList");function qu(i,s,u,p,g){new Uint8Array(i).set(new Uint8Array(u,p,g),s)}a(qu,"CopyDataBlockBytes");let gt=a(i=>(typeof i.transfer=="function"?gt=a(s=>s.transfer(),"TransferArrayBuffer"):typeof structuredClone=="function"?gt=a(s=>structuredClone(s,{transfer:[s]}),"TransferArrayBuffer"):gt=a(s=>s,"TransferArrayBuffer"),gt(i)),"TransferArrayBuffer"),qt=a(i=>(typeof i.detached=="boolean"?qt=a(s=>s.detached,"IsDetachedBuffer"):qt=a(s=>s.byteLength===0,"IsDetachedBuffer"),qt(i)),"IsDetachedBuffer");function Mu(i,s,u){if(i.slice)return i.slice(s,u);let p=u-s,g=new ArrayBuffer(p);return qu(g,0,i,s,p),g}a(Mu,"ArrayBufferSlice");function Mi(i,s){let u=i[s];if(u!=null){if(typeof u!="function")throw new TypeError(`${String(s)} is not a function`);return u}}a(Mi,"GetMethod");function ag(i){let s={[Symbol.iterator]:()=>i.iterator},u=async function*(){return yield*s}(),p=u.next;return{iterator:u,nextMethod:p,done:!1}}a(ag,"CreateAsyncFromSyncIterator");let ko=(Ao=(Eo=Symbol.asyncIterator)!==null&&Eo!==void 0?Eo:(xo=Symbol.for)===null||xo===void 0?void 0:xo.call(Symbol,"Symbol.asyncIterator"))!==null&&Ao!==void 0?Ao:"@@asyncIterator";function zu(i,s="sync",u){if(u===void 0)if(s==="async"){if(u=Mi(i,ko),u===void 0){let b=Mi(i,Symbol.iterator),_=zu(i,"sync",b);return ag(_)}}else u=Mi(i,Symbol.iterator);if(u===void 0)throw new TypeError("The object is not iterable");let p=x(u,i,[]);if(!r(p))throw new TypeError("The iterator method must return an object");let g=p.next;return{iterator:p,nextMethod:g,done:!1}}a(zu,"GetIterator");function og(i){let s=x(i.nextMethod,i.iterator,[]);if(!r(s))throw new TypeError("The iterator.next() method must return an object");return s}a(og,"IteratorNext");function sg(i){return!!i.done}a(sg,"IteratorComplete");function lg(i){return i.value}a(lg,"IteratorValue");function ug(i){return!(typeof i!="number"||Lu(i)||i<0)}a(ug,"IsNonNegativeNumber");function Uu(i){let s=Mu(i.buffer,i.byteOffset,i.byteOffset+i.byteLength);return new Uint8Array(s)}a(Uu,"CloneAsUint8Array");function Co(i){let s=i._queue.shift();return i._queueTotalSize-=s.size,i._queueTotalSize<0&&(i._queueTotalSize=0),s.value}a(Co,"DequeueValue");function Po(i,s,u){if(!ug(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");i._queue.push({value:s,size:u}),i._queueTotalSize+=u}a(Po,"EnqueueValueWithSize");function fg(i){return i._queue.peek().value}a(fg,"PeekQueueValue");function Mt(i){i._queue=new R,i._queueTotalSize=0}a(Mt,"ResetQueue");function Wu(i){return i===DataView}a(Wu,"isDataViewConstructor");function cg(i){return Wu(i.constructor)}a(cg,"isDataView");function dg(i){return Wu(i)?1:i.BYTES_PER_ELEMENT}a(dg,"arrayBufferViewElementSize");let ns=class ns{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Io(this))throw Lo("view");return this._view}respond(s){if(!Io(this))throw Lo("respond");if(mt(s,1,"respond"),s=So(s,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(qt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ni(this._associatedReadableByteStreamController,s)}respondWithNewView(s){if(!Io(this))throw Lo("respondWithNewView");if(mt(s,1,"respondWithNewView"),!ArrayBuffer.isView(s))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(qt(s.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");ji(this._associatedReadableByteStreamController,s)}};a(ns,"ReadableStreamBYOBRequest");let bt=ns;Object.defineProperties(bt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),o(bt.prototype.respond,"respond"),o(bt.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});let is=class is{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!nr(this))throw Bn("byobRequest");return Do(this)}get desiredSize(){if(!nr(this))throw Bn("desiredSize");return Xu(this)}close(){if(!nr(this))throw Bn("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let s=this._controlledReadableByteStream._state;if(s!=="readable")throw new TypeError(`The stream (in ${s} state) is not in the readable state and cannot be closed`);Fn(this)}enqueue(s){if(!nr(this))throw Bn("enqueue");if(mt(s,1,"enqueue"),!ArrayBuffer.isView(s))throw new TypeError("chunk must be an array buffer view");if(s.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(s.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);Wi(this,s)}error(s=void 0){if(!nr(this))throw Bn("error");Pe(this,s)}[D](s){Nu(this),Mt(this);let u=this._cancelAlgorithm(s);return Ui(this),u}[U](s){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){Ku(this,s);return}let p=this._autoAllocateChunkSize;if(p!==void 0){let g;try{g=new ArrayBuffer(p)}catch(_){s._errorSteps(_);return}let b={buffer:g,bufferByteLength:p,byteOffset:0,byteLength:p,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(b)}Pu(u,s),ir(this)}[$](){if(this._pendingPullIntos.length>0){let s=this._pendingPullIntos.peek();s.readerType="none",this._pendingPullIntos=new R,this._pendingPullIntos.push(s)}}};a(is,"ReadableByteStreamController");let Ue=is;Object.defineProperties(Ue.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),o(Ue.prototype.close,"close"),o(Ue.prototype.enqueue,"enqueue"),o(Ue.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ue.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function nr(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableByteStream")?!1:i instanceof Ue}a(nr,"IsReadableByteStreamController");function Io(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_associatedReadableByteStreamController")?!1:i instanceof bt}a(Io,"IsReadableStreamBYOBRequest");function ir(i){if(!bg(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let u=i._pullAlgorithm();y(u,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,ir(i)),null),p=>(Pe(i,p),null))}a(ir,"ReadableByteStreamControllerCallPullIfNeeded");function Nu(i){Fo(i),i._pendingPullIntos=new R}a(Nu,"ReadableByteStreamControllerClearPendingPullIntos");function Oo(i,s){let u=!1;i._state==="closed"&&(u=!0);let p=ju(s);s.readerType==="default"?Ro(i,p,u):Tg(i,p,u)}a(Oo,"ReadableByteStreamControllerCommitPullIntoDescriptor");function ju(i){let s=i.bytesFilled,u=i.elementSize;return new i.viewConstructor(i.buffer,i.byteOffset,s/u)}a(ju,"ReadableByteStreamControllerConvertPullIntoDescriptor");function zi(i,s,u,p){i._queue.push({buffer:s,byteOffset:u,byteLength:p}),i._queueTotalSize+=p}a(zi,"ReadableByteStreamControllerEnqueueChunkToQueue");function Hu(i,s,u,p){let g;try{g=Mu(s,u,u+p)}catch(b){throw Pe(i,b),b}zi(i,g,0,p)}a(Hu,"ReadableByteStreamControllerEnqueueClonedChunkToQueue");function Zu(i,s){s.bytesFilled>0&&Hu(i,s.buffer,s.byteOffset,s.bytesFilled),Dr(i)}a(Zu,"ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue");function $u(i,s){let u=Math.min(i._queueTotalSize,s.byteLength-s.bytesFilled),p=s.bytesFilled+u,g=u,b=!1,_=p%s.elementSize,I=p-_;I>=s.minimumFill&&(g=I-s.bytesFilled,b=!0);let M=i._queue;for(;g>0;){let B=M.peek(),z=Math.min(g,B.byteLength),W=s.byteOffset+s.bytesFilled;qu(s.buffer,W,B.buffer,B.byteOffset,z),B.byteLength===z?M.shift():(B.byteOffset+=z,B.byteLength-=z),i._queueTotalSize-=z,Vu(i,z,s),g-=z}return b}a($u,"ReadableByteStreamControllerFillPullIntoDescriptorFromQueue");function Vu(i,s,u){u.bytesFilled+=s}a(Vu,"ReadableByteStreamControllerFillHeadPullIntoDescriptor");function Yu(i){i._queueTotalSize===0&&i._closeRequested?(Ui(i),Un(i._controlledReadableByteStream)):ir(i)}a(Yu,"ReadableByteStreamControllerHandleQueueDrain");function Fo(i){i._byobRequest!==null&&(i._byobRequest._associatedReadableByteStreamController=void 0,i._byobRequest._view=null,i._byobRequest=null)}a(Fo,"ReadableByteStreamControllerInvalidateBYOBRequest");function Bo(i){for(;i._pendingPullIntos.length>0;){if(i._queueTotalSize===0)return;let s=i._pendingPullIntos.peek();$u(i,s)&&(Dr(i),Oo(i._controlledReadableByteStream,s))}}a(Bo,"ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue");function hg(i){let s=i._controlledReadableByteStream._reader;for(;s._readRequests.length>0;){if(i._queueTotalSize===0)return;let u=s._readRequests.shift();Ku(i,u)}}a(hg,"ReadableByteStreamControllerProcessReadRequestsUsingQueue");function pg(i,s,u,p){let g=i._controlledReadableByteStream,b=s.constructor,_=dg(b),{byteOffset:I,byteLength:M}=s,B=u*_,z;try{z=gt(s.buffer)}catch(Y){p._errorSteps(Y);return}let W={buffer:z,bufferByteLength:z.byteLength,byteOffset:I,byteLength:M,bytesFilled:0,minimumFill:B,elementSize:_,viewConstructor:b,readerType:"byob"};if(i._pendingPullIntos.length>0){i._pendingPullIntos.push(W),ef(g,p);return}if(g._state==="closed"){let Y=new b(W.buffer,W.byteOffset,0);p._closeSteps(Y);return}if(i._queueTotalSize>0){if($u(i,W)){let Y=ju(W);Yu(i),p._chunkSteps(Y);return}if(i._closeRequested){let Y=new TypeError("Insufficient bytes to fill elements in the given buffer");Pe(i,Y),p._errorSteps(Y);return}}i._pendingPullIntos.push(W),ef(g,p),ir(i)}a(pg,"ReadableByteStreamControllerPullInto");function mg(i,s){s.readerType==="none"&&Dr(i);let u=i._controlledReadableByteStream;if(qo(u))for(;tf(u)>0;){let p=Dr(i);Oo(u,p)}}a(mg,"ReadableByteStreamControllerRespondInClosedState");function gg(i,s,u){if(Vu(i,s,u),u.readerType==="none"){Zu(i,u),Bo(i);return}if(u.bytesFilled<u.minimumFill)return;Dr(i);let p=u.bytesFilled%u.elementSize;if(p>0){let g=u.byteOffset+u.bytesFilled;Hu(i,u.buffer,g-p,p)}u.bytesFilled-=p,Oo(i._controlledReadableByteStream,u),Bo(i)}a(gg,"ReadableByteStreamControllerRespondInReadableState");function Gu(i,s){let u=i._pendingPullIntos.peek();Fo(i),i._controlledReadableByteStream._state==="closed"?mg(i,u):gg(i,s,u),ir(i)}a(Gu,"ReadableByteStreamControllerRespondInternal");function Dr(i){return i._pendingPullIntos.shift()}a(Dr,"ReadableByteStreamControllerShiftPendingPullInto");function bg(i){let s=i._controlledReadableByteStream;return s._state!=="readable"||i._closeRequested||!i._started?!1:!!(Iu(s)&&Di(s)>0||qo(s)&&tf(s)>0||Xu(i)>0)}a(bg,"ReadableByteStreamControllerShouldCallPull");function Ui(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0}a(Ui,"ReadableByteStreamControllerClearAlgorithms");function Fn(i){let s=i._controlledReadableByteStream;if(!(i._closeRequested||s._state!=="readable")){if(i._queueTotalSize>0){i._closeRequested=!0;return}if(i._pendingPullIntos.length>0){let u=i._pendingPullIntos.peek();if(u.bytesFilled%u.elementSize!==0){let p=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Pe(i,p),p}}Ui(i),Un(s)}}a(Fn,"ReadableByteStreamControllerClose");function Wi(i,s){let u=i._controlledReadableByteStream;if(i._closeRequested||u._state!=="readable")return;let{buffer:p,byteOffset:g,byteLength:b}=s;if(qt(p))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let _=gt(p);if(i._pendingPullIntos.length>0){let I=i._pendingPullIntos.peek();if(qt(I.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Fo(i),I.buffer=gt(I.buffer),I.readerType==="none"&&Zu(i,I)}if(Iu(u))if(hg(i),Di(u)===0)zi(i,_,g,b);else{i._pendingPullIntos.length>0&&Dr(i);let I=new Uint8Array(_,g,b);Ro(u,I,!1)}else qo(u)?(zi(i,_,g,b),Bo(i)):zi(i,_,g,b);ir(i)}a(Wi,"ReadableByteStreamControllerEnqueue");function Pe(i,s){let u=i._controlledReadableByteStream;u._state==="readable"&&(Nu(i),Mt(i),Ui(i),xf(u,s))}a(Pe,"ReadableByteStreamControllerError");function Ku(i,s){let u=i._queue.shift();i._queueTotalSize-=u.byteLength,Yu(i);let p=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);s._chunkSteps(p)}a(Ku,"ReadableByteStreamControllerFillReadRequestFromQueue");function Do(i){if(i._byobRequest===null&&i._pendingPullIntos.length>0){let s=i._pendingPullIntos.peek(),u=new Uint8Array(s.buffer,s.byteOffset+s.bytesFilled,s.byteLength-s.bytesFilled),p=Object.create(bt.prototype);_g(p,i,u),i._byobRequest=p}return i._byobRequest}a(Do,"ReadableByteStreamControllerGetBYOBRequest");function Xu(i){let s=i._controlledReadableByteStream._state;return s==="errored"?null:s==="closed"?0:i._strategyHWM-i._queueTotalSize}a(Xu,"ReadableByteStreamControllerGetDesiredSize");function Ni(i,s){let u=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(s!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(s===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+s>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=gt(u.buffer),Gu(i,s)}a(Ni,"ReadableByteStreamControllerRespond");function ji(i,s){let u=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(s.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(s.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==s.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==s.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+s.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let g=s.byteLength;u.buffer=gt(s.buffer),Gu(i,g)}a(ji,"ReadableByteStreamControllerRespondWithNewView");function Qu(i,s,u,p,g,b,_){s._controlledReadableByteStream=i,s._pullAgain=!1,s._pulling=!1,s._byobRequest=null,s._queue=s._queueTotalSize=void 0,Mt(s),s._closeRequested=!1,s._started=!1,s._strategyHWM=b,s._pullAlgorithm=p,s._cancelAlgorithm=g,s._autoAllocateChunkSize=_,s._pendingPullIntos=new R,i._readableStreamController=s;let I=u();y(c(I),()=>(s._started=!0,ir(s),null),M=>(Pe(s,M),null))}a(Qu,"SetUpReadableByteStreamController");function yg(i,s,u){let p=Object.create(Ue.prototype),g,b,_;s.start!==void 0?g=a(()=>s.start(p),"startAlgorithm"):g=a(()=>{},"startAlgorithm"),s.pull!==void 0?b=a(()=>s.pull(p),"pullAlgorithm"):b=a(()=>c(void 0),"pullAlgorithm"),s.cancel!==void 0?_=a(M=>s.cancel(M),"cancelAlgorithm"):_=a(()=>c(void 0),"cancelAlgorithm");let I=s.autoAllocateChunkSize;if(I===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Qu(i,p,g,b,_,u,I)}a(yg,"SetUpReadableByteStreamControllerFromUnderlyingSource");function _g(i,s,u){i._associatedReadableByteStreamController=s,i._view=u}a(_g,"SetUpReadableStreamBYOBRequest");function Lo(i){return new TypeError(`ReadableStreamBYOBRequest.prototype.${i} can only be used on a ReadableStreamBYOBRequest`)}a(Lo,"byobRequestBrandCheckException");function Bn(i){return new TypeError(`ReadableByteStreamController.prototype.${i} can only be used on a ReadableByteStreamController`)}a(Bn,"byteStreamControllerBrandCheckException");function vg(i,s){Je(i,s);let u=i==null?void 0:i.mode;return{mode:u===void 0?void 0:wg(u,`${s} has member 'mode' that`)}}a(vg,"convertReaderOptions");function wg(i,s){if(i=`${i}`,i!=="byob")throw new TypeError(`${s} '${i}' is not a valid enumeration value for ReadableStreamReaderMode`);return i}a(wg,"convertReadableStreamReaderMode");function Sg(i,s){var u;Je(i,s);let p=(u=i==null?void 0:i.min)!==null&&u!==void 0?u:1;return{min:So(p,`${s} has member 'min' that`)}}a(Sg,"convertByobReadOptions");function Ju(i){return new tt(i)}a(Ju,"AcquireReadableStreamBYOBReader");function ef(i,s){i._reader._readIntoRequests.push(s)}a(ef,"ReadableStreamAddReadIntoRequest");function Tg(i,s,u){let g=i._reader._readIntoRequests.shift();u?g._closeSteps(s):g._chunkSteps(s)}a(Tg,"ReadableStreamFulfillReadIntoRequest");function tf(i){return i._reader._readIntoRequests.length}a(tf,"ReadableStreamGetNumReadIntoRequests");function qo(i){let s=i._reader;return!(s===void 0||!ar(s))}a(qo,"ReadableStreamHasBYOBReader");let as=class as{constructor(s){if(mt(s,1,"ReadableStreamBYOBReader"),To(s,"First parameter"),Wt(s))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!nr(s._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");F(this,s),this._readIntoRequests=new R}get closed(){return ar(this)?this._closedPromise:h(Hi("closed"))}cancel(s=void 0){return ar(this)?this._ownerReadableStream===void 0?h(pt("cancel")):le(this,s):h(Hi("cancel"))}read(s,u={}){if(!ar(this))return h(Hi("read"));if(!ArrayBuffer.isView(s))return h(new TypeError("view must be an array buffer view"));if(s.byteLength===0)return h(new TypeError("view must have non-zero byteLength"));if(s.buffer.byteLength===0)return h(new TypeError("view's buffer must have non-zero byteLength"));if(qt(s.buffer))return h(new TypeError("view's buffer has been detached"));let p;try{p=Sg(u,"options")}catch(B){return h(B)}let g=p.min;if(g===0)return h(new TypeError("options.min must be greater than 0"));if(cg(s)){if(g>s.byteLength)return h(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(g>s.length)return h(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return h(pt("read from"));let b,_,I=m((B,z)=>{b=B,_=z});return rf(this,s,g,{_chunkSteps:a(B=>b({value:B,done:!1}),"_chunkSteps"),_closeSteps:a(B=>b({value:B,done:!0}),"_closeSteps"),_errorSteps:a(B=>_(B),"_errorSteps")}),I}releaseLock(){if(!ar(this))throw Hi("releaseLock");this._ownerReadableStream!==void 0&&Rg(this)}};a(as,"ReadableStreamBYOBReader");let tt=as;Object.defineProperties(tt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(tt.prototype.cancel,"cancel"),o(tt.prototype.read,"read"),o(tt.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(tt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ar(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_readIntoRequests")?!1:i instanceof tt}a(ar,"IsReadableStreamBYOBReader");function rf(i,s,u,p){let g=i._ownerReadableStream;g._disturbed=!0,g._state==="errored"?p._errorSteps(g._storedError):pg(g._readableStreamController,s,u,p)}a(rf,"ReadableStreamBYOBReaderRead");function Rg(i){ce(i);let s=new TypeError("Reader was released");nf(i,s)}a(Rg,"ReadableStreamBYOBReaderRelease");function nf(i,s){let u=i._readIntoRequests;i._readIntoRequests=new R,u.forEach(p=>{p._errorSteps(s)})}a(nf,"ReadableStreamBYOBReaderErrorReadIntoRequests");function Hi(i){return new TypeError(`ReadableStreamBYOBReader.prototype.${i} can only be used on a ReadableStreamBYOBReader`)}a(Hi,"byobReaderBrandCheckException");function Dn(i,s){let{highWaterMark:u}=i;if(u===void 0)return s;if(Lu(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}a(Dn,"ExtractHighWaterMark");function Zi(i){let{size:s}=i;return s||(()=>1)}a(Zi,"ExtractSizeAlgorithm");function $i(i,s){Je(i,s);let u=i==null?void 0:i.highWaterMark,p=i==null?void 0:i.size;return{highWaterMark:u===void 0?void 0:wo(u),size:p===void 0?void 0:Eg(p,`${s} has member 'size' that`)}}a($i,"convertQueuingStrategy");function Eg(i,s){return Ce(i,s),u=>wo(i(u))}a(Eg,"convertQueuingStrategySize");function xg(i,s){Je(i,s);let u=i==null?void 0:i.abort,p=i==null?void 0:i.close,g=i==null?void 0:i.start,b=i==null?void 0:i.type,_=i==null?void 0:i.write;return{abort:u===void 0?void 0:Ag(u,i,`${s} has member 'abort' that`),close:p===void 0?void 0:kg(p,i,`${s} has member 'close' that`),start:g===void 0?void 0:Cg(g,i,`${s} has member 'start' that`),write:_===void 0?void 0:Pg(_,i,`${s} has member 'write' that`),type:b}}a(xg,"convertUnderlyingSink");function Ag(i,s,u){return Ce(i,u),p=>P(i,s,[p])}a(Ag,"convertUnderlyingSinkAbortCallback");function kg(i,s,u){return Ce(i,u),()=>P(i,s,[])}a(kg,"convertUnderlyingSinkCloseCallback");function Cg(i,s,u){return Ce(i,u),p=>x(i,s,[p])}a(Cg,"convertUnderlyingSinkStartCallback");function Pg(i,s,u){return Ce(i,u),(p,g)=>P(i,s,[p,g])}a(Pg,"convertUnderlyingSinkWriteCallback");function af(i,s){if(!Lr(i))throw new TypeError(`${s} is not a WritableStream.`)}a(af,"assertWritableStream");function Ig(i){if(typeof i!="object"||i===null)return!1;try{return typeof i.aborted=="boolean"}catch{return!1}}a(Ig,"isAbortSignal");let Og=typeof AbortController=="function";function Fg(){if(Og)return new AbortController}a(Fg,"createAbortController");let os=class os{constructor(s={},u={}){s===void 0?s=null:ku(s,"First parameter");let p=$i(u,"Second parameter"),g=xg(s,"First parameter");if(sf(this),g.type!==void 0)throw new RangeError("Invalid type is specified");let _=Zi(p),I=Dn(p,1);Vg(this,g,I,_)}get locked(){if(!Lr(this))throw Xi("locked");return qr(this)}abort(s=void 0){return Lr(this)?qr(this)?h(new TypeError("Cannot abort a stream that already has a writer")):Vi(this,s):h(Xi("abort"))}close(){return Lr(this)?qr(this)?h(new TypeError("Cannot close a stream that already has a writer")):nt(this)?h(new TypeError("Cannot close an already-closing stream")):lf(this):h(Xi("close"))}getWriter(){if(!Lr(this))throw Xi("getWriter");return of(this)}};a(os,"WritableStream");let rt=os;Object.defineProperties(rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),o(rt.prototype.abort,"abort"),o(rt.prototype.close,"close"),o(rt.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function of(i){return new We(i)}a(of,"AcquireWritableStreamDefaultWriter");function Bg(i,s,u,p,g=1,b=()=>1){let _=Object.create(rt.prototype);sf(_);let I=Object.create(zt.prototype);return pf(_,I,i,s,u,p,g,b),_}a(Bg,"CreateWritableStream");function sf(i){i._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new R,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1}a(sf,"InitializeWritableStream");function Lr(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_writableStreamController")?!1:i instanceof rt}a(Lr,"IsWritableStream");function qr(i){return i._writer!==void 0}a(qr,"IsWritableStreamLocked");function Vi(i,s){var u;if(i._state==="closed"||i._state==="errored")return c(void 0);i._writableStreamController._abortReason=s,(u=i._writableStreamController._abortController)===null||u===void 0||u.abort(s);let p=i._state;if(p==="closed"||p==="errored")return c(void 0);if(i._pendingAbortRequest!==void 0)return i._pendingAbortRequest._promise;let g=!1;p==="erroring"&&(g=!0,s=void 0);let b=m((_,I)=>{i._pendingAbortRequest={_promise:void 0,_resolve:_,_reject:I,_reason:s,_wasAlreadyErroring:g}});return i._pendingAbortRequest._promise=b,g||zo(i,s),b}a(Vi,"WritableStreamAbort");function lf(i){let s=i._state;if(s==="closed"||s==="errored")return h(new TypeError(`The stream (in ${s} state) is not in the writable state and cannot be closed`));let u=m((g,b)=>{let _={_resolve:g,_reject:b};i._closeRequest=_}),p=i._writer;return p!==void 0&&i._backpressure&&s==="writable"&&Vo(p),Yg(i._writableStreamController),u}a(lf,"WritableStreamClose");function Dg(i){return m((u,p)=>{let g={_resolve:u,_reject:p};i._writeRequests.push(g)})}a(Dg,"WritableStreamAddWriteRequest");function Mo(i,s){if(i._state==="writable"){zo(i,s);return}Uo(i)}a(Mo,"WritableStreamDealWithRejection");function zo(i,s){let u=i._writableStreamController;i._state="erroring",i._storedError=s;let p=i._writer;p!==void 0&&ff(p,s),!Ug(i)&&u._started&&Uo(i)}a(zo,"WritableStreamStartErroring");function Uo(i){i._state="errored",i._writableStreamController[q]();let s=i._storedError;if(i._writeRequests.forEach(g=>{g._reject(s)}),i._writeRequests=new R,i._pendingAbortRequest===void 0){Yi(i);return}let u=i._pendingAbortRequest;if(i._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(s),Yi(i);return}let p=i._writableStreamController[O](u._reason);y(p,()=>(u._resolve(),Yi(i),null),g=>(u._reject(g),Yi(i),null))}a(Uo,"WritableStreamFinishErroring");function Lg(i){i._inFlightWriteRequest._resolve(void 0),i._inFlightWriteRequest=void 0}a(Lg,"WritableStreamFinishInFlightWrite");function qg(i,s){i._inFlightWriteRequest._reject(s),i._inFlightWriteRequest=void 0,Mo(i,s)}a(qg,"WritableStreamFinishInFlightWriteWithError");function Mg(i){i._inFlightCloseRequest._resolve(void 0),i._inFlightCloseRequest=void 0,i._state==="erroring"&&(i._storedError=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._resolve(),i._pendingAbortRequest=void 0)),i._state="closed";let u=i._writer;u!==void 0&&yf(u)}a(Mg,"WritableStreamFinishInFlightClose");function zg(i,s){i._inFlightCloseRequest._reject(s),i._inFlightCloseRequest=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._reject(s),i._pendingAbortRequest=void 0),Mo(i,s)}a(zg,"WritableStreamFinishInFlightCloseWithError");function nt(i){return!(i._closeRequest===void 0&&i._inFlightCloseRequest===void 0)}a(nt,"WritableStreamCloseQueuedOrInFlight");function Ug(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}a(Ug,"WritableStreamHasOperationMarkedInFlight");function Wg(i){i._inFlightCloseRequest=i._closeRequest,i._closeRequest=void 0}a(Wg,"WritableStreamMarkCloseRequestInFlight");function Ng(i){i._inFlightWriteRequest=i._writeRequests.shift()}a(Ng,"WritableStreamMarkFirstWriteRequestInFlight");function Yi(i){i._closeRequest!==void 0&&(i._closeRequest._reject(i._storedError),i._closeRequest=void 0);let s=i._writer;s!==void 0&&Zo(s,i._storedError)}a(Yi,"WritableStreamRejectCloseAndClosedPromiseIfNeeded");function Wo(i,s){let u=i._writer;u!==void 0&&s!==i._backpressure&&(s?tb(u):Vo(u)),i._backpressure=s}a(Wo,"WritableStreamUpdateBackpressure");let ss=class ss{constructor(s){if(mt(s,1,"WritableStreamDefaultWriter"),af(s,"First parameter"),qr(s))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=s,s._writer=this;let u=s._state;if(u==="writable")!nt(s)&&s._backpressure?Ji(this):_f(this),Qi(this);else if(u==="erroring")$o(this,s._storedError),Qi(this);else if(u==="closed")_f(this),Jg(this);else{let p=s._storedError;$o(this,p),bf(this,p)}}get closed(){return or(this)?this._closedPromise:h(sr("closed"))}get desiredSize(){if(!or(this))throw sr("desiredSize");if(this._ownerWritableStream===void 0)throw qn("desiredSize");return $g(this)}get ready(){return or(this)?this._readyPromise:h(sr("ready"))}abort(s=void 0){return or(this)?this._ownerWritableStream===void 0?h(qn("abort")):jg(this,s):h(sr("abort"))}close(){if(!or(this))return h(sr("close"));let s=this._ownerWritableStream;return s===void 0?h(qn("close")):nt(s)?h(new TypeError("Cannot close an already-closing stream")):uf(this)}releaseLock(){if(!or(this))throw sr("releaseLock");this._ownerWritableStream!==void 0&&cf(this)}write(s=void 0){return or(this)?this._ownerWritableStream===void 0?h(qn("write to")):df(this,s):h(sr("write"))}};a(ss,"WritableStreamDefaultWriter");let We=ss;Object.defineProperties(We.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),o(We.prototype.abort,"abort"),o(We.prototype.close,"close"),o(We.prototype.releaseLock,"releaseLock"),o(We.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(We.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function or(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_ownerWritableStream")?!1:i instanceof We}a(or,"IsWritableStreamDefaultWriter");function jg(i,s){let u=i._ownerWritableStream;return Vi(u,s)}a(jg,"WritableStreamDefaultWriterAbort");function uf(i){let s=i._ownerWritableStream;return lf(s)}a(uf,"WritableStreamDefaultWriterClose");function Hg(i){let s=i._ownerWritableStream,u=s._state;return nt(s)||u==="closed"?c(void 0):u==="errored"?h(s._storedError):uf(i)}a(Hg,"WritableStreamDefaultWriterCloseWithErrorPropagation");function Zg(i,s){i._closedPromiseState==="pending"?Zo(i,s):eb(i,s)}a(Zg,"WritableStreamDefaultWriterEnsureClosedPromiseRejected");function ff(i,s){i._readyPromiseState==="pending"?vf(i,s):rb(i,s)}a(ff,"WritableStreamDefaultWriterEnsureReadyPromiseRejected");function $g(i){let s=i._ownerWritableStream,u=s._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:mf(s._writableStreamController)}a($g,"WritableStreamDefaultWriterGetDesiredSize");function cf(i){let s=i._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ff(i,u),Zg(i,u),s._writer=void 0,i._ownerWritableStream=void 0}a(cf,"WritableStreamDefaultWriterRelease");function df(i,s){let u=i._ownerWritableStream,p=u._writableStreamController,g=Gg(p,s);if(u!==i._ownerWritableStream)return h(qn("write to"));let b=u._state;if(b==="errored")return h(u._storedError);if(nt(u)||b==="closed")return h(new TypeError("The stream is closing or closed and cannot be written to"));if(b==="erroring")return h(u._storedError);let _=Dg(u);return Kg(p,s,g),_}a(df,"WritableStreamDefaultWriterWrite");let hf={},ls=class ls{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!No(this))throw Ho("abortReason");return this._abortReason}get signal(){if(!No(this))throw Ho("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(s=void 0){if(!No(this))throw Ho("error");this._controlledWritableStream._state==="writable"&&gf(this,s)}[O](s){let u=this._abortAlgorithm(s);return Gi(this),u}[q](){Mt(this)}};a(ls,"WritableStreamDefaultController");let zt=ls;Object.defineProperties(zt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(zt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function No(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledWritableStream")?!1:i instanceof zt}a(No,"IsWritableStreamDefaultController");function pf(i,s,u,p,g,b,_,I){s._controlledWritableStream=i,i._writableStreamController=s,s._queue=void 0,s._queueTotalSize=void 0,Mt(s),s._abortReason=void 0,s._abortController=Fg(),s._started=!1,s._strategySizeAlgorithm=I,s._strategyHWM=_,s._writeAlgorithm=p,s._closeAlgorithm=g,s._abortAlgorithm=b;let M=jo(s);Wo(i,M);let B=u(),z=c(B);y(z,()=>(s._started=!0,Ki(s),null),W=>(s._started=!0,Mo(i,W),null))}a(pf,"SetUpWritableStreamDefaultController");function Vg(i,s,u,p){let g=Object.create(zt.prototype),b,_,I,M;s.start!==void 0?b=a(()=>s.start(g),"startAlgorithm"):b=a(()=>{},"startAlgorithm"),s.write!==void 0?_=a(B=>s.write(B,g),"writeAlgorithm"):_=a(()=>c(void 0),"writeAlgorithm"),s.close!==void 0?I=a(()=>s.close(),"closeAlgorithm"):I=a(()=>c(void 0),"closeAlgorithm"),s.abort!==void 0?M=a(B=>s.abort(B),"abortAlgorithm"):M=a(()=>c(void 0),"abortAlgorithm"),pf(i,g,b,_,I,M,u,p)}a(Vg,"SetUpWritableStreamDefaultControllerFromUnderlyingSink");function Gi(i){i._writeAlgorithm=void 0,i._closeAlgorithm=void 0,i._abortAlgorithm=void 0,i._strategySizeAlgorithm=void 0}a(Gi,"WritableStreamDefaultControllerClearAlgorithms");function Yg(i){Po(i,hf,0),Ki(i)}a(Yg,"WritableStreamDefaultControllerClose");function Gg(i,s){try{return i._strategySizeAlgorithm(s)}catch(u){return Ln(i,u),1}}a(Gg,"WritableStreamDefaultControllerGetChunkSize");function mf(i){return i._strategyHWM-i._queueTotalSize}a(mf,"WritableStreamDefaultControllerGetDesiredSize");function Kg(i,s,u){try{Po(i,s,u)}catch(g){Ln(i,g);return}let p=i._controlledWritableStream;if(!nt(p)&&p._state==="writable"){let g=jo(i);Wo(p,g)}Ki(i)}a(Kg,"WritableStreamDefaultControllerWrite");function Ki(i){let s=i._controlledWritableStream;if(!i._started||s._inFlightWriteRequest!==void 0)return;if(s._state==="erroring"){Uo(s);return}if(i._queue.length===0)return;let p=fg(i);p===hf?Xg(i):Qg(i,p)}a(Ki,"WritableStreamDefaultControllerAdvanceQueueIfNeeded");function Ln(i,s){i._controlledWritableStream._state==="writable"&&gf(i,s)}a(Ln,"WritableStreamDefaultControllerErrorIfNeeded");function Xg(i){let s=i._controlledWritableStream;Wg(s),Co(i);let u=i._closeAlgorithm();Gi(i),y(u,()=>(Mg(s),null),p=>(zg(s,p),null))}a(Xg,"WritableStreamDefaultControllerProcessClose");function Qg(i,s){let u=i._controlledWritableStream;Ng(u);let p=i._writeAlgorithm(s);y(p,()=>{Lg(u);let g=u._state;if(Co(i),!nt(u)&&g==="writable"){let b=jo(i);Wo(u,b)}return Ki(i),null},g=>(u._state==="writable"&&Gi(i),qg(u,g),null))}a(Qg,"WritableStreamDefaultControllerProcessWrite");function jo(i){return mf(i)<=0}a(jo,"WritableStreamDefaultControllerGetBackpressure");function gf(i,s){let u=i._controlledWritableStream;Gi(i),zo(u,s)}a(gf,"WritableStreamDefaultControllerError");function Xi(i){return new TypeError(`WritableStream.prototype.${i} can only be used on a WritableStream`)}a(Xi,"streamBrandCheckException$2");function Ho(i){return new TypeError(`WritableStreamDefaultController.prototype.${i} can only be used on a WritableStreamDefaultController`)}a(Ho,"defaultControllerBrandCheckException$2");function sr(i){return new TypeError(`WritableStreamDefaultWriter.prototype.${i} can only be used on a WritableStreamDefaultWriter`)}a(sr,"defaultWriterBrandCheckException");function qn(i){return new TypeError("Cannot "+i+" a stream using a released writer")}a(qn,"defaultWriterLockException");function Qi(i){i._closedPromise=m((s,u)=>{i._closedPromise_resolve=s,i._closedPromise_reject=u,i._closedPromiseState="pending"})}a(Qi,"defaultWriterClosedPromiseInitialize");function bf(i,s){Qi(i),Zo(i,s)}a(bf,"defaultWriterClosedPromiseInitializeAsRejected");function Jg(i){Qi(i),yf(i)}a(Jg,"defaultWriterClosedPromiseInitializeAsResolved");function Zo(i,s){i._closedPromise_reject!==void 0&&(A(i._closedPromise),i._closedPromise_reject(s),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected")}a(Zo,"defaultWriterClosedPromiseReject");function eb(i,s){bf(i,s)}a(eb,"defaultWriterClosedPromiseResetToRejected");function yf(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="resolved")}a(yf,"defaultWriterClosedPromiseResolve");function Ji(i){i._readyPromise=m((s,u)=>{i._readyPromise_resolve=s,i._readyPromise_reject=u}),i._readyPromiseState="pending"}a(Ji,"defaultWriterReadyPromiseInitialize");function $o(i,s){Ji(i),vf(i,s)}a($o,"defaultWriterReadyPromiseInitializeAsRejected");function _f(i){Ji(i),Vo(i)}a(_f,"defaultWriterReadyPromiseInitializeAsResolved");function vf(i,s){i._readyPromise_reject!==void 0&&(A(i._readyPromise),i._readyPromise_reject(s),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected")}a(vf,"defaultWriterReadyPromiseReject");function tb(i){Ji(i)}a(tb,"defaultWriterReadyPromiseReset");function rb(i,s){$o(i,s)}a(rb,"defaultWriterReadyPromiseResetToRejected");function Vo(i){i._readyPromise_resolve!==void 0&&(i._readyPromise_resolve(void 0),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="fulfilled")}a(Vo,"defaultWriterReadyPromiseResolve");function nb(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}a(nb,"getGlobals");let Yo=nb();function ib(i){if(!(typeof i=="function"||typeof i=="object")||i.name!=="DOMException")return!1;try{return new i,!0}catch{return!1}}a(ib,"isDOMExceptionConstructor");function ab(){let i=Yo==null?void 0:Yo.DOMException;return ib(i)?i:void 0}a(ab,"getFromGlobal");function ob(){let i=a(function(u,p){this.message=u||"",this.name=p||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)},"DOMException");return o(i,"DOMException"),i.prototype=Object.create(Error.prototype),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0}),i}a(ob,"createPolyfill");let sb=ab()||ob();function wf(i,s,u,p,g,b){let _=Br(i),I=of(s);i._disturbed=!0;let M=!1,B=c(void 0);return m((z,W)=>{let Y;if(b!==void 0){if(Y=a(()=>{let L=b.reason!==void 0?b.reason:new sb("Aborted","AbortError"),N=[];p||N.push(()=>s._state==="writable"?Vi(s,L):c(void 0)),g||N.push(()=>i._state==="readable"?He(i,L):c(void 0)),be(()=>Promise.all(N.map(G=>G())),!0,L)},"abortAlgorithm"),b.aborted){Y();return}b.addEventListener("abort",Y)}function Ze(){return m((L,N)=>{function G(we){we?L():E(Hr(),G,N)}a(G,"next"),G(!1)})}a(Ze,"pipeLoop");function Hr(){return M?c(!0):E(I._readyPromise,()=>m((L,N)=>{In(_,{_chunkSteps:a(G=>{B=E(df(I,G),void 0,t),L(!1)},"_chunkSteps"),_closeSteps:a(()=>L(!0),"_closeSteps"),_errorSteps:N})}))}if(a(Hr,"pipeStep"),yt(i,_._closedPromise,L=>(p?Ie(!0,L):be(()=>Vi(s,L),!0,L),null)),yt(s,I._closedPromise,L=>(g?Ie(!0,L):be(()=>He(i,L),!0,L),null)),pe(i,_._closedPromise,()=>(u?Ie():be(()=>Hg(I)),null)),nt(s)||s._state==="closed"){let L=new TypeError("the destination writable stream closed before all data could be piped to it");g?Ie(!0,L):be(()=>He(i,L),!0,L)}A(Ze());function Nt(){let L=B;return E(B,()=>L!==B?Nt():void 0)}a(Nt,"waitForWritesToFinish");function yt(L,N,G){L._state==="errored"?G(L._storedError):v(N,G)}a(yt,"isOrBecomesErrored");function pe(L,N,G){L._state==="closed"?G():w(N,G)}a(pe,"isOrBecomesClosed");function be(L,N,G){if(M)return;M=!0,s._state==="writable"&&!nt(s)?w(Nt(),we):we();function we(){return y(L(),()=>_t(N,G),Zr=>_t(!0,Zr)),null}a(we,"doTheRest")}a(be,"shutdownWithAction");function Ie(L,N){M||(M=!0,s._state==="writable"&&!nt(s)?w(Nt(),()=>_t(L,N)):_t(L,N))}a(Ie,"shutdown");function _t(L,N){return cf(I),ce(_),b!==void 0&&b.removeEventListener("abort",Y),L?W(N):z(void 0),null}a(_t,"finalize")})}a(wf,"ReadableStreamPipeTo");let us=class us{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ea(this))throw ra("desiredSize");return Go(this)}close(){if(!ea(this))throw ra("close");if(!zr(this))throw new TypeError("The stream is not in a state that permits close");lr(this)}enqueue(s=void 0){if(!ea(this))throw ra("enqueue");if(!zr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Mr(this,s)}error(s=void 0){if(!ea(this))throw ra("error");je(this,s)}[D](s){Mt(this);let u=this._cancelAlgorithm(s);return ta(this),u}[U](s){let u=this._controlledReadableStream;if(this._queue.length>0){let p=Co(this);this._closeRequested&&this._queue.length===0?(ta(this),Un(u)):Mn(this),s._chunkSteps(p)}else Pu(u,s),Mn(this)}[$](){}};a(us,"ReadableStreamDefaultController");let Ne=us;Object.defineProperties(Ne.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),o(Ne.prototype.close,"close"),o(Ne.prototype.enqueue,"enqueue"),o(Ne.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ne.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function ea(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableStream")?!1:i instanceof Ne}a(ea,"IsReadableStreamDefaultController");function Mn(i){if(!Sf(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let u=i._pullAlgorithm();y(u,()=>(i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Mn(i)),null),p=>(je(i,p),null))}a(Mn,"ReadableStreamDefaultControllerCallPullIfNeeded");function Sf(i){let s=i._controlledReadableStream;return!zr(i)||!i._started?!1:!!(Wt(s)&&Di(s)>0||Go(i)>0)}a(Sf,"ReadableStreamDefaultControllerShouldCallPull");function ta(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0,i._strategySizeAlgorithm=void 0}a(ta,"ReadableStreamDefaultControllerClearAlgorithms");function lr(i){if(!zr(i))return;let s=i._controlledReadableStream;i._closeRequested=!0,i._queue.length===0&&(ta(i),Un(s))}a(lr,"ReadableStreamDefaultControllerClose");function Mr(i,s){if(!zr(i))return;let u=i._controlledReadableStream;if(Wt(u)&&Di(u)>0)Ro(u,s,!1);else{let p;try{p=i._strategySizeAlgorithm(s)}catch(g){throw je(i,g),g}try{Po(i,s,p)}catch(g){throw je(i,g),g}}Mn(i)}a(Mr,"ReadableStreamDefaultControllerEnqueue");function je(i,s){let u=i._controlledReadableStream;u._state==="readable"&&(Mt(i),ta(i),xf(u,s))}a(je,"ReadableStreamDefaultControllerError");function Go(i){let s=i._controlledReadableStream._state;return s==="errored"?null:s==="closed"?0:i._strategyHWM-i._queueTotalSize}a(Go,"ReadableStreamDefaultControllerGetDesiredSize");function lb(i){return!Sf(i)}a(lb,"ReadableStreamDefaultControllerHasBackpressure");function zr(i){let s=i._controlledReadableStream._state;return!i._closeRequested&&s==="readable"}a(zr,"ReadableStreamDefaultControllerCanCloseOrEnqueue");function Tf(i,s,u,p,g,b,_){s._controlledReadableStream=i,s._queue=void 0,s._queueTotalSize=void 0,Mt(s),s._started=!1,s._closeRequested=!1,s._pullAgain=!1,s._pulling=!1,s._strategySizeAlgorithm=_,s._strategyHWM=b,s._pullAlgorithm=p,s._cancelAlgorithm=g,i._readableStreamController=s;let I=u();y(c(I),()=>(s._started=!0,Mn(s),null),M=>(je(s,M),null))}a(Tf,"SetUpReadableStreamDefaultController");function ub(i,s,u,p){let g=Object.create(Ne.prototype),b,_,I;s.start!==void 0?b=a(()=>s.start(g),"startAlgorithm"):b=a(()=>{},"startAlgorithm"),s.pull!==void 0?_=a(()=>s.pull(g),"pullAlgorithm"):_=a(()=>c(void 0),"pullAlgorithm"),s.cancel!==void 0?I=a(M=>s.cancel(M),"cancelAlgorithm"):I=a(()=>c(void 0),"cancelAlgorithm"),Tf(i,g,b,_,I,u,p)}a(ub,"SetUpReadableStreamDefaultControllerFromUnderlyingSource");function ra(i){return new TypeError(`ReadableStreamDefaultController.prototype.${i} can only be used on a ReadableStreamDefaultController`)}a(ra,"defaultControllerBrandCheckException$1");function fb(i,s){return nr(i._readableStreamController)?db(i):cb(i)}a(fb,"ReadableStreamTee");function cb(i,s){let u=Br(i),p=!1,g=!1,b=!1,_=!1,I,M,B,z,W,Y=m(pe=>{W=pe});function Ze(){return p?(g=!0,c(void 0)):(p=!0,In(u,{_chunkSteps:a(be=>{S(()=>{g=!1;let Ie=be,_t=be;b||Mr(B._readableStreamController,Ie),_||Mr(z._readableStreamController,_t),p=!1,g&&Ze()})},"_chunkSteps"),_closeSteps:a(()=>{p=!1,b||lr(B._readableStreamController),_||lr(z._readableStreamController),(!b||!_)&&W(void 0)},"_closeSteps"),_errorSteps:a(()=>{p=!1},"_errorSteps")}),c(void 0))}a(Ze,"pullAlgorithm");function Hr(pe){if(b=!0,I=pe,_){let be=On([I,M]),Ie=He(i,be);W(Ie)}return Y}a(Hr,"cancel1Algorithm");function Nt(pe){if(_=!0,M=pe,b){let be=On([I,M]),Ie=He(i,be);W(Ie)}return Y}a(Nt,"cancel2Algorithm");function yt(){}return a(yt,"startAlgorithm"),B=zn(yt,Ze,Hr),z=zn(yt,Ze,Nt),v(u._closedPromise,pe=>(je(B._readableStreamController,pe),je(z._readableStreamController,pe),(!b||!_)&&W(void 0),null)),[B,z]}a(cb,"ReadableStreamDefaultTee");function db(i){let s=Br(i),u=!1,p=!1,g=!1,b=!1,_=!1,I,M,B,z,W,Y=m(L=>{W=L});function Ze(L){v(L._closedPromise,N=>(L!==s||(Pe(B._readableStreamController,N),Pe(z._readableStreamController,N),(!b||!_)&&W(void 0)),null))}a(Ze,"forwardReaderError");function Hr(){ar(s)&&(ce(s),s=Br(i),Ze(s)),In(s,{_chunkSteps:a(N=>{S(()=>{p=!1,g=!1;let G=N,we=N;if(!b&&!_)try{we=Uu(N)}catch(Zr){Pe(B._readableStreamController,Zr),Pe(z._readableStreamController,Zr),W(He(i,Zr));return}b||Wi(B._readableStreamController,G),_||Wi(z._readableStreamController,we),u=!1,p?yt():g&&pe()})},"_chunkSteps"),_closeSteps:a(()=>{u=!1,b||Fn(B._readableStreamController),_||Fn(z._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&Ni(B._readableStreamController,0),z._readableStreamController._pendingPullIntos.length>0&&Ni(z._readableStreamController,0),(!b||!_)&&W(void 0)},"_closeSteps"),_errorSteps:a(()=>{u=!1},"_errorSteps")})}a(Hr,"pullWithDefaultReader");function Nt(L,N){Lt(s)&&(ce(s),s=Ju(i),Ze(s));let G=N?z:B,we=N?B:z;rf(s,L,1,{_chunkSteps:a($r=>{S(()=>{p=!1,g=!1;let Vr=N?_:b;if(N?b:_)Vr||ji(G._readableStreamController,$r);else{let zf;try{zf=Uu($r)}catch(ms){Pe(G._readableStreamController,ms),Pe(we._readableStreamController,ms),W(He(i,ms));return}Vr||ji(G._readableStreamController,$r),Wi(we._readableStreamController,zf)}u=!1,p?yt():g&&pe()})},"_chunkSteps"),_closeSteps:a($r=>{u=!1;let Vr=N?_:b,sa=N?b:_;Vr||Fn(G._readableStreamController),sa||Fn(we._readableStreamController),$r!==void 0&&(Vr||ji(G._readableStreamController,$r),!sa&&we._readableStreamController._pendingPullIntos.length>0&&Ni(we._readableStreamController,0)),(!Vr||!sa)&&W(void 0)},"_closeSteps"),_errorSteps:a(()=>{u=!1},"_errorSteps")})}a(Nt,"pullWithBYOBReader");function yt(){if(u)return p=!0,c(void 0);u=!0;let L=Do(B._readableStreamController);return L===null?Hr():Nt(L._view,!1),c(void 0)}a(yt,"pull1Algorithm");function pe(){if(u)return g=!0,c(void 0);u=!0;let L=Do(z._readableStreamController);return L===null?Hr():Nt(L._view,!0),c(void 0)}a(pe,"pull2Algorithm");function be(L){if(b=!0,I=L,_){let N=On([I,M]),G=He(i,N);W(G)}return Y}a(be,"cancel1Algorithm");function Ie(L){if(_=!0,M=L,b){let N=On([I,M]),G=He(i,N);W(G)}return Y}a(Ie,"cancel2Algorithm");function _t(){}return a(_t,"startAlgorithm"),B=Ef(_t,yt,be),z=Ef(_t,pe,Ie),Ze(s),[B,z]}a(db,"ReadableByteStreamTee");function hb(i){return r(i)&&typeof i.getReader<"u"}a(hb,"isReadableStreamLike");function pb(i){return hb(i)?gb(i.getReader()):mb(i)}a(pb,"ReadableStreamFrom");function mb(i){let s,u=zu(i,"async"),p=t;function g(){let _;try{_=og(u)}catch(M){return h(M)}let I=c(_);return k(I,M=>{if(!r(M))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(sg(M))lr(s._readableStreamController);else{let z=lg(M);Mr(s._readableStreamController,z)}})}a(g,"pullAlgorithm");function b(_){let I=u.iterator,M;try{M=Mi(I,"return")}catch(W){return h(W)}if(M===void 0)return c(void 0);let B;try{B=x(M,I,[_])}catch(W){return h(W)}let z=c(B);return k(z,W=>{if(!r(W))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return a(b,"cancelAlgorithm"),s=zn(p,g,b,0),s}a(mb,"ReadableStreamFromIterable");function gb(i){let s,u=t;function p(){let b;try{b=i.read()}catch(_){return h(_)}return k(b,_=>{if(!r(_))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(_.done)lr(s._readableStreamController);else{let I=_.value;Mr(s._readableStreamController,I)}})}a(p,"pullAlgorithm");function g(b){try{return c(i.cancel(b))}catch(_){return h(_)}}return a(g,"cancelAlgorithm"),s=zn(u,p,g,0),s}a(gb,"ReadableStreamFromDefaultReader");function bb(i,s){Je(i,s);let u=i,p=u==null?void 0:u.autoAllocateChunkSize,g=u==null?void 0:u.cancel,b=u==null?void 0:u.pull,_=u==null?void 0:u.start,I=u==null?void 0:u.type;return{autoAllocateChunkSize:p===void 0?void 0:So(p,`${s} has member 'autoAllocateChunkSize' that`),cancel:g===void 0?void 0:yb(g,u,`${s} has member 'cancel' that`),pull:b===void 0?void 0:_b(b,u,`${s} has member 'pull' that`),start:_===void 0?void 0:vb(_,u,`${s} has member 'start' that`),type:I===void 0?void 0:wb(I,`${s} has member 'type' that`)}}a(bb,"convertUnderlyingDefaultOrByteSource");function yb(i,s,u){return Ce(i,u),p=>P(i,s,[p])}a(yb,"convertUnderlyingSourceCancelCallback");function _b(i,s,u){return Ce(i,u),p=>P(i,s,[p])}a(_b,"convertUnderlyingSourcePullCallback");function vb(i,s,u){return Ce(i,u),p=>x(i,s,[p])}a(vb,"convertUnderlyingSourceStartCallback");function wb(i,s){if(i=`${i}`,i!=="bytes")throw new TypeError(`${s} '${i}' is not a valid enumeration value for ReadableStreamType`);return i}a(wb,"convertReadableStreamType");function Sb(i,s){return Je(i,s),{preventCancel:!!(i==null?void 0:i.preventCancel)}}a(Sb,"convertIteratorOptions");function Rf(i,s){Je(i,s);let u=i==null?void 0:i.preventAbort,p=i==null?void 0:i.preventCancel,g=i==null?void 0:i.preventClose,b=i==null?void 0:i.signal;return b!==void 0&&Tb(b,`${s} has member 'signal' that`),{preventAbort:!!u,preventCancel:!!p,preventClose:!!g,signal:b}}a(Rf,"convertPipeOptions");function Tb(i,s){if(!Ig(i))throw new TypeError(`${s} is not an AbortSignal.`)}a(Tb,"assertAbortSignal");function Rb(i,s){Je(i,s);let u=i==null?void 0:i.readable;vo(u,"readable","ReadableWritablePair"),To(u,`${s} has member 'readable' that`);let p=i==null?void 0:i.writable;return vo(p,"writable","ReadableWritablePair"),af(p,`${s} has member 'writable' that`),{readable:u,writable:p}}a(Rb,"convertReadableWritablePair");let fs=class fs{constructor(s={},u={}){s===void 0?s=null:ku(s,"First parameter");let p=$i(u,"Second parameter"),g=bb(s,"First parameter");if(Ko(this),g.type==="bytes"){if(p.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let b=Dn(p,0);yg(this,g,b)}else{let b=Zi(p),_=Dn(p,1);ub(this,g,_,b)}}get locked(){if(!Ut(this))throw ur("locked");return Wt(this)}cancel(s=void 0){return Ut(this)?Wt(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):He(this,s):h(ur("cancel"))}getReader(s=void 0){if(!Ut(this))throw ur("getReader");return vg(s,"First parameter").mode===void 0?Br(this):Ju(this)}pipeThrough(s,u={}){if(!Ut(this))throw ur("pipeThrough");mt(s,1,"pipeThrough");let p=Rb(s,"First parameter"),g=Rf(u,"Second parameter");if(Wt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(qr(p.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let b=wf(this,p.writable,g.preventClose,g.preventAbort,g.preventCancel,g.signal);return A(b),p.readable}pipeTo(s,u={}){if(!Ut(this))return h(ur("pipeTo"));if(s===void 0)return h("Parameter 1 is required in 'pipeTo'.");if(!Lr(s))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let p;try{p=Rf(u,"Second parameter")}catch(g){return h(g)}return Wt(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):qr(s)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):wf(this,s,p.preventClose,p.preventAbort,p.preventCancel,p.signal)}tee(){if(!Ut(this))throw ur("tee");let s=fb(this);return On(s)}values(s=void 0){if(!Ut(this))throw ur("values");let u=Sb(s,"First parameter");return ig(this,u.preventCancel)}[ko](s){return this.values(s)}static from(s){return pb(s)}};a(fs,"ReadableStream");let oe=fs;Object.defineProperties(oe,{from:{enumerable:!0}}),Object.defineProperties(oe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),o(oe.from,"from"),o(oe.prototype.cancel,"cancel"),o(oe.prototype.getReader,"getReader"),o(oe.prototype.pipeThrough,"pipeThrough"),o(oe.prototype.pipeTo,"pipeTo"),o(oe.prototype.tee,"tee"),o(oe.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(oe.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(oe.prototype,ko,{value:oe.prototype.values,writable:!0,configurable:!0});function zn(i,s,u,p=1,g=()=>1){let b=Object.create(oe.prototype);Ko(b);let _=Object.create(Ne.prototype);return Tf(b,_,i,s,u,p,g),b}a(zn,"CreateReadableStream");function Ef(i,s,u){let p=Object.create(oe.prototype);Ko(p);let g=Object.create(Ue.prototype);return Qu(p,g,i,s,u,0,void 0),p}a(Ef,"CreateReadableByteStream");function Ko(i){i._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1}a(Ko,"InitializeReadableStream");function Ut(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_readableStreamController")?!1:i instanceof oe}a(Ut,"IsReadableStream");function Wt(i){return i._reader!==void 0}a(Wt,"IsReadableStreamLocked");function He(i,s){if(i._disturbed=!0,i._state==="closed")return c(void 0);if(i._state==="errored")return h(i._storedError);Un(i);let u=i._reader;if(u!==void 0&&ar(u)){let g=u._readIntoRequests;u._readIntoRequests=new R,g.forEach(b=>{b._closeSteps(void 0)})}let p=i._readableStreamController[D](s);return k(p,t)}a(He,"ReadableStreamCancel");function Un(i){i._state="closed";let s=i._reader;if(s!==void 0&&(xu(s),Lt(s))){let u=s._readRequests;s._readRequests=new R,u.forEach(p=>{p._closeSteps()})}}a(Un,"ReadableStreamClose");function xf(i,s){i._state="errored",i._storedError=s;let u=i._reader;u!==void 0&&(Dt(u,s),Lt(u)?Ou(u,s):nf(u,s))}a(xf,"ReadableStreamError");function ur(i){return new TypeError(`ReadableStream.prototype.${i} can only be used on a ReadableStream`)}a(ur,"streamBrandCheckException$1");function Af(i,s){Je(i,s);let u=i==null?void 0:i.highWaterMark;return vo(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:wo(u)}}a(Af,"convertQueuingStrategyInit");let kf=a(i=>i.byteLength,"byteLengthSizeFunction");o(kf,"size");let cs=class cs{constructor(s){mt(s,1,"ByteLengthQueuingStrategy"),s=Af(s,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=s.highWaterMark}get highWaterMark(){if(!Pf(this))throw Cf("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Pf(this))throw Cf("size");return kf}};a(cs,"ByteLengthQueuingStrategy");let Ur=cs;Object.defineProperties(Ur.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ur.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Cf(i){return new TypeError(`ByteLengthQueuingStrategy.prototype.${i} can only be used on a ByteLengthQueuingStrategy`)}a(Cf,"byteLengthBrandCheckException");function Pf(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_byteLengthQueuingStrategyHighWaterMark")?!1:i instanceof Ur}a(Pf,"IsByteLengthQueuingStrategy");let If=a(()=>1,"countSizeFunction");o(If,"size");let ds=class ds{constructor(s){mt(s,1,"CountQueuingStrategy"),s=Af(s,"First parameter"),this._countQueuingStrategyHighWaterMark=s.highWaterMark}get highWaterMark(){if(!Ff(this))throw Of("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Ff(this))throw Of("size");return If}};a(ds,"CountQueuingStrategy");let Wr=ds;Object.defineProperties(Wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Wr.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Of(i){return new TypeError(`CountQueuingStrategy.prototype.${i} can only be used on a CountQueuingStrategy`)}a(Of,"countBrandCheckException");function Ff(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_countQueuingStrategyHighWaterMark")?!1:i instanceof Wr}a(Ff,"IsCountQueuingStrategy");function Eb(i,s){Je(i,s);let u=i==null?void 0:i.cancel,p=i==null?void 0:i.flush,g=i==null?void 0:i.readableType,b=i==null?void 0:i.start,_=i==null?void 0:i.transform,I=i==null?void 0:i.writableType;return{cancel:u===void 0?void 0:Cb(u,i,`${s} has member 'cancel' that`),flush:p===void 0?void 0:xb(p,i,`${s} has member 'flush' that`),readableType:g,start:b===void 0?void 0:Ab(b,i,`${s} has member 'start' that`),transform:_===void 0?void 0:kb(_,i,`${s} has member 'transform' that`),writableType:I}}a(Eb,"convertTransformer");function xb(i,s,u){return Ce(i,u),p=>P(i,s,[p])}a(xb,"convertTransformerFlushCallback");function Ab(i,s,u){return Ce(i,u),p=>x(i,s,[p])}a(Ab,"convertTransformerStartCallback");function kb(i,s,u){return Ce(i,u),(p,g)=>P(i,s,[p,g])}a(kb,"convertTransformerTransformCallback");function Cb(i,s,u){return Ce(i,u),p=>P(i,s,[p])}a(Cb,"convertTransformerCancelCallback");let hs=class hs{constructor(s={},u={},p={}){s===void 0&&(s=null);let g=$i(u,"Second parameter"),b=$i(p,"Third parameter"),_=Eb(s,"First parameter");if(_.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(_.writableType!==void 0)throw new RangeError("Invalid writableType specified");let I=Dn(b,0),M=Zi(b),B=Dn(g,1),z=Zi(g),W,Y=m(Ze=>{W=Ze});Pb(this,Y,B,z,I,M),Ob(this,_),_.start!==void 0?W(_.start(this._transformStreamController)):W(void 0)}get readable(){if(!Bf(this))throw Mf("readable");return this._readable}get writable(){if(!Bf(this))throw Mf("writable");return this._writable}};a(hs,"TransformStream");let Nr=hs;Object.defineProperties(Nr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Nr.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function Pb(i,s,u,p,g,b){function _(){return s}a(_,"startAlgorithm");function I(Y){return Db(i,Y)}a(I,"writeAlgorithm");function M(Y){return Lb(i,Y)}a(M,"abortAlgorithm");function B(){return qb(i)}a(B,"closeAlgorithm"),i._writable=Bg(_,I,B,M,u,p);function z(){return Mb(i)}a(z,"pullAlgorithm");function W(Y){return zb(i,Y)}a(W,"cancelAlgorithm"),i._readable=zn(_,z,W,g,b),i._backpressure=void 0,i._backpressureChangePromise=void 0,i._backpressureChangePromise_resolve=void 0,na(i,!0),i._transformStreamController=void 0}a(Pb,"InitializeTransformStream");function Bf(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_transformStreamController")?!1:i instanceof Nr}a(Bf,"IsTransformStream");function Df(i,s){je(i._readable._readableStreamController,s),Xo(i,s)}a(Df,"TransformStreamError");function Xo(i,s){aa(i._transformStreamController),Ln(i._writable._writableStreamController,s),Qo(i)}a(Xo,"TransformStreamErrorWritableAndUnblockWrite");function Qo(i){i._backpressure&&na(i,!1)}a(Qo,"TransformStreamUnblockWrite");function na(i,s){i._backpressureChangePromise!==void 0&&i._backpressureChangePromise_resolve(),i._backpressureChangePromise=m(u=>{i._backpressureChangePromise_resolve=u}),i._backpressure=s}a(na,"TransformStreamSetBackpressure");let ps=class ps{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ia(this))throw oa("desiredSize");let s=this._controlledTransformStream._readable._readableStreamController;return Go(s)}enqueue(s=void 0){if(!ia(this))throw oa("enqueue");Lf(this,s)}error(s=void 0){if(!ia(this))throw oa("error");Fb(this,s)}terminate(){if(!ia(this))throw oa("terminate");Bb(this)}};a(ps,"TransformStreamDefaultController");let it=ps;Object.defineProperties(it.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),o(it.prototype.enqueue,"enqueue"),o(it.prototype.error,"error"),o(it.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(it.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function ia(i){return!r(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledTransformStream")?!1:i instanceof it}a(ia,"IsTransformStreamDefaultController");function Ib(i,s,u,p,g){s._controlledTransformStream=i,i._transformStreamController=s,s._transformAlgorithm=u,s._flushAlgorithm=p,s._cancelAlgorithm=g,s._finishPromise=void 0,s._finishPromise_resolve=void 0,s._finishPromise_reject=void 0}a(Ib,"SetUpTransformStreamDefaultController");function Ob(i,s){let u=Object.create(it.prototype),p,g,b;s.transform!==void 0?p=a(_=>s.transform(_,u),"transformAlgorithm"):p=a(_=>{try{return Lf(u,_),c(void 0)}catch(I){return h(I)}},"transformAlgorithm"),s.flush!==void 0?g=a(()=>s.flush(u),"flushAlgorithm"):g=a(()=>c(void 0),"flushAlgorithm"),s.cancel!==void 0?b=a(_=>s.cancel(_),"cancelAlgorithm"):b=a(()=>c(void 0),"cancelAlgorithm"),Ib(i,u,p,g,b)}a(Ob,"SetUpTransformStreamDefaultControllerFromTransformer");function aa(i){i._transformAlgorithm=void 0,i._flushAlgorithm=void 0,i._cancelAlgorithm=void 0}a(aa,"TransformStreamDefaultControllerClearAlgorithms");function Lf(i,s){let u=i._controlledTransformStream,p=u._readable._readableStreamController;if(!zr(p))throw new TypeError("Readable side is not in a state that permits enqueue");try{Mr(p,s)}catch(b){throw Xo(u,b),u._readable._storedError}lb(p)!==u._backpressure&&na(u,!0)}a(Lf,"TransformStreamDefaultControllerEnqueue");function Fb(i,s){Df(i._controlledTransformStream,s)}a(Fb,"TransformStreamDefaultControllerError");function qf(i,s){let u=i._transformAlgorithm(s);return k(u,void 0,p=>{throw Df(i._controlledTransformStream,p),p})}a(qf,"TransformStreamDefaultControllerPerformTransform");function Bb(i){let s=i._controlledTransformStream,u=s._readable._readableStreamController;lr(u);let p=new TypeError("TransformStream terminated");Xo(s,p)}a(Bb,"TransformStreamDefaultControllerTerminate");function Db(i,s){let u=i._transformStreamController;if(i._backpressure){let p=i._backpressureChangePromise;return k(p,()=>{let g=i._writable;if(g._state==="erroring")throw g._storedError;return qf(u,s)})}return qf(u,s)}a(Db,"TransformStreamDefaultSinkWriteAlgorithm");function Lb(i,s){let u=i._transformStreamController;if(u._finishPromise!==void 0)return u._finishPromise;let p=i._readable;u._finishPromise=m((b,_)=>{u._finishPromise_resolve=b,u._finishPromise_reject=_});let g=u._cancelAlgorithm(s);return aa(u),y(g,()=>(p._state==="errored"?jr(u,p._storedError):(je(p._readableStreamController,s),Jo(u)),null),b=>(je(p._readableStreamController,b),jr(u,b),null)),u._finishPromise}a(Lb,"TransformStreamDefaultSinkAbortAlgorithm");function qb(i){let s=i._transformStreamController;if(s._finishPromise!==void 0)return s._finishPromise;let u=i._readable;s._finishPromise=m((g,b)=>{s._finishPromise_resolve=g,s._finishPromise_reject=b});let p=s._flushAlgorithm();return aa(s),y(p,()=>(u._state==="errored"?jr(s,u._storedError):(lr(u._readableStreamController),Jo(s)),null),g=>(je(u._readableStreamController,g),jr(s,g),null)),s._finishPromise}a(qb,"TransformStreamDefaultSinkCloseAlgorithm");function Mb(i){return na(i,!1),i._backpressureChangePromise}a(Mb,"TransformStreamDefaultSourcePullAlgorithm");function zb(i,s){let u=i._transformStreamController;if(u._finishPromise!==void 0)return u._finishPromise;let p=i._writable;u._finishPromise=m((b,_)=>{u._finishPromise_resolve=b,u._finishPromise_reject=_});let g=u._cancelAlgorithm(s);return aa(u),y(g,()=>(p._state==="errored"?jr(u,p._storedError):(Ln(p._writableStreamController,s),Qo(i),Jo(u)),null),b=>(Ln(p._writableStreamController,b),Qo(i),jr(u,b),null)),u._finishPromise}a(zb,"TransformStreamDefaultSourceCancelAlgorithm");function oa(i){return new TypeError(`TransformStreamDefaultController.prototype.${i} can only be used on a TransformStreamDefaultController`)}a(oa,"defaultControllerBrandCheckException");function Jo(i){i._finishPromise_resolve!==void 0&&(i._finishPromise_resolve(),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}a(Jo,"defaultControllerFinishPromiseResolve");function jr(i,s){i._finishPromise_reject!==void 0&&(A(i._finishPromise),i._finishPromise_reject(s),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}a(jr,"defaultControllerFinishPromiseReject");function Mf(i){return new TypeError(`TransformStream.prototype.${i} can only be used on a TransformStream`)}a(Mf,"streamBrandCheckException"),e.ByteLengthQueuingStrategy=Ur,e.CountQueuingStrategy=Wr,e.ReadableByteStreamController=Ue,e.ReadableStream=oe,e.ReadableStreamBYOBReader=tt,e.ReadableStreamBYOBRequest=bt,e.ReadableStreamDefaultController=Ne,e.ReadableStreamDefaultReader=et,e.TransformStream=Nr,e.TransformStreamDefaultController=it,e.WritableStream=rt,e.WritableStreamDefaultController=zt,e.WritableStreamDefaultWriter=We})});var Vf=C(()=>{if(!globalThis.ReadableStream)try{let e=require("process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,$f())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=a(function(r){let n=0,o=this;return new ReadableStream({type:"bytes",async pull(l){let d=await o.slice(n,Math.min(o.size,n+65536)).arrayBuffer();n+=d.byteLength,l.enqueue(new Uint8Array(d)),n===o.size&&l.close()}})},"name"))}catch{}});async function*gs(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let n=r.byteOffset,o=r.byteOffset+r.byteLength;for(;n!==o;){let l=Math.min(o-n,Yf),f=r.buffer.slice(n,n+l);n+=f.byteLength,yield new Uint8Array(f)}}else yield r;else{let n=0,o=r;for(;n!==o.size;){let f=await o.slice(n,Math.min(o.size,n+Yf)).arrayBuffer();n+=f.byteLength,yield new Uint8Array(f)}}}var tS,Yf,vt,jn,Yr,ua,jt,Gf,Vb,wt,Hn=Nn(()=>{tS=Oe(Vf(),1);Yf=65536;a(gs,"toIterator");Gf=(jt=class{constructor(t=[],r={}){$e(this,vt,[]);$e(this,jn,"");$e(this,Yr,0);$e(this,ua,"transparent");if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let l of t){let f;ArrayBuffer.isView(l)?f=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?f=new Uint8Array(l.slice(0)):l instanceof jt?f=l:f=n.encode(`${l}`),Se(this,Yr,te(this,Yr)+(ArrayBuffer.isView(f)?f.byteLength:f.size)),te(this,vt).push(f)}Se(this,ua,`${r.endings===void 0?"transparent":r.endings}`);let o=r.type===void 0?"":String(r.type);Se(this,jn,/^[\x20-\x7E]*$/.test(o)?o:"")}get size(){return te(this,Yr)}get type(){return te(this,jn)}async text(){let t=new TextDecoder,r="";for await(let n of gs(te(this,vt),!1))r+=t.decode(n,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let n of gs(te(this,vt),!1))t.set(n,r),r+=n.length;return t.buffer}stream(){let t=gs(te(this,vt),!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await t.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,n=""){let{size:o}=this,l=t<0?Math.max(o+t,0):Math.min(t,o),f=r<0?Math.max(o+r,0):Math.min(r,o),d=Math.max(f-l,0),m=te(this,vt),c=[],h=0;for(let y of m){if(h>=d)break;let w=ArrayBuffer.isView(y)?y.byteLength:y.size;if(l&&w<=l)l-=w,f-=w;else{let v;ArrayBuffer.isView(y)?(v=y.subarray(l,Math.min(w,f)),h+=v.byteLength):(v=y.slice(l,Math.min(w,f)),h+=v.size),f-=w,c.push(v),l=0}}let E=new jt([],{type:String(n).toLowerCase()});return Se(E,Yr,d),Se(E,vt,c),E}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}},vt=new WeakMap,jn=new WeakMap,Yr=new WeakMap,ua=new WeakMap,a(jt,"Blob"),jt);Object.defineProperties(Gf.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Vb=Gf,wt=Vb});var Zn,$n,Gr,Yb,Gb,Kr,bs=Nn(()=>{Hn();Yb=(Gr=class extends wt{constructor(r,n,o={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,o);$e(this,Zn,0);$e(this,$n,"");o===null&&(o={});let l=o.lastModified===void 0?Date.now():Number(o.lastModified);Number.isNaN(l)||Se(this,Zn,l),Se(this,$n,String(n))}get name(){return te(this,$n)}get lastModified(){return te(this,Zn)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof wt&&/^(File)$/.test(r[Symbol.toStringTag])}},Zn=new WeakMap,$n=new WeakMap,a(Gr,"File"),Gr),Gb=Yb,Kr=Gb});function Qf(e,t=wt){var r=`${Kf()}${Kf()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],o=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((l,f)=>typeof l=="string"?n.push(o+ys(f)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(o+ys(f)+`"; filename="${ys(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}var Vn,Kb,Xb,Kf,Qb,Xf,ys,fr,Fe,Xr,cr,fa=Nn(()=>{Hn();bs();({toStringTag:Vn,iterator:Kb,hasInstance:Xb}=Symbol),Kf=Math.random,Qb="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Xf=a((e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[Vn])?[(r=r!==void 0?r+"":t[Vn]=="File"?t.name:"blob",e),t.name!==r||t[Vn]=="blob"?new Kr([t],r,t):t]:[e,t+""]),"f"),ys=a((e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"e"),fr=a((e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)},"x"),cr=(Xr=class{constructor(...t){$e(this,Fe,[]);if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Vn](){return"FormData"}[Kb](){return this.entries()}static[Xb](t){return t&&typeof t=="object"&&t[Vn]==="FormData"&&!Qb.some(r=>typeof t[r]!="function")}append(...t){fr("append",arguments,2),te(this,Fe).push(Xf(...t))}delete(t){fr("delete",arguments,1),t+="",Se(this,Fe,te(this,Fe).filter(([r])=>r!==t))}get(t){fr("get",arguments,1),t+="";for(var r=te(this,Fe),n=r.length,o=0;o<n;o++)if(r[o][0]===t)return r[o][1];return null}getAll(t,r){return fr("getAll",arguments,1),r=[],t+="",te(this,Fe).forEach(n=>n[0]===t&&r.push(n[1])),r}has(t){return fr("has",arguments,1),t+="",te(this,Fe).some(r=>r[0]===t)}forEach(t,r){fr("forEach",arguments,1);for(var[n,o]of this)t.call(r,o,n,this)}set(...t){fr("set",arguments,2);var r=[],n=!0;t=Xf(...t),te(this,Fe).forEach(o=>{o[0]===t[0]?n&&(n=!r.push(t)):r.push(o)}),n&&r.push(t),Se(this,Fe,r)}*entries(){yield*te(this,Fe)}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}},Fe=new WeakMap,a(Xr,"FormData"),Xr);a(Qf,"formDataToBlob")});var nc=C((yS,rc)=>{if(!globalThis.DOMException)try{let{MessageChannel:e}=require("worker_threads"),t=new e().port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){e.constructor.name==="DOMException"&&(globalThis.DOMException=e.constructor)}rc.exports=globalThis.DOMException});var da,Jb,wS,Ss=Nn(()=>{da=require("fs"),Jb=Oe(nc(),1);bs();Hn();({stat:wS}=da.promises)});var ac={};Wf(ac,{toFormData:()=>oy});function ay(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(o,l)=>String.fromCharCode(l)),n}async function oy(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new Ts(r[1]||r[2]),o,l,f,d,m,c,h=[],E=new cr,y=a(S=>{f+=A.decode(S,{stream:!0})},"onPartData"),w=a(S=>{h.push(S)},"appendToFile"),v=a(()=>{let S=new Kr(h,c,{type:m});E.append(d,S)},"appendFileToFormData"),k=a(()=>{E.append(d,f)},"appendEntryToFormData"),A=new TextDecoder("utf-8");A.decode(),n.onPartBegin=function(){n.onPartData=y,n.onPartEnd=k,o="",l="",f="",d="",m="",c=null,h.length=0},n.onHeaderField=function(S){o+=A.decode(S,{stream:!0})},n.onHeaderValue=function(S){l+=A.decode(S,{stream:!0})},n.onHeaderEnd=function(){if(l+=A.decode(),o=o.toLowerCase(),o==="content-disposition"){let S=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);S&&(d=S[2]||S[3]||""),c=ay(l),c&&(n.onPartData=w,n.onPartEnd=v)}else o==="content-type"&&(m=l);l="",o=""};for await(let S of e)n.write(S);return n.end(),E}var at,K,ic,Ht,ha,pa,ey,Gn,ty,ry,ny,iy,dr,Rs,Ts,oc=Nn(()=>{Ss();fa();at=0,K={START_BOUNDARY:at++,HEADER_FIELD_START:at++,HEADER_FIELD:at++,HEADER_VALUE_START:at++,HEADER_VALUE:at++,HEADER_VALUE_ALMOST_DONE:at++,HEADERS_ALMOST_DONE:at++,PART_DATA_START:at++,PART_DATA:at++,END:at++},ic=1,Ht={PART_BOUNDARY:ic,LAST_BOUNDARY:ic*=2},ha=10,pa=13,ey=32,Gn=45,ty=58,ry=97,ny=122,iy=a(e=>e|32,"lower"),dr=a(()=>{},"noop"),Rs=class Rs{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=dr,this.onHeaderField=dr,this.onHeadersEnd=dr,this.onHeaderValue=dr,this.onPartBegin=dr,this.onPartData=dr,this.onPartEnd=dr,this.boundaryChars={},t=`\r
--`+t;let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=K.START_BOUNDARY}write(t){let r=0,n=t.length,o=this.index,{lookbehind:l,boundary:f,boundaryChars:d,index:m,state:c,flags:h}=this,E=this.boundary.length,y=E-1,w=t.length,v,k,A=a(T=>{this[T+"Mark"]=r},"mark"),S=a(T=>{delete this[T+"Mark"]},"clear"),x=a((T,R,O,q)=>{(R===void 0||R!==O)&&this[T](q&&q.subarray(R,O))},"callback"),P=a((T,R)=>{let O=T+"Mark";O in this&&(R?(x(T,this[O],r,t),delete this[O]):(x(T,this[O],t.length,t),this[O]=0))},"dataCallback");for(r=0;r<n;r++)switch(v=t[r],c){case K.START_BOUNDARY:if(m===f.length-2){if(v===Gn)h|=Ht.LAST_BOUNDARY;else if(v!==pa)return;m++;break}else if(m-1===f.length-2){if(h&Ht.LAST_BOUNDARY&&v===Gn)c=K.END,h=0;else if(!(h&Ht.LAST_BOUNDARY)&&v===ha)m=0,x("onPartBegin"),c=K.HEADER_FIELD_START;else return;break}v!==f[m+2]&&(m=-2),v===f[m+2]&&m++;break;case K.HEADER_FIELD_START:c=K.HEADER_FIELD,A("onHeaderField"),m=0;case K.HEADER_FIELD:if(v===pa){S("onHeaderField"),c=K.HEADERS_ALMOST_DONE;break}if(m++,v===Gn)break;if(v===ty){if(m===1)return;P("onHeaderField",!0),c=K.HEADER_VALUE_START;break}if(k=iy(v),k<ry||k>ny)return;break;case K.HEADER_VALUE_START:if(v===ey)break;A("onHeaderValue"),c=K.HEADER_VALUE;case K.HEADER_VALUE:v===pa&&(P("onHeaderValue",!0),x("onHeaderEnd"),c=K.HEADER_VALUE_ALMOST_DONE);break;case K.HEADER_VALUE_ALMOST_DONE:if(v!==ha)return;c=K.HEADER_FIELD_START;break;case K.HEADERS_ALMOST_DONE:if(v!==ha)return;x("onHeadersEnd"),c=K.PART_DATA_START;break;case K.PART_DATA_START:c=K.PART_DATA,A("onPartData");case K.PART_DATA:if(o=m,m===0){for(r+=y;r<w&&!(t[r]in d);)r+=E;r-=y,v=t[r]}if(m<f.length)f[m]===v?(m===0&&P("onPartData",!0),m++):m=0;else if(m===f.length)m++,v===pa?h|=Ht.PART_BOUNDARY:v===Gn?h|=Ht.LAST_BOUNDARY:m=0;else if(m-1===f.length)if(h&Ht.PART_BOUNDARY){if(m=0,v===ha){h&=~Ht.PART_BOUNDARY,x("onPartEnd"),x("onPartBegin"),c=K.HEADER_FIELD_START;break}}else h&Ht.LAST_BOUNDARY&&v===Gn?(x("onPartEnd"),c=K.END,h=0):m=0;if(m>0)l[m-1]=v;else if(o>0){let T=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);x("onPartData",0,o,T),o=0,A("onPartData"),r--}break;case K.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}P("onHeaderField"),P("onHeaderValue"),P("onPartData"),this.index=m,this.state=c,this.flags=h}end(){if(this.state===K.HEADER_FIELD_START&&this.index===0||this.state===K.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==K.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}};a(Rs,"MultipartParser");Ts=Rs;a(ay,"_fileName");a(oy,"toFormData")});var Jn=C((wT,Ps)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Ps.exports={nextTick:py}:Ps.exports=process;function py(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,l,f;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(a(function(){e.call(null,t)},"afterTickOne"));case 3:return process.nextTick(a(function(){e.call(null,t,r)},"afterTickTwo"));case 4:return process.nextTick(a(function(){e.call(null,t,r,n)},"afterTickThree"));default:for(l=new Array(o-1),f=0;f<l.length;)l[f++]=arguments[f];return process.nextTick(a(function(){e.apply(null,l)},"afterTick"))}}a(py,"nextTick")});var Rc=C((TT,Tc)=>{var my={}.toString;Tc.exports=Array.isArray||function(e){return my.call(e)=="[object Array]"}});var Is=C((RT,Ec)=>{Ec.exports=require("stream")});var Ta=C((Os,Ac)=>{var Sa=require("buffer"),Rt=Sa.Buffer;function xc(e,t){for(var r in e)t[r]=e[r]}a(xc,"copyProps");Rt.from&&Rt.alloc&&Rt.allocUnsafe&&Rt.allocUnsafeSlow?Ac.exports=Sa:(xc(Sa,Os),Os.Buffer=en);function en(e,t,r){return Rt(e,t,r)}a(en,"SafeBuffer");xc(Rt,en);en.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Rt(e,t,r)};en.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Rt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};en.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Rt(e)};en.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sa.SlowBuffer(e)}});var tn=C(de=>{function gy(e){return Array.isArray?Array.isArray(e):Ra(e)==="[object Array]"}a(gy,"isArray");de.isArray=gy;function by(e){return typeof e=="boolean"}a(by,"isBoolean");de.isBoolean=by;function yy(e){return e===null}a(yy,"isNull");de.isNull=yy;function _y(e){return e==null}a(_y,"isNullOrUndefined");de.isNullOrUndefined=_y;function vy(e){return typeof e=="number"}a(vy,"isNumber");de.isNumber=vy;function wy(e){return typeof e=="string"}a(wy,"isString");de.isString=wy;function Sy(e){return typeof e=="symbol"}a(Sy,"isSymbol");de.isSymbol=Sy;function Ty(e){return e===void 0}a(Ty,"isUndefined");de.isUndefined=Ty;function Ry(e){return Ra(e)==="[object RegExp]"}a(Ry,"isRegExp");de.isRegExp=Ry;function Ey(e){return typeof e=="object"&&e!==null}a(Ey,"isObject");de.isObject=Ey;function xy(e){return Ra(e)==="[object Date]"}a(xy,"isDate");de.isDate=xy;function Ay(e){return Ra(e)==="[object Error]"||e instanceof Error}a(Ay,"isError");de.isError=Ay;function ky(e){return typeof e=="function"}a(ky,"isFunction");de.isFunction=ky;function Cy(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(Cy,"isPrimitive");de.isPrimitive=Cy;de.isBuffer=require("buffer").Buffer.isBuffer;function Ra(e){return Object.prototype.toString.call(e)}a(Ra,"objectToString")});var kc=C((kT,Fs)=>{typeof Object.create=="function"?Fs.exports=a(function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):Fs.exports=a(function(t,r){if(r){t.super_=r;var n=a(function(){},"TempCtor");n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}},"inherits")});var rn=C((PT,Ds)=>{try{if(Bs=require("util"),typeof Bs.inherits!="function")throw"";Ds.exports=Bs.inherits}catch{Ds.exports=kc()}var Bs});var Pc=C((IT,Ls)=>{"use strict";function Py(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(Py,"_classCallCheck");var Cc=Ta().Buffer,ei=require("util");function Iy(e,t,r){e.copy(t,r)}a(Iy,"copyBuffer");Ls.exports=function(){function e(){Py(this,e),this.head=null,this.tail=null,this.length=0}return a(e,"BufferList"),e.prototype.push=a(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push"),e.prototype.unshift=a(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift"),e.prototype.shift=a(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift"),e.prototype.clear=a(function(){this.head=this.tail=null,this.length=0},"clear"),e.prototype.join=a(function(r){if(this.length===0)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o},"join"),e.prototype.concat=a(function(r){if(this.length===0)return Cc.alloc(0);for(var n=Cc.allocUnsafe(r>>>0),o=this.head,l=0;o;)Iy(o.data,n,l),l+=o.data.length,o=o.next;return n},"concat"),e}();ei&&ei.inspect&&ei.inspect.custom&&(Ls.exports.prototype[ei.inspect.custom]=function(){var e=ei.inspect({length:this.length});return this.constructor.name+" "+e})});var qs=C((FT,Ic)=>{"use strict";var Ea=Jn();function Oy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ea.nextTick(xa,this,e)):Ea.nextTick(xa,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(l){!t&&l?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Ea.nextTick(xa,r,l)):Ea.nextTick(xa,r,l):t&&t(l)}),this)}a(Oy,"destroy");function Fy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}a(Fy,"undestroy");function xa(e,t){e.emit("error",t)}a(xa,"emitErrorNT");Ic.exports={destroy:Oy,undestroy:Fy}});var Fc=C((DT,Oc)=>{Oc.exports=require("util").deprecate});var zs=C((LT,Wc)=>{"use strict";var gr=Jn();Wc.exports=ne;function Dc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Xy(t,e)}}a(Dc,"CorkedRequest");var By=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:gr.nextTick,nn;ne.WritableState=ri;var Lc=Object.create(tn());Lc.inherits=rn();var Dy={deprecate:Fc()},qc=Is(),ka=Ta().Buffer,Ly=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function qy(e){return ka.from(e)}a(qy,"_uint8ArrayToBuffer");function My(e){return ka.isBuffer(e)||e instanceof Ly}a(My,"_isUint8Array");var Mc=qs();Lc.inherits(ne,qc);function zy(){}a(zy,"nop");function ri(e,t){nn=nn||br(),e=e||{};var r=t instanceof nn;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,o=e.writableHighWaterMark,l=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(o||o===0)?this.highWaterMark=o:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=e.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(d){$y(t,d)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Dc(this)}a(ri,"WritableState");ri.prototype.getBuffer=a(function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},"getBuffer");(function(){try{Object.defineProperty(ri.prototype,"buffer",{get:Dy.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Aa;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Aa=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:a(function(e){return Aa.call(this,e)?!0:this!==ne?!1:e&&e._writableState instanceof ri},"value")})):Aa=a(function(e){return e instanceof this},"realHasInstance");function ne(e){if(nn=nn||br(),!Aa.call(ne,this)&&!(this instanceof nn))return new ne(e);this._writableState=new ri(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),qc.call(this)}a(ne,"Writable");ne.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Uy(e,t){var r=new Error("write after end");e.emit("error",r),gr.nextTick(t,r)}a(Uy,"writeAfterEnd");function Wy(e,t,r,n){var o=!0,l=!1;return r===null?l=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(l=new TypeError("Invalid non-string/buffer chunk")),l&&(e.emit("error",l),gr.nextTick(n,l),o=!1),o}a(Wy,"validChunk");ne.prototype.write=function(e,t,r){var n=this._writableState,o=!1,l=!n.objectMode&&My(e);return l&&!ka.isBuffer(e)&&(e=qy(e)),typeof t=="function"&&(r=t,t=null),l?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=zy),n.ended?Uy(this,r):(l||Wy(this,n,e,r))&&(n.pendingcb++,o=jy(this,n,l,e,t,r)),o};ne.prototype.cork=function(){var e=this._writableState;e.corked++};ne.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&zc(this,e))};ne.prototype.setDefaultEncoding=a(function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Ny(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ka.from(t,r)),t}a(Ny,"decodeChunk");Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});function jy(e,t,r,n,o,l){if(!r){var f=Ny(t,n,o);n!==f&&(r=!0,o="buffer",n=f)}var d=t.objectMode?1:n.length;t.length+=d;var m=t.length<t.highWaterMark;if(m||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:l,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ms(e,t,!1,d,n,o,l);return m}a(jy,"writeOrBuffer");function Ms(e,t,r,n,o,l,f){t.writelen=n,t.writecb=f,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,l,t.onwrite),t.sync=!1}a(Ms,"doWrite");function Hy(e,t,r,n,o){--t.pendingcb,r?(gr.nextTick(o,n),gr.nextTick(ti,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),ti(e,t))}a(Hy,"onwriteError");function Zy(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}a(Zy,"onwriteStateUpdate");function $y(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(Zy(r),t)Hy(e,r,n,t,o);else{var l=Uc(r);!l&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&zc(e,r),n?By(Bc,e,r,l,o):Bc(e,r,l,o)}}a($y,"onwrite");function Bc(e,t,r,n){r||Vy(e,t),t.pendingcb--,n(),ti(e,t)}a(Bc,"afterWrite");function Vy(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}a(Vy,"onwriteDrain");function zc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),l=t.corkedRequestsFree;l.entry=r;for(var f=0,d=!0;r;)o[f]=r,r.isBuf||(d=!1),r=r.next,f+=1;o.allBuffers=d,Ms(e,t,!0,t.length,o,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new Dc(t),t.bufferedRequestCount=0}else{for(;r;){var m=r.chunk,c=r.encoding,h=r.callback,E=t.objectMode?1:m.length;if(Ms(e,t,!1,E,m,c,h),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}a(zc,"clearBuffer");ne.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ne.prototype._writev=null;ne.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Ky(this,n,r)};function Uc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}a(Uc,"needFinish");function Yy(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),ti(e,t)})}a(Yy,"callFinal");function Gy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,gr.nextTick(Yy,e,t)):(t.prefinished=!0,e.emit("prefinish")))}a(Gy,"prefinish");function ti(e,t){var r=Uc(t);return r&&(Gy(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}a(ti,"finishMaybe");function Ky(e,t,r){t.ending=!0,ti(e,t),r&&(t.finished?gr.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}a(Ky,"endWritable");function Xy(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}a(Xy,"onCorkedFinish");Object.defineProperty(ne.prototype,"destroyed",{get:a(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:a(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});ne.prototype.destroy=Mc.destroy;ne.prototype._undestroy=Mc.undestroy;ne.prototype._destroy=function(e,t){this.end(),t(e)}});var br=C((MT,Zc)=>{"use strict";var Nc=Jn(),Qy=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Zc.exports=Et;var jc=Object.create(tn());jc.inherits=rn();var Hc=Ns(),Ws=zs();jc.inherits(Et,Hc);for(Us=Qy(Ws.prototype),Ca=0;Ca<Us.length;Ca++)Pa=Us[Ca],Et.prototype[Pa]||(Et.prototype[Pa]=Ws.prototype[Pa]);var Us,Pa,Ca;function Et(e){if(!(this instanceof Et))return new Et(e);Hc.call(this,e),Ws.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Jy)}a(Et,"Duplex");Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:a(function(){return this._writableState.highWaterMark},"get")});function Jy(){this.allowHalfOpen||this._writableState.ended||Nc.nextTick(e_,this)}a(Jy,"onend");function e_(e){e.end()}a(e_,"onEndNT");Object.defineProperty(Et.prototype,"destroyed",{get:a(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:a(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")});Et.prototype._destroy=function(e,t){this.push(null),this.end(),Nc.nextTick(t,e)}});var Yc=C((js,Vc)=>{var Ia=require("buffer"),xt=Ia.Buffer;function $c(e,t){for(var r in e)t[r]=e[r]}a($c,"copyProps");xt.from&&xt.alloc&&xt.allocUnsafe&&xt.allocUnsafeSlow?Vc.exports=Ia:($c(Ia,js),js.Buffer=an);function an(e,t,r){return xt(e,t,r)}a(an,"SafeBuffer");$c(xt,an);an.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return xt(e,t,r)};an.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=xt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};an.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return xt(e)};an.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ia.SlowBuffer(e)}});var $s=C(Kc=>{"use strict";var Zs=Yc().Buffer,Gc=Zs.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t_(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}a(t_,"_normalizeEncoding");function r_(e){var t=t_(e);if(typeof t!="string"&&(Zs.isEncoding===Gc||!Gc(e)))throw new Error("Unknown encoding: "+e);return t||e}a(r_,"normalizeEncoding");Kc.StringDecoder=ni;function ni(e){this.encoding=r_(e);var t;switch(this.encoding){case"utf16le":this.text=l_,this.end=u_,t=4;break;case"utf8":this.fillLast=a_,t=4;break;case"base64":this.text=f_,this.end=c_,t=3;break;default:this.write=d_,this.end=h_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Zs.allocUnsafe(t)}a(ni,"StringDecoder");ni.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};ni.prototype.end=s_;ni.prototype.text=o_;ni.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Hs(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}a(Hs,"utf8CheckByte");function n_(e,t,r){var n=t.length-1;if(n<r)return 0;var o=Hs(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||o===-2?0:(o=Hs(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||o===-2?0:(o=Hs(t[n]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}a(n_,"utf8CheckIncomplete");function i_(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}a(i_,"utf8CheckExtraBytes");function a_(e){var t=this.lastTotal-this.lastNeed,r=i_(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}a(a_,"utf8FillLast");function o_(e,t){var r=n_(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}a(o_,"utf8Text");function s_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}a(s_,"utf8End");function l_(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}a(l_,"utf16Text");function u_(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}a(u_,"utf16End");function f_(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}a(f_,"base64Text");function c_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}a(c_,"base64End");function d_(e){return e.toString(this.encoding)}a(d_,"simpleWrite");function h_(e){return e&&e.length?this.write(e):""}a(h_,"simpleEnd")});var Ns=C((HT,ld)=>{"use strict";var sn=Jn();ld.exports=Q;var p_=Rc(),ii;Q.ReadableState=nd;var jT=require("events").EventEmitter,ed=a(function(e,t){return e.listeners(t).length},"EElistenerCount"),Xs=Is(),ai=Ta().Buffer,m_=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function g_(e){return ai.from(e)}a(g_,"_uint8ArrayToBuffer");function b_(e){return ai.isBuffer(e)||e instanceof m_}a(b_,"_isUint8Array");var td=Object.create(tn());td.inherits=rn();var Vs=require("util"),Z=void 0;Vs&&Vs.debuglog?Z=Vs.debuglog("stream"):Z=a(function(){},"debug");var y_=Pc(),rd=qs(),on;td.inherits(Q,Xs);var Ys=["error","close","destroy","pause","resume"];function __(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):p_(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}a(__,"prependListener");function nd(e,t){ii=ii||br(),e=e||{};var r=t instanceof ii;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,o=e.readableHighWaterMark,l=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(o||o===0)?this.highWaterMark=o:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y_,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(on||(on=$s().StringDecoder),this.decoder=new on(e.encoding),this.encoding=e.encoding)}a(nd,"ReadableState");function Q(e){if(ii=ii||br(),!(this instanceof Q))return new Q(e);this._readableState=new nd(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Xs.call(this)}a(Q,"Readable");Object.defineProperty(Q.prototype,"destroyed",{get:a(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:a(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});Q.prototype.destroy=rd.destroy;Q.prototype._undestroy=rd.undestroy;Q.prototype._destroy=function(e,t){this.push(null),t(e)};Q.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=ai.from(e,t),t=""),n=!0),id(this,e,t,!1,n)};Q.prototype.unshift=function(e){return id(this,e,null,!0,!1)};function id(e,t,r,n,o){var l=e._readableState;if(t===null)l.reading=!1,T_(e,l);else{var f;o||(f=v_(l,t)),f?e.emit("error",f):l.objectMode||t&&t.length>0?(typeof t!="string"&&!l.objectMode&&Object.getPrototypeOf(t)!==ai.prototype&&(t=g_(t)),n?l.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Gs(e,l,t,!0):l.ended?e.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||t.length!==0?Gs(e,l,t,!1):ad(e,l)):Gs(e,l,t,!1))):n||(l.reading=!1)}return w_(l)}a(id,"readableAddChunk");function Gs(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Oa(e)),ad(e,t)}a(Gs,"addChunk");function v_(e,t){var r;return!b_(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}a(v_,"chunkInvalid");function w_(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}a(w_,"needMoreData");Q.prototype.isPaused=function(){return this._readableState.flowing===!1};Q.prototype.setEncoding=function(e){return on||(on=$s().StringDecoder),this._readableState.decoder=new on(e),this._readableState.encoding=e,this};var Xc=8388608;function S_(e){return e>=Xc?e=Xc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}a(S_,"computeNewHighWaterMark");function Qc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=S_(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}a(Qc,"howMuchToRead");Q.prototype.read=function(e){Z("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Z("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ks(this):Oa(this),null;if(e=Qc(e,t),e===0&&t.ended)return t.length===0&&Ks(this),null;var n=t.needReadable;Z("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Z("length less than watermark",n)),t.ended||t.reading?(n=!1,Z("reading or ended",n)):n&&(Z("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Qc(r,t)));var o;return e>0?o=od(e,t):o=null,o===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ks(this)),o!==null&&this.emit("data",o),o};function T_(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Oa(e)}}a(T_,"onEofChunk");function Oa(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Z("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?sn.nextTick(Jc,e):Jc(e))}a(Oa,"emitReadable");function Jc(e){Z("emit readable"),e.emit("readable"),Qs(e)}a(Jc,"emitReadable_");function ad(e,t){t.readingMore||(t.readingMore=!0,sn.nextTick(R_,e,t))}a(ad,"maybeReadMore");function R_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Z("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}a(R_,"maybeReadMore_");Q.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Q.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Z("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,l=o?d:A;n.endEmitted?sn.nextTick(l):r.once("end",l),e.on("unpipe",f);function f(S,x){Z("onunpipe"),S===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,h())}a(f,"onunpipe");function d(){Z("onend"),e.end()}a(d,"onend");var m=E_(r);e.on("drain",m);var c=!1;function h(){Z("cleanup"),e.removeListener("close",v),e.removeListener("finish",k),e.removeListener("drain",m),e.removeListener("error",w),e.removeListener("unpipe",f),r.removeListener("end",d),r.removeListener("end",A),r.removeListener("data",y),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&m()}a(h,"cleanup");var E=!1;r.on("data",y);function y(S){Z("ondata"),E=!1;var x=e.write(S);x===!1&&!E&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&sd(n.pipes,e)!==-1)&&!c&&(Z("false write response, pause",n.awaitDrain),n.awaitDrain++,E=!0),r.pause())}a(y,"ondata");function w(S){Z("onerror",S),A(),e.removeListener("error",w),ed(e,"error")===0&&e.emit("error",S)}a(w,"onerror"),__(e,"error",w);function v(){e.removeListener("finish",k),A()}a(v,"onclose"),e.once("close",v);function k(){Z("onfinish"),e.removeListener("close",v),A()}a(k,"onfinish"),e.once("finish",k);function A(){Z("unpipe"),r.unpipe(e)}return a(A,"unpipe"),e.emit("pipe",r),n.flowing||(Z("pipe resume"),r.resume()),e};function E_(e){return function(){var t=e._readableState;Z("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&ed(e,"data")&&(t.flowing=!0,Qs(e))}}a(E_,"pipeOnDrain");Q.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var l=0;l<o;l++)n[l].emit("unpipe",this,{hasUnpiped:!1});return this}var f=sd(t.pipes,e);return f===-1?this:(t.pipes.splice(f,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Q.prototype.on=function(e,t){var r=Xs.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Oa(this):sn.nextTick(x_,this))}return r};Q.prototype.addListener=Q.prototype.on;function x_(e){Z("readable nexttick read 0"),e.read(0)}a(x_,"nReadingNextTick");Q.prototype.resume=function(){var e=this._readableState;return e.flowing||(Z("resume"),e.flowing=!0,A_(this,e)),this};function A_(e,t){t.resumeScheduled||(t.resumeScheduled=!0,sn.nextTick(k_,e,t))}a(A_,"resume");function k_(e,t){t.reading||(Z("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Qs(e),t.flowing&&!t.reading&&e.read(0)}a(k_,"resume_");Q.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Qs(e){var t=e._readableState;for(Z("flow",t.flowing);t.flowing&&e.read()!==null;);}a(Qs,"flow");Q.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Z("wrapped end"),r.decoder&&!r.ended){var f=r.decoder.end();f&&f.length&&t.push(f)}t.push(null)}),e.on("data",function(f){if(Z("wrapped data"),r.decoder&&(f=r.decoder.write(f)),!(r.objectMode&&f==null)&&!(!r.objectMode&&(!f||!f.length))){var d=t.push(f);d||(n=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(f){return function(){return e[f].apply(e,arguments)}}(o));for(var l=0;l<Ys.length;l++)e.on(Ys[l],this.emit.bind(this,Ys[l]));return this._read=function(f){Z("wrapped _read",f),n&&(n=!1,e.resume())},this};Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:a(function(){return this._readableState.highWaterMark},"get")});Q._fromList=od;function od(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=C_(e,t.buffer,t.decoder),r}a(od,"fromList");function C_(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?P_(e,t):I_(e,t),n}a(C_,"fromListPartial");function P_(e,t){var r=t.head,n=1,o=r.data;for(e-=o.length;r=r.next;){var l=r.data,f=e>l.length?l.length:e;if(f===l.length?o+=l:o+=l.slice(0,e),e-=f,e===0){f===l.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=l.slice(f));break}++n}return t.length-=n,o}a(P_,"copyFromBufferString");function I_(e,t){var r=ai.allocUnsafe(e),n=t.head,o=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var l=n.data,f=e>l.length?l.length:e;if(l.copy(r,r.length-e,0,f),e-=f,e===0){f===l.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=l.slice(f));break}++o}return t.length-=o,r}a(I_,"copyFromBuffer");function Ks(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,sn.nextTick(O_,t,e))}a(Ks,"endReadable");function O_(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}a(O_,"endReadableNT");function sd(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(sd,"indexOf")});var Js=C(($T,cd)=>{"use strict";cd.exports=At;var Fa=br(),fd=Object.create(tn());fd.inherits=rn();fd.inherits(At,Fa);function F_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}a(F_,"afterTransform");function At(e){if(!(this instanceof At))return new At(e);Fa.call(this,e),this._transformState={afterTransform:F_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",B_)}a(At,"Transform");function B_(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){ud(e,t,r)}):ud(this,null,null)}a(B_,"prefinish");At.prototype.push=function(e,t){return this._transformState.needTransform=!1,Fa.prototype.push.call(this,e,t)};At.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};At.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};At.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};At.prototype._destroy=function(e,t){var r=this;Fa.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function ud(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a(ud,"done")});var md=C((YT,pd)=>{"use strict";pd.exports=oi;var dd=Js(),hd=Object.create(tn());hd.inherits=rn();hd.inherits(oi,dd);function oi(e){if(!(this instanceof oi))return new oi(e);dd.call(this,e)}a(oi,"PassThrough");oi.prototype._transform=function(e,t,r){r(null,e)}});var el=C((ue,Ba)=>{var st=require("stream");process.env.READABLE_STREAM==="disable"&&st?(Ba.exports=st,ue=Ba.exports=st.Readable,ue.Readable=st.Readable,ue.Writable=st.Writable,ue.Duplex=st.Duplex,ue.Transform=st.Transform,ue.PassThrough=st.PassThrough,ue.Stream=st):(ue=Ba.exports=Ns(),ue.Stream=st||ue,ue.Readable=ue,ue.Writable=zs(),ue.Duplex=br(),ue.Transform=Js(),ue.PassThrough=md())});var kt=C(xe=>{"use strict";xe.base64=!0;xe.array=!0;xe.string=!0;xe.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";xe.nodebuffer=typeof Buffer<"u";xe.uint8array=typeof Uint8Array<"u";if(typeof ArrayBuffer>"u")xe.blob=!1;else{tl=new ArrayBuffer(0);try{xe.blob=new Blob([tl],{type:"application/zip"}).size===0}catch{try{gd=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,rl=new gd,rl.append(tl),xe.blob=rl.getBlob("application/zip").size===0}catch{xe.blob=!1}}}var tl,gd,rl;try{xe.nodestream=!!el().Readable}catch{xe.nodestream=!1}});var il=C(nl=>{"use strict";var D_=ee(),L_=kt(),lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";nl.encode=function(e){for(var t=[],r,n,o,l,f,d,m,c=0,h=e.length,E=h,y=D_.getTypeOf(e)!=="string";c<e.length;)E=h-c,y?(r=e[c++],n=c<h?e[c++]:0,o=c<h?e[c++]:0):(r=e.charCodeAt(c++),n=c<h?e.charCodeAt(c++):0,o=c<h?e.charCodeAt(c++):0),l=r>>2,f=(r&3)<<4|n>>4,d=E>1?(n&15)<<2|o>>6:64,m=E>2?o&63:64,t.push(lt.charAt(l)+lt.charAt(f)+lt.charAt(d)+lt.charAt(m));return t.join("")};nl.decode=function(e){var t,r,n,o,l,f,d,m=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9+/=]/g,"");var E=e.length*3/4;if(e.charAt(e.length-1)===lt.charAt(64)&&E--,e.charAt(e.length-2)===lt.charAt(64)&&E--,E%1!==0)throw new Error("Invalid base64 input, bad content length.");var y;for(L_.uint8array?y=new Uint8Array(E|0):y=new Array(E|0);m<e.length;)o=lt.indexOf(e.charAt(m++)),l=lt.indexOf(e.charAt(m++)),f=lt.indexOf(e.charAt(m++)),d=lt.indexOf(e.charAt(m++)),t=o<<2|l>>4,r=(l&15)<<4|f>>2,n=(f&3)<<6|d,y[c++]=t,f!==64&&(y[c++]=r),d!==64&&(y[c++]=n);return y}});var si=C((QT,bd)=>{"use strict";bd.exports={isNode:typeof Buffer<"u",newBufferFrom:a(function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},"newBufferFrom"),allocBuffer:a(function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},"allocBuffer"),isBuffer:a(function(e){return Buffer.isBuffer(e)},"isBuffer"),isStream:a(function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"},"isStream")}});var wd=C((eR,vd)=>{"use strict";var yd=global.MutationObserver||global.WebKitMutationObserver,ln;process.browser?yd?(al=0,_d=new yd(li),ol=global.document.createTextNode(""),_d.observe(ol,{characterData:!0}),ln=a(function(){ol.data=al=++al%2},"scheduleDrain")):!global.setImmediate&&typeof global.MessageChannel<"u"?(sl=new global.MessageChannel,sl.port1.onmessage=li,ln=a(function(){sl.port2.postMessage(0)},"scheduleDrain")):"document"in global&&"onreadystatechange"in global.document.createElement("script")?ln=a(function(){var e=global.document.createElement("script");e.onreadystatechange=function(){li(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)},"scheduleDrain"):ln=a(function(){setTimeout(li,0)},"scheduleDrain"):ln=a(function(){process.nextTick(li)},"scheduleDrain");var al,_d,ol,sl,ll,ui=[];function li(){ll=!0;for(var e,t,r=ui.length;r;){for(t=ui,ui=[],e=-1;++e<r;)t[e]();r=ui.length}ll=!1}a(li,"nextTick");vd.exports=q_;function q_(e){ui.push(e)===1&&!ll&&ln()}a(q_,"immediate")});var kd=C((rR,Ad)=>{"use strict";var Sd=wd();function un(){}a(un,"INTERNAL");var he={},Td=["REJECTED"],ul=["FULFILLED"],Rd=["PENDING"];process.browser||(fi=["UNHANDLED"]);var fi;Ad.exports=Zt;function Zt(e){if(typeof e!="function")throw new TypeError("resolver must be a function");this.state=Rd,this.queue=[],this.outcome=void 0,process.browser||(this.handled=fi),e!==un&&Ed(this,e)}a(Zt,"Promise");Zt.prototype.finally=function(e){if(typeof e!="function")return this;var t=this.constructor;return this.then(r,n);function r(o){function l(){return o}return a(l,"yes"),t.resolve(e()).then(l)}function n(o){function l(){throw o}return a(l,"no"),t.resolve(e()).then(l)}};Zt.prototype.catch=function(e){return this.then(null,e)};Zt.prototype.then=function(e,t){if(typeof e!="function"&&this.state===ul||typeof t!="function"&&this.state===Td)return this;var r=new this.constructor(un);if(process.browser||this.handled===fi&&(this.handled=null),this.state!==Rd){var n=this.state===ul?e:t;fl(r,n,this.outcome)}else this.queue.push(new ci(r,e,t));return r};function ci(e,t,r){this.promise=e,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}a(ci,"QueueItem");ci.prototype.callFulfilled=function(e){he.resolve(this.promise,e)};ci.prototype.otherCallFulfilled=function(e){fl(this.promise,this.onFulfilled,e)};ci.prototype.callRejected=function(e){he.reject(this.promise,e)};ci.prototype.otherCallRejected=function(e){fl(this.promise,this.onRejected,e)};function fl(e,t,r){Sd(function(){var n;try{n=t(r)}catch(o){return he.reject(e,o)}n===e?he.reject(e,new TypeError("Cannot resolve promise with itself")):he.resolve(e,n)})}a(fl,"unwrap");he.resolve=function(e,t){var r=xd(M_,t);if(r.status==="error")return he.reject(e,r.value);var n=r.value;if(n)Ed(e,n);else{e.state=ul,e.outcome=t;for(var o=-1,l=e.queue.length;++o<l;)e.queue[o].callFulfilled(t)}return e};he.reject=function(e,t){e.state=Td,e.outcome=t,process.browser||e.handled===fi&&Sd(function(){e.handled===fi&&process.emit("unhandledRejection",t,e)});for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e};function M_(e){var t=e&&e.then;if(e&&(typeof e=="object"||typeof e=="function")&&typeof t=="function")return a(function(){t.apply(e,arguments)},"appyThen")}a(M_,"getThen");function Ed(e,t){var r=!1;function n(d){r||(r=!0,he.reject(e,d))}a(n,"onError");function o(d){r||(r=!0,he.resolve(e,d))}a(o,"onSuccess");function l(){t(o,n)}a(l,"tryToUnwrap");var f=xd(l);f.status==="error"&&n(f.value)}a(Ed,"safelyResolveThenable");function xd(e,t){var r={};try{r.value=e(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}a(xd,"tryCatch");Zt.resolve=z_;function z_(e){return e instanceof this?e:he.resolve(new this(un),e)}a(z_,"resolve");Zt.reject=U_;function U_(e){var t=new this(un);return he.reject(t,e)}a(U_,"reject");Zt.all=W_;function W_(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),l=0,f=-1,d=new this(un);++f<r;)m(e[f],f);return d;function m(c,h){t.resolve(c).then(E,function(y){n||(n=!0,he.reject(d,y))});function E(y){o[h]=y,++l===r&&!n&&(n=!0,he.resolve(d,o))}a(E,"resolveFromAll")}}a(W_,"all");Zt.race=N_;function N_(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=-1,l=new this(un);++o<r;)f(e[o]);return l;function f(d){t.resolve(d).then(function(m){n||(n=!0,he.resolve(l,m))},function(m){n||(n=!0,he.reject(l,m))})}}a(N_,"race")});var fn=C((iR,Cd)=>{"use strict";var cl=null;typeof Promise<"u"?cl=Promise:cl=kd();Cd.exports={Promise:cl}});var Id=C(Pd=>{(function(e,t){"use strict";if(e.setImmediate)return;var r=1,n={},o=!1,l=e.document,f;function d(x){typeof x!="function"&&(x=new Function(""+x));for(var P=new Array(arguments.length-1),T=0;T<P.length;T++)P[T]=arguments[T+1];var R={callback:x,args:P};return n[r]=R,f(r),r++}a(d,"setImmediate");function m(x){delete n[x]}a(m,"clearImmediate");function c(x){var P=x.callback,T=x.args;switch(T.length){case 0:P();break;case 1:P(T[0]);break;case 2:P(T[0],T[1]);break;case 3:P(T[0],T[1],T[2]);break;default:P.apply(t,T);break}}a(c,"run");function h(x){if(o)setTimeout(h,0,x);else{var P=n[x];if(P){o=!0;try{c(P)}finally{m(x),o=!1}}}}a(h,"runIfPresent");function E(){f=a(function(x){process.nextTick(function(){h(x)})},"registerImmediate")}a(E,"installNextTickImplementation");function y(){if(e.postMessage&&!e.importScripts){var x=!0,P=e.onmessage;return e.onmessage=function(){x=!1},e.postMessage("","*"),e.onmessage=P,x}}a(y,"canUsePostMessage");function w(){var x="setImmediate$"+Math.random()+"$",P=a(function(T){T.source===e&&typeof T.data=="string"&&T.data.indexOf(x)===0&&h(+T.data.slice(x.length))},"onGlobalMessage");e.addEventListener?e.addEventListener("message",P,!1):e.attachEvent("onmessage",P),f=a(function(T){e.postMessage(x+T,"*")},"registerImmediate")}a(w,"installPostMessageImplementation");function v(){var x=new MessageChannel;x.port1.onmessage=function(P){var T=P.data;h(T)},f=a(function(P){x.port2.postMessage(P)},"registerImmediate")}a(v,"installMessageChannelImplementation");function k(){var x=l.documentElement;f=a(function(P){var T=l.createElement("script");T.onreadystatechange=function(){h(P),T.onreadystatechange=null,x.removeChild(T),T=null},x.appendChild(T)},"registerImmediate")}a(k,"installReadyStateChangeImplementation");function A(){f=a(function(x){setTimeout(h,0,x)},"registerImmediate")}a(A,"installSetTimeoutImplementation");var S=Object.getPrototypeOf&&Object.getPrototypeOf(e);S=S&&S.setTimeout?S:e,{}.toString.call(e.process)==="[object process]"?E():y()?w():e.MessageChannel?v():l&&"onreadystatechange"in l.createElement("script")?k():A(),S.setImmediate=d,S.clearImmediate=m})(typeof self>"u"?typeof global>"u"?Pd:global:self)});var ee=C(ie=>{"use strict";var $t=kt(),j_=il(),cn=si(),dl=fn();Id();function H_(e){var t=null;return $t.uint8array?t=new Uint8Array(e.length):t=new Array(e.length),La(e,t)}a(H_,"string2binary");ie.newBlob=function(e,t){ie.checkSupport("blob");try{return new Blob([e],{type:t})}catch{try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,n=new r;return n.append(e),n.getBlob(t)}catch{throw new Error("Bug : can't construct the Blob.")}}};function di(e){return e}a(di,"identity");function La(e,t){for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)&255;return t}a(La,"stringToArrayLike");var Da={stringifyByChunk:a(function(e,t,r){var n=[],o=0,l=e.length;if(l<=r)return String.fromCharCode.apply(null,e);for(;o<l;)t==="array"||t==="nodebuffer"?n.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+r,l)))):n.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+r,l)))),o+=r;return n.join("")},"stringifyByChunk"),stringifyByChar:a(function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},"stringifyByChar"),applyCanBeUsed:{uint8array:function(){try{return $t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return $t.nodebuffer&&String.fromCharCode.apply(null,cn.allocBuffer(1)).length===1}catch{return!1}}()}};function hi(e){var t=65536,r=ie.getTypeOf(e),n=!0;if(r==="uint8array"?n=Da.applyCanBeUsed.uint8array:r==="nodebuffer"&&(n=Da.applyCanBeUsed.nodebuffer),n)for(;t>1;)try{return Da.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return Da.stringifyByChar(e)}a(hi,"arrayLikeToString");ie.applyFromCharCode=hi;function qa(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a(qa,"arrayLikeToArrayLike");var Vt={};Vt.string={string:di,array:a(function(e){return La(e,new Array(e.length))},"array"),arraybuffer:a(function(e){return Vt.string.uint8array(e).buffer},"arraybuffer"),uint8array:a(function(e){return La(e,new Uint8Array(e.length))},"uint8array"),nodebuffer:a(function(e){return La(e,cn.allocBuffer(e.length))},"nodebuffer")};Vt.array={string:hi,array:di,arraybuffer:a(function(e){return new Uint8Array(e).buffer},"arraybuffer"),uint8array:a(function(e){return new Uint8Array(e)},"uint8array"),nodebuffer:a(function(e){return cn.newBufferFrom(e)},"nodebuffer")};Vt.arraybuffer={string:a(function(e){return hi(new Uint8Array(e))},"string"),array:a(function(e){return qa(new Uint8Array(e),new Array(e.byteLength))},"array"),arraybuffer:di,uint8array:a(function(e){return new Uint8Array(e)},"uint8array"),nodebuffer:a(function(e){return cn.newBufferFrom(new Uint8Array(e))},"nodebuffer")};Vt.uint8array={string:hi,array:a(function(e){return qa(e,new Array(e.length))},"array"),arraybuffer:a(function(e){return e.buffer},"arraybuffer"),uint8array:di,nodebuffer:a(function(e){return cn.newBufferFrom(e)},"nodebuffer")};Vt.nodebuffer={string:hi,array:a(function(e){return qa(e,new Array(e.length))},"array"),arraybuffer:a(function(e){return Vt.nodebuffer.uint8array(e).buffer},"arraybuffer"),uint8array:a(function(e){return qa(e,new Uint8Array(e.length))},"uint8array"),nodebuffer:di};ie.transformTo=function(e,t){if(t||(t=""),!e)return t;ie.checkSupport(e);var r=ie.getTypeOf(t),n=Vt[r][e](t);return n};ie.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var o=t[n];o==="."||o===""&&n!==0&&n!==t.length-1||(o===".."?r.pop():r.push(o))}return r.join("/")};ie.getTypeOf=function(e){if(typeof e=="string")return"string";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if($t.nodebuffer&&cn.isBuffer(e))return"nodebuffer";if($t.uint8array&&e instanceof Uint8Array)return"uint8array";if($t.arraybuffer&&e instanceof ArrayBuffer)return"arraybuffer"};ie.checkSupport=function(e){var t=$t[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")};ie.MAX_VALUE_16BITS=65535;ie.MAX_VALUE_32BITS=-1;ie.pretty=function(e){var t="",r,n;for(n=0;n<(e||"").length;n++)r=e.charCodeAt(n),t+="\\x"+(r<16?"0":"")+r.toString(16).toUpperCase();return t};ie.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})};ie.inherits=function(e,t){var r=a(function(){},"Obj");r.prototype=t.prototype,e.prototype=new r};ie.extend=function(){var e={},t,r;for(t=0;t<arguments.length;t++)for(r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&typeof e[r]>"u"&&(e[r]=arguments[t][r]);return e};ie.prepareContent=function(e,t,r,n,o){var l=dl.Promise.resolve(t).then(function(f){var d=$t.blob&&(f instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(f))!==-1);return d&&typeof FileReader<"u"?new dl.Promise(function(m,c){var h=new FileReader;h.onload=function(E){m(E.target.result)},h.onerror=function(E){c(E.target.error)},h.readAsArrayBuffer(f)}):f});return l.then(function(f){var d=ie.getTypeOf(f);return d?(d==="arraybuffer"?f=ie.transformTo("uint8array",f):d==="string"&&(o?f=j_.decode(f):r&&n!==!0&&(f=H_(f))),f):dl.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});var Ae=C((uR,Fd)=>{"use strict";function Od(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a(Od,"GenericWorker");Od.prototype={push:a(function(e){this.emit("data",e)},"push"),end:a(function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},"end"),error:a(function(e){return this.isFinished?!1:(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},"error"),on:a(function(e,t){return this._listeners[e].push(t),this},"on"),cleanUp:a(function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},"cleanUp"),emit:a(function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},"emit"),pipe:a(function(e){return e.registerPrevious(this)},"pipe"),registerPrevious:a(function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.end()}),e.on("error",function(r){t.error(r)}),this},"registerPrevious"),pause:a(function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},"pause"),resume:a(function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},"resume"),flush:a(function(){},"flush"),processChunk:a(function(e){this.push(e)},"processChunk"),withStreamInfo:a(function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},"withStreamInfo"),mergeStreamInfo:a(function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},"mergeStreamInfo"),lock:a(function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},"lock"),toString:a(function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e},"toString")};Fd.exports=Od});var hn=C(Yt=>{"use strict";var dn=ee(),yr=kt(),Z_=si(),Ma=Ae(),pi=new Array(256);for(Ct=0;Ct<256;Ct++)pi[Ct]=Ct>=252?6:Ct>=248?5:Ct>=240?4:Ct>=224?3:Ct>=192?2:1;var Ct;pi[254]=pi[254]=1;var $_=a(function(e){var t,r,n,o,l,f=e.length,d=0;for(o=0;o<f;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(yr.uint8array?t=new Uint8Array(d):t=new Array(d),l=0,o=0;l<d;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[l++]=r:r<2048?(t[l++]=192|r>>>6,t[l++]=128|r&63):r<65536?(t[l++]=224|r>>>12,t[l++]=128|r>>>6&63,t[l++]=128|r&63):(t[l++]=240|r>>>18,t[l++]=128|r>>>12&63,t[l++]=128|r>>>6&63,t[l++]=128|r&63);return t},"string2buf"),V_=a(function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+pi[e[r]]>t?r:t},"utf8border"),Y_=a(function(e){var t,r,n,o,l=e.length,f=new Array(l*2);for(r=0,t=0;t<l;){if(n=e[t++],n<128){f[r++]=n;continue}if(o=pi[n],o>4){f[r++]=65533,t+=o-1;continue}for(n&=o===2?31:o===3?15:7;o>1&&t<l;)n=n<<6|e[t++]&63,o--;if(o>1){f[r++]=65533;continue}n<65536?f[r++]=n:(n-=65536,f[r++]=55296|n>>10&1023,f[r++]=56320|n&1023)}return f.length!==r&&(f.subarray?f=f.subarray(0,r):f.length=r),dn.applyFromCharCode(f)},"buf2string");Yt.utf8encode=a(function(t){return yr.nodebuffer?Z_.newBufferFrom(t,"utf-8"):$_(t)},"utf8encode");Yt.utf8decode=a(function(t){return yr.nodebuffer?dn.transformTo("nodebuffer",t).toString("utf-8"):(t=dn.transformTo(yr.uint8array?"uint8array":"array",t),Y_(t))},"utf8decode");function za(){Ma.call(this,"utf-8 decode"),this.leftOver=null}a(za,"Utf8DecodeWorker");dn.inherits(za,Ma);za.prototype.processChunk=function(e){var t=dn.transformTo(yr.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(yr.uint8array){var r=t;t=new Uint8Array(r.length+this.leftOver.length),t.set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=V_(t),o=t;n!==t.length&&(yr.uint8array?(o=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(o=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:Yt.utf8decode(o),meta:e.meta})};za.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Yt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};Yt.Utf8DecodeWorker=za;function hl(){Ma.call(this,"utf-8 encode")}a(hl,"Utf8EncodeWorker");dn.inherits(hl,Ma);hl.prototype.processChunk=function(e){this.push({data:Yt.utf8encode(e.data),meta:e.meta})};Yt.Utf8EncodeWorker=hl});var qd=C((hR,Ld)=>{"use strict";var Bd=Ae(),Dd=ee();function pl(e){Bd.call(this,"ConvertWorker to "+e),this.destType=e}a(pl,"ConvertWorker");Dd.inherits(pl,Bd);pl.prototype.processChunk=function(e){this.push({data:Dd.transformTo(this.destType,e.data),meta:e.meta})};Ld.exports=pl});var Ud=C((mR,zd)=>{"use strict";var Md=el().Readable,G_=ee();G_.inherits(ml,Md);function ml(e,t,r){Md.call(this,t),this._helper=e;var n=this;e.on("data",function(o,l){n.push(o)||n._helper.pause(),r&&r(l)}).on("error",function(o){n.emit("error",o)}).on("end",function(){n.push(null)})}a(ml,"NodejsStreamOutputAdapter");ml.prototype._read=function(){this._helper.resume()};zd.exports=ml});var gl=C((bR,jd)=>{"use strict";var _r=ee(),K_=qd(),X_=Ae(),Q_=il(),J_=kt(),ev=fn(),Wd=null;if(J_.nodestream)try{Wd=Ud()}catch{}function tv(e,t,r){switch(e){case"blob":return _r.newBlob(_r.transformTo("arraybuffer",t),r);case"base64":return Q_.encode(t);default:return _r.transformTo(e,t)}}a(tv,"transformZipOutput");function rv(e,t){var r,n=0,o=null,l=0;for(r=0;r<t.length;r++)l+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(l),r=0;r<t.length;r++)o.set(t[r],n),n+=t[r].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}a(rv,"concat");function nv(e,t){return new ev.Promise(function(r,n){var o=[],l=e._internalType,f=e._outputType,d=e._mimeType;e.on("data",function(m,c){o.push(m),t&&t(c)}).on("error",function(m){o=[],n(m)}).on("end",function(){try{var m=tv(f,rv(l,o),d);r(m)}catch(c){n(c)}o=[]}).resume()})}a(nv,"accumulate");function Nd(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string";break}try{this._internalType=n,this._outputType=t,this._mimeType=r,_r.checkSupport(n),this._worker=e.pipe(new K_(n)),e.lock()}catch(o){this._worker=new X_("error"),this._worker.error(o)}}a(Nd,"StreamHelper");Nd.prototype={accumulate:a(function(e){return nv(this,e)},"accumulate"),on:a(function(e,t){var r=this;return e==="data"?this._worker.on(e,function(n){t.call(r,n.data,n.meta)}):this._worker.on(e,function(){_r.delay(t,arguments,r)}),this},"on"),resume:a(function(){return _r.delay(this._worker.resume,[],this._worker),this},"resume"),pause:a(function(){return this._worker.pause(),this},"pause"),toNodejsStream:a(function(e){if(_r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Wd(this,{objectMode:this._outputType!=="nodebuffer"},e)},"toNodejsStream")};jd.exports=Nd});var bl=C(Ye=>{"use strict";Ye.base64=!1;Ye.binary=!1;Ye.dir=!1;Ye.createFolders=!0;Ye.date=null;Ye.compression=null;Ye.compressionOptions=null;Ye.comment=null;Ye.unixPermissions=null;Ye.dosPermissions=null});var yl=C((vR,Hd)=>{"use strict";var Ua=ee(),Wa=Ae(),iv=16*1024;function pn(e){Wa.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(r){t.dataIsReady=!0,t.data=r,t.max=r&&r.length||0,t.type=Ua.getTypeOf(r),t.isPaused||t._tickAndRepeat()},function(r){t.error(r)})}a(pn,"DataWorker");Ua.inherits(pn,Wa);pn.prototype.cleanUp=function(){Wa.prototype.cleanUp.call(this),this.data=null};pn.prototype.resume=function(){return Wa.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Ua.delay(this._tickAndRepeat,[],this)),!0):!1};pn.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(Ua.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};pn.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=iv,t=null,r=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,r);break;case"uint8array":t=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":t=this.data.slice(this.index,r);break}return this.index=r,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};Hd.exports=pn});var Na=C((SR,$d)=>{"use strict";var av=ee();function ov(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}a(ov,"makeTable");var Zd=ov();function sv(e,t,r,n){var o=Zd,l=n+r;e=e^-1;for(var f=n;f<l;f++)e=e>>>8^o[(e^t[f])&255];return e^-1}a(sv,"crc32");function lv(e,t,r,n){var o=Zd,l=n+r;e=e^-1;for(var f=n;f<l;f++)e=e>>>8^o[(e^t.charCodeAt(f))&255];return e^-1}a(lv,"crc32str");$d.exports=a(function(t,r){if(typeof t>"u"||!t.length)return 0;var n=av.getTypeOf(t)!=="string";return n?sv(r|0,t,t.length,0):lv(r|0,t,t.length,0)},"crc32wrapper")});var vl=C((RR,Yd)=>{"use strict";var Vd=Ae(),uv=Na(),fv=ee();function _l(){Vd.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a(_l,"Crc32Probe");fv.inherits(_l,Vd);_l.prototype.processChunk=function(e){this.streamInfo.crc32=uv(e.data,this.streamInfo.crc32||0),this.push(e)};Yd.exports=_l});var Kd=C((xR,Gd)=>{"use strict";var cv=ee(),wl=Ae();function Sl(e){wl.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}a(Sl,"DataLengthProbe");cv.inherits(Sl,wl);Sl.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}wl.prototype.processChunk.call(this,e)};Gd.exports=Sl});var ja=C((kR,Jd)=>{"use strict";var Xd=fn(),Qd=yl(),dv=vl(),Tl=Kd();function Rl(e,t,r,n,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=o}a(Rl,"CompressedObject");Rl.prototype={getContentWorker:a(function(){var e=new Qd(Xd.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Tl("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},"getContentWorker"),getCompressedWorker:a(function(){return new Qd(Xd.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)},"getCompressedWorker")};Rl.createWorkerFrom=function(e,t,r){return e.pipe(new dv).pipe(new Tl("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new Tl("compressedSize")).withStreamInfo("compression",t)};Jd.exports=Rl});var nh=C((PR,rh)=>{"use strict";var hv=gl(),pv=yl(),El=hn(),xl=ja(),eh=Ae(),Al=a(function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}},"ZipObject");Al.prototype={internalStream:a(function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");r=e.toLowerCase();var n=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new El.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new El.Utf8DecodeWorker))}catch(l){t=new eh("error"),t.error(l)}return new hv(t,r,"")},"internalStream"),async:a(function(e,t){return this.internalStream(e).accumulate(t)},"async"),nodeStream:a(function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},"nodeStream"),_compressWorker:a(function(e,t){if(this._data instanceof xl&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new El.Utf8EncodeWorker)),xl.createWorkerFrom(r,e,t)},"_compressWorker"),_decompressWorker:a(function(){return this._data instanceof xl?this._data.getContentWorker():this._data instanceof eh?this._data:new pv(this._data)},"_decompressWorker")};var th=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],mv=a(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"removedFn");for(Ha=0;Ha<th.length;Ha++)Al.prototype[th[Ha]]=mv;var Ha;rh.exports=Al});var Pt=C(me=>{"use strict";var gv=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function bv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a(bv,"_has");me.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)bv(r,n)&&(e[n]=r[n])}}return e};me.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var yv={arraySet:a(function(e,t,r,n,o){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),o);return}for(var l=0;l<n;l++)e[o+l]=t[r+l]},"arraySet"),flattenChunks:a(function(e){var t,r,n,o,l,f;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(f=new Uint8Array(n),o=0,t=0,r=e.length;t<r;t++)l=e[t],f.set(l,o),o+=l.length;return f},"flattenChunks")},_v={arraySet:a(function(e,t,r,n,o){for(var l=0;l<n;l++)e[o+l]=t[r+l]},"arraySet"),flattenChunks:a(function(e){return[].concat.apply([],e)},"flattenChunks")};me.setTyped=function(e){e?(me.Buf8=Uint8Array,me.Buf16=Uint16Array,me.Buf32=Int32Array,me.assign(me,yv)):(me.Buf8=Array,me.Buf16=Array,me.Buf32=Array,me.assign(me,_v))};me.setTyped(gv)});var xh=C(bn=>{"use strict";var vv=Pt(),wv=4,ih=0,ah=1,Sv=2;function gn(e){for(var t=e.length;--t>=0;)e[t]=0}a(gn,"zero");var Tv=0,ch=1,Rv=2,Ev=3,xv=258,Bl=29,vi=256,gi=vi+1+Bl,mn=30,Dl=19,dh=2*gi+1,vr=15,kl=16,Av=7,Ll=256,hh=16,ph=17,mh=18,Ol=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Za=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],kv=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gh=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Cv=512,It=new Array((gi+2)*2);gn(It);var mi=new Array(mn*2);gn(mi);var bi=new Array(Cv);gn(bi);var yi=new Array(xv-Ev+1);gn(yi);var ql=new Array(Bl);gn(ql);var $a=new Array(mn);gn($a);function Cl(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}a(Cl,"StaticTreeDesc");var bh,yh,_h;function Pl(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}a(Pl,"TreeDesc");function vh(e){return e<256?bi[e]:bi[256+(e>>>7)]}a(vh,"d_code");function _i(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}a(_i,"put_short");function ve(e,t,r){e.bi_valid>kl-r?(e.bi_buf|=t<<e.bi_valid&65535,_i(e,e.bi_buf),e.bi_buf=t>>kl-e.bi_valid,e.bi_valid+=r-kl):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}a(ve,"send_bits");function ut(e,t,r){ve(e,r[t*2],r[t*2+1])}a(ut,"send_code");function wh(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}a(wh,"bi_reverse");function Pv(e){e.bi_valid===16?(_i(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}a(Pv,"bi_flush");function Iv(e,t){var r=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,m=t.stat_desc.max_length,c,h,E,y,w,v,k=0;for(y=0;y<=vr;y++)e.bl_count[y]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<dh;c++)h=e.heap[c],y=r[r[h*2+1]*2+1]+1,y>m&&(y=m,k++),r[h*2+1]=y,!(h>n)&&(e.bl_count[y]++,w=0,h>=d&&(w=f[h-d]),v=r[h*2],e.opt_len+=v*(y+w),l&&(e.static_len+=v*(o[h*2+1]+w)));if(k!==0){do{for(y=m-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[m]--,k-=2}while(k>0);for(y=m;y!==0;y--)for(h=e.bl_count[y];h!==0;)E=e.heap[--c],!(E>n)&&(r[E*2+1]!==y&&(e.opt_len+=(y-r[E*2+1])*r[E*2],r[E*2+1]=y),h--)}}a(Iv,"gen_bitlen");function Sh(e,t,r){var n=new Array(vr+1),o=0,l,f;for(l=1;l<=vr;l++)n[l]=o=o+r[l-1]<<1;for(f=0;f<=t;f++){var d=e[f*2+1];d!==0&&(e[f*2]=wh(n[d]++,d))}}a(Sh,"gen_codes");function Ov(){var e,t,r,n,o,l=new Array(vr+1);for(r=0,n=0;n<Bl-1;n++)for(ql[n]=r,e=0;e<1<<Ol[n];e++)yi[r++]=n;for(yi[r-1]=n,o=0,n=0;n<16;n++)for($a[n]=o,e=0;e<1<<Za[n];e++)bi[o++]=n;for(o>>=7;n<mn;n++)for($a[n]=o<<7,e=0;e<1<<Za[n]-7;e++)bi[256+o++]=n;for(t=0;t<=vr;t++)l[t]=0;for(e=0;e<=143;)It[e*2+1]=8,e++,l[8]++;for(;e<=255;)It[e*2+1]=9,e++,l[9]++;for(;e<=279;)It[e*2+1]=7,e++,l[7]++;for(;e<=287;)It[e*2+1]=8,e++,l[8]++;for(Sh(It,gi+1,l),e=0;e<mn;e++)mi[e*2+1]=5,mi[e*2]=wh(e,5);bh=new Cl(It,Ol,vi+1,gi,vr),yh=new Cl(mi,Za,0,mn,vr),_h=new Cl(new Array(0),kv,0,Dl,Av)}a(Ov,"tr_static_init");function Th(e){var t;for(t=0;t<gi;t++)e.dyn_ltree[t*2]=0;for(t=0;t<mn;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Dl;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Ll*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}a(Th,"init_block");function Rh(e){e.bi_valid>8?_i(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}a(Rh,"bi_windup");function Fv(e,t,r,n){Rh(e),n&&(_i(e,r),_i(e,~r)),vv.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}a(Fv,"copy_block");function oh(e,t,r,n){var o=t*2,l=r*2;return e[o]<e[l]||e[o]===e[l]&&n[t]<=n[r]}a(oh,"smaller");function Il(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&oh(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!oh(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}a(Il,"pqdownheap");function sh(e,t,r){var n,o,l=0,f,d;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+l*2]<<8|e.pending_buf[e.d_buf+l*2+1],o=e.pending_buf[e.l_buf+l],l++,n===0?ut(e,o,t):(f=yi[o],ut(e,f+vi+1,t),d=Ol[f],d!==0&&(o-=ql[f],ve(e,o,d)),n--,f=vh(n),ut(e,f,r),d=Za[f],d!==0&&(n-=$a[f],ve(e,n,d)));while(l<e.last_lit);ut(e,Ll,t)}a(sh,"compress_block");function Fl(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,f,d,m=-1,c;for(e.heap_len=0,e.heap_max=dh,f=0;f<l;f++)r[f*2]!==0?(e.heap[++e.heap_len]=m=f,e.depth[f]=0):r[f*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=m<2?++m:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=n[c*2+1]);for(t.max_code=m,f=e.heap_len>>1;f>=1;f--)Il(e,r,f);c=l;do f=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Il(e,r,1),d=e.heap[1],e.heap[--e.heap_max]=f,e.heap[--e.heap_max]=d,r[c*2]=r[f*2]+r[d*2],e.depth[c]=(e.depth[f]>=e.depth[d]?e.depth[f]:e.depth[d])+1,r[f*2+1]=r[d*2+1]=c,e.heap[1]=c++,Il(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Iv(e,t),Sh(r,m,e.bl_count)}a(Fl,"build_tree");function lh(e,t,r){var n,o=-1,l,f=t[0*2+1],d=0,m=7,c=4;for(f===0&&(m=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)l=f,f=t[(n+1)*2+1],!(++d<m&&l===f)&&(d<c?e.bl_tree[l*2]+=d:l!==0?(l!==o&&e.bl_tree[l*2]++,e.bl_tree[hh*2]++):d<=10?e.bl_tree[ph*2]++:e.bl_tree[mh*2]++,d=0,o=l,f===0?(m=138,c=3):l===f?(m=6,c=3):(m=7,c=4))}a(lh,"scan_tree");function uh(e,t,r){var n,o=-1,l,f=t[0*2+1],d=0,m=7,c=4;for(f===0&&(m=138,c=3),n=0;n<=r;n++)if(l=f,f=t[(n+1)*2+1],!(++d<m&&l===f)){if(d<c)do ut(e,l,e.bl_tree);while(--d!==0);else l!==0?(l!==o&&(ut(e,l,e.bl_tree),d--),ut(e,hh,e.bl_tree),ve(e,d-3,2)):d<=10?(ut(e,ph,e.bl_tree),ve(e,d-3,3)):(ut(e,mh,e.bl_tree),ve(e,d-11,7));d=0,o=l,f===0?(m=138,c=3):l===f?(m=6,c=3):(m=7,c=4)}}a(uh,"send_tree");function Bv(e){var t;for(lh(e,e.dyn_ltree,e.l_desc.max_code),lh(e,e.dyn_dtree,e.d_desc.max_code),Fl(e,e.bl_desc),t=Dl-1;t>=3&&e.bl_tree[gh[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}a(Bv,"build_bl_tree");function Dv(e,t,r,n){var o;for(ve(e,t-257,5),ve(e,r-1,5),ve(e,n-4,4),o=0;o<n;o++)ve(e,e.bl_tree[gh[o]*2+1],3);uh(e,e.dyn_ltree,t-1),uh(e,e.dyn_dtree,r-1)}a(Dv,"send_all_trees");function Lv(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return ih;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return ah;for(r=32;r<vi;r++)if(e.dyn_ltree[r*2]!==0)return ah;return ih}a(Lv,"detect_data_type");var fh=!1;function qv(e){fh||(Ov(),fh=!0),e.l_desc=new Pl(e.dyn_ltree,bh),e.d_desc=new Pl(e.dyn_dtree,yh),e.bl_desc=new Pl(e.bl_tree,_h),e.bi_buf=0,e.bi_valid=0,Th(e)}a(qv,"_tr_init");function Eh(e,t,r,n){ve(e,(Tv<<1)+(n?1:0),3),Fv(e,t,r,!0)}a(Eh,"_tr_stored_block");function Mv(e){ve(e,ch<<1,3),ut(e,Ll,It),Pv(e)}a(Mv,"_tr_align");function zv(e,t,r,n){var o,l,f=0;e.level>0?(e.strm.data_type===Sv&&(e.strm.data_type=Lv(e)),Fl(e,e.l_desc),Fl(e,e.d_desc),f=Bv(e),o=e.opt_len+3+7>>>3,l=e.static_len+3+7>>>3,l<=o&&(o=l)):o=l=r+5,r+4<=o&&t!==-1?Eh(e,t,r,n):e.strategy===wv||l===o?(ve(e,(ch<<1)+(n?1:0),3),sh(e,It,mi)):(ve(e,(Rv<<1)+(n?1:0),3),Dv(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),sh(e,e.dyn_ltree,e.dyn_dtree)),Th(e),n&&Rh(e)}a(zv,"_tr_flush_block");function Uv(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(yi[r]+vi+1)*2]++,e.dyn_dtree[vh(t)*2]++),e.last_lit===e.lit_bufsize-1}a(Uv,"_tr_tally");bn._tr_init=qv;bn._tr_stored_block=Eh;bn._tr_flush_block=zv;bn._tr_tally=Uv;bn._tr_align=Mv});var Ml=C((LR,Ah)=>{"use strict";function Wv(e,t,r,n){for(var o=e&65535|0,l=e>>>16&65535|0,f=0;r!==0;){f=r>2e3?2e3:r,r-=f;do o=o+t[n++]|0,l=l+o|0;while(--f);o%=65521,l%=65521}return o|l<<16|0}a(Wv,"adler32");Ah.exports=Wv});var zl=C((MR,kh)=>{"use strict";function Nv(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}a(Nv,"makeTable");var jv=Nv();function Hv(e,t,r,n){var o=jv,l=n+r;e^=-1;for(var f=n;f<l;f++)e=e>>>8^o[(e^t[f])&255];return e^-1}a(Hv,"crc32");kh.exports=Hv});var Va=C((UR,Ch)=>{"use strict";Ch.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Mh=C(dt=>{"use strict";var ge=Pt(),Le=xh(),Fh=Ml(),Gt=zl(),Zv=Va(),Rr=0,$v=1,Vv=3,er=4,Ph=5,ct=0,Ih=1,qe=-2,Yv=-3,Ul=-5,Gv=-1,Kv=1,Ya=2,Xv=3,Qv=4,Jv=0,e0=2,Qa=8,t0=9,r0=15,n0=8,i0=29,a0=256,Nl=a0+1+i0,o0=30,s0=19,l0=2*Nl+1,u0=15,j=3,Qt=258,Ge=Qt+j+1,f0=32,Ja=42,jl=69,Ga=73,Ka=91,Xa=103,wr=113,Si=666,ae=1,Ti=2,Sr=3,vn=4,c0=3;function Jt(e,t){return e.msg=Zv[t],t}a(Jt,"err");function Oh(e){return(e<<1)-(e>4?9:0)}a(Oh,"rank");function Xt(e){for(var t=e.length;--t>=0;)e[t]=0}a(Xt,"zero");function Kt(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(ge.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}a(Kt,"flush_pending");function fe(e,t){Le._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Kt(e.strm)}a(fe,"flush_block_only");function H(e,t){e.pending_buf[e.pending++]=t}a(H,"put_byte");function wi(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}a(wi,"putShortMSB");function d0(e,t,r,n){var o=e.avail_in;return o>n&&(o=n),o===0?0:(e.avail_in-=o,ge.arraySet(t,e.input,e.next_in,o,r),e.state.wrap===1?e.adler=Fh(e.adler,t,o,r):e.state.wrap===2&&(e.adler=Gt(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}a(d0,"read_buf");function Bh(e,t){var r=e.max_chain_length,n=e.strstart,o,l,f=e.prev_length,d=e.nice_match,m=e.strstart>e.w_size-Ge?e.strstart-(e.w_size-Ge):0,c=e.window,h=e.w_mask,E=e.prev,y=e.strstart+Qt,w=c[n+f-1],v=c[n+f];e.prev_length>=e.good_match&&(r>>=2),d>e.lookahead&&(d=e.lookahead);do if(o=t,!(c[o+f]!==v||c[o+f-1]!==w||c[o]!==c[n]||c[++o]!==c[n+1])){n+=2,o++;do;while(c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&c[++n]===c[++o]&&n<y);if(l=Qt-(y-n),n=y-Qt,l>f){if(e.match_start=t,f=l,l>=d)break;w=c[n+f-1],v=c[n+f]}}while((t=E[t&h])>m&&--r!==0);return f<=e.lookahead?f:e.lookahead}a(Bh,"longest_match");function Tr(e){var t=e.w_size,r,n,o,l,f;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ge)){ge.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do o=e.head[--r],e.head[r]=o>=t?o-t:0;while(--n);n=t,r=n;do o=e.prev[--r],e.prev[r]=o>=t?o-t:0;while(--n);l+=t}if(e.strm.avail_in===0)break;if(n=d0(e.strm,e.window,e.strstart+e.lookahead,l),e.lookahead+=n,e.lookahead+e.insert>=j)for(f=e.strstart-e.insert,e.ins_h=e.window[f],e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+j-1])&e.hash_mask,e.prev[f&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=f,f++,e.insert--,!(e.lookahead+e.insert<j)););}while(e.lookahead<Ge&&e.strm.avail_in!==0)}a(Tr,"fill_window");function h0(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Tr(e),e.lookahead===0&&t===Rr)return ae;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,fe(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Ge&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===er?(fe(e,!0),e.strm.avail_out===0?Sr:vn):(e.strstart>e.block_start&&(fe(e,!1),e.strm.avail_out===0),ae)}a(h0,"deflate_stored");function Wl(e,t){for(var r,n;;){if(e.lookahead<Ge){if(Tr(e),e.lookahead<Ge&&t===Rr)return ae;if(e.lookahead===0)break}if(r=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ge&&(e.match_length=Bh(e,r)),e.match_length>=j)if(n=Le._tr_tally(e,e.strstart-e.match_start,e.match_length-j),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=j){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Le._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=e.strstart<j-1?e.strstart:j-1,t===er?(fe(e,!0),e.strm.avail_out===0?Sr:vn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:Ti}a(Wl,"deflate_fast");function yn(e,t){for(var r,n,o;;){if(e.lookahead<Ge){if(Tr(e),e.lookahead<Ge&&t===Rr)return ae;if(e.lookahead===0)break}if(r=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=j-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ge&&(e.match_length=Bh(e,r),e.match_length<=5&&(e.strategy===Kv||e.match_length===j&&e.strstart-e.match_start>4096)&&(e.match_length=j-1)),e.prev_length>=j&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-j,n=Le._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-j),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=j-1,e.strstart++,n&&(fe(e,!1),e.strm.avail_out===0))return ae}else if(e.match_available){if(n=Le._tr_tally(e,0,e.window[e.strstart-1]),n&&fe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ae}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Le._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<j-1?e.strstart:j-1,t===er?(fe(e,!0),e.strm.avail_out===0?Sr:vn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:Ti}a(yn,"deflate_slow");function p0(e,t){for(var r,n,o,l,f=e.window;;){if(e.lookahead<=Qt){if(Tr(e),e.lookahead<=Qt&&t===Rr)return ae;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=j&&e.strstart>0&&(o=e.strstart-1,n=f[o],n===f[++o]&&n===f[++o]&&n===f[++o])){l=e.strstart+Qt;do;while(n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&n===f[++o]&&o<l);e.match_length=Qt-(l-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=j?(r=Le._tr_tally(e,1,e.match_length-j),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Le._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===er?(fe(e,!0),e.strm.avail_out===0?Sr:vn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:Ti}a(p0,"deflate_rle");function m0(e,t){for(var r;;){if(e.lookahead===0&&(Tr(e),e.lookahead===0)){if(t===Rr)return ae;break}if(e.match_length=0,r=Le._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(fe(e,!1),e.strm.avail_out===0))return ae}return e.insert=0,t===er?(fe(e,!0),e.strm.avail_out===0?Sr:vn):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?ae:Ti}a(m0,"deflate_huff");function ft(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}a(ft,"Config");var _n;_n=[new ft(0,0,0,0,h0),new ft(4,4,8,4,Wl),new ft(4,5,16,8,Wl),new ft(4,6,32,32,Wl),new ft(4,4,16,16,yn),new ft(8,16,32,32,yn),new ft(8,16,128,128,yn),new ft(8,32,128,256,yn),new ft(32,128,258,1024,yn),new ft(32,258,258,4096,yn)];function g0(e){e.window_size=2*e.w_size,Xt(e.head),e.max_lazy_match=_n[e.level].max_lazy,e.good_match=_n[e.level].good_length,e.nice_match=_n[e.level].nice_length,e.max_chain_length=_n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=j-1,e.match_available=0,e.ins_h=0}a(g0,"lm_init");function b0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Qa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ge.Buf16(l0*2),this.dyn_dtree=new ge.Buf16((2*o0+1)*2),this.bl_tree=new ge.Buf16((2*s0+1)*2),Xt(this.dyn_ltree),Xt(this.dyn_dtree),Xt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ge.Buf16(u0+1),this.heap=new ge.Buf16(2*Nl+1),Xt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ge.Buf16(2*Nl+1),Xt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}a(b0,"DeflateState");function Dh(e){var t;return!e||!e.state?Jt(e,qe):(e.total_in=e.total_out=0,e.data_type=e0,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ja:wr,e.adler=t.wrap===2?0:1,t.last_flush=Rr,Le._tr_init(t),ct)}a(Dh,"deflateResetKeep");function Lh(e){var t=Dh(e);return t===ct&&g0(e.state),t}a(Lh,"deflateReset");function y0(e,t){return!e||!e.state||e.state.wrap!==2?qe:(e.state.gzhead=t,ct)}a(y0,"deflateSetHeader");function qh(e,t,r,n,o,l){if(!e)return qe;var f=1;if(t===Gv&&(t=6),n<0?(f=0,n=-n):n>15&&(f=2,n-=16),o<1||o>t0||r!==Qa||n<8||n>15||t<0||t>9||l<0||l>Qv)return Jt(e,qe);n===8&&(n=9);var d=new b0;return e.state=d,d.strm=e,d.wrap=f,d.gzhead=null,d.w_bits=n,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=o+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+j-1)/j),d.window=new ge.Buf8(d.w_size*2),d.head=new ge.Buf16(d.hash_size),d.prev=new ge.Buf16(d.w_size),d.lit_bufsize=1<<o+6,d.pending_buf_size=d.lit_bufsize*4,d.pending_buf=new ge.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=t,d.strategy=l,d.method=r,Lh(e)}a(qh,"deflateInit2");function _0(e,t){return qh(e,t,Qa,r0,n0,Jv)}a(_0,"deflateInit");function v0(e,t){var r,n,o,l;if(!e||!e.state||t>Ph||t<0)return e?Jt(e,qe):qe;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===Si&&t!==er)return Jt(e,e.avail_out===0?Ul:qe);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Ja)if(n.wrap===2)e.adler=0,H(n,31),H(n,139),H(n,8),n.gzhead?(H(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),H(n,n.gzhead.time&255),H(n,n.gzhead.time>>8&255),H(n,n.gzhead.time>>16&255),H(n,n.gzhead.time>>24&255),H(n,n.level===9?2:n.strategy>=Ya||n.level<2?4:0),H(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(H(n,n.gzhead.extra.length&255),H(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Gt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=jl):(H(n,0),H(n,0),H(n,0),H(n,0),H(n,0),H(n,n.level===9?2:n.strategy>=Ya||n.level<2?4:0),H(n,c0),n.status=wr);else{var f=Qa+(n.w_bits-8<<4)<<8,d=-1;n.strategy>=Ya||n.level<2?d=0:n.level<6?d=1:n.level===6?d=2:d=3,f|=d<<6,n.strstart!==0&&(f|=f0),f+=31-f%31,n.status=wr,wi(n,f),n.strstart!==0&&(wi(n,e.adler>>>16),wi(n,e.adler&65535)),e.adler=1}if(n.status===jl)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=Gt(e.adler,n.pending_buf,n.pending-o,o)),Kt(e),o=n.pending,n.pending===n.pending_buf_size));)H(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=Gt(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Ga)}else n.status=Ga;if(n.status===Ga)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=Gt(e.adler,n.pending_buf,n.pending-o,o)),Kt(e),o=n.pending,n.pending===n.pending_buf_size)){l=1;break}n.gzindex<n.gzhead.name.length?l=n.gzhead.name.charCodeAt(n.gzindex++)&255:l=0,H(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Gt(e.adler,n.pending_buf,n.pending-o,o)),l===0&&(n.gzindex=0,n.status=Ka)}else n.status=Ka;if(n.status===Ka)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=Gt(e.adler,n.pending_buf,n.pending-o,o)),Kt(e),o=n.pending,n.pending===n.pending_buf_size)){l=1;break}n.gzindex<n.gzhead.comment.length?l=n.gzhead.comment.charCodeAt(n.gzindex++)&255:l=0,H(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Gt(e.adler,n.pending_buf,n.pending-o,o)),l===0&&(n.status=Xa)}else n.status=Xa;if(n.status===Xa&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Kt(e),n.pending+2<=n.pending_buf_size&&(H(n,e.adler&255),H(n,e.adler>>8&255),e.adler=0,n.status=wr)):n.status=wr),n.pending!==0){if(Kt(e),e.avail_out===0)return n.last_flush=-1,ct}else if(e.avail_in===0&&Oh(t)<=Oh(r)&&t!==er)return Jt(e,Ul);if(n.status===Si&&e.avail_in!==0)return Jt(e,Ul);if(e.avail_in!==0||n.lookahead!==0||t!==Rr&&n.status!==Si){var m=n.strategy===Ya?m0(n,t):n.strategy===Xv?p0(n,t):_n[n.level].func(n,t);if((m===Sr||m===vn)&&(n.status=Si),m===ae||m===Sr)return e.avail_out===0&&(n.last_flush=-1),ct;if(m===Ti&&(t===$v?Le._tr_align(n):t!==Ph&&(Le._tr_stored_block(n,0,0,!1),t===Vv&&(Xt(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Kt(e),e.avail_out===0))return n.last_flush=-1,ct}return t!==er?ct:n.wrap<=0?Ih:(n.wrap===2?(H(n,e.adler&255),H(n,e.adler>>8&255),H(n,e.adler>>16&255),H(n,e.adler>>24&255),H(n,e.total_in&255),H(n,e.total_in>>8&255),H(n,e.total_in>>16&255),H(n,e.total_in>>24&255)):(wi(n,e.adler>>>16),wi(n,e.adler&65535)),Kt(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ct:Ih)}a(v0,"deflate");function w0(e){var t;return!e||!e.state?qe:(t=e.state.status,t!==Ja&&t!==jl&&t!==Ga&&t!==Ka&&t!==Xa&&t!==wr&&t!==Si?Jt(e,qe):(e.state=null,t===wr?Jt(e,Yv):ct))}a(w0,"deflateEnd");function S0(e,t){var r=t.length,n,o,l,f,d,m,c,h;if(!e||!e.state||(n=e.state,f=n.wrap,f===2||f===1&&n.status!==Ja||n.lookahead))return qe;for(f===1&&(e.adler=Fh(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(f===0&&(Xt(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new ge.Buf8(n.w_size),ge.arraySet(h,t,r-n.w_size,n.w_size,0),t=h,r=n.w_size),d=e.avail_in,m=e.next_in,c=e.input,e.avail_in=r,e.next_in=0,e.input=t,Tr(n);n.lookahead>=j;){o=n.strstart,l=n.lookahead-(j-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+j-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++;while(--l);n.strstart=o,n.lookahead=j-1,Tr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=j-1,n.match_available=0,e.next_in=m,e.input=c,e.avail_in=d,n.wrap=f,ct}a(S0,"deflateSetDictionary");dt.deflateInit=_0;dt.deflateInit2=qh;dt.deflateReset=Lh;dt.deflateResetKeep=Dh;dt.deflateSetHeader=y0;dt.deflate=v0;dt.deflateEnd=w0;dt.deflateSetDictionary=S0;dt.deflateInfo="pako deflate (from Nodeca project)"});var Hl=C(wn=>{"use strict";var eo=Pt(),zh=!0,Uh=!0;try{String.fromCharCode.apply(null,[0])}catch{zh=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Uh=!1}var Ri=new eo.Buf8(256);for(Ot=0;Ot<256;Ot++)Ri[Ot]=Ot>=252?6:Ot>=248?5:Ot>=240?4:Ot>=224?3:Ot>=192?2:1;var Ot;Ri[254]=Ri[254]=1;wn.string2buf=function(e){var t,r,n,o,l,f=e.length,d=0;for(o=0;o<f;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(t=new eo.Buf8(d),l=0,o=0;l<d;o++)r=e.charCodeAt(o),(r&64512)===55296&&o+1<f&&(n=e.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[l++]=r:r<2048?(t[l++]=192|r>>>6,t[l++]=128|r&63):r<65536?(t[l++]=224|r>>>12,t[l++]=128|r>>>6&63,t[l++]=128|r&63):(t[l++]=240|r>>>18,t[l++]=128|r>>>12&63,t[l++]=128|r>>>6&63,t[l++]=128|r&63);return t};function Wh(e,t){if(t<65534&&(e.subarray&&Uh||!e.subarray&&zh))return String.fromCharCode.apply(null,eo.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}a(Wh,"buf2binstring");wn.buf2binstring=function(e){return Wh(e,e.length)};wn.binstring2buf=function(e){for(var t=new eo.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t};wn.buf2string=function(e,t){var r,n,o,l,f=t||e.length,d=new Array(f*2);for(n=0,r=0;r<f;){if(o=e[r++],o<128){d[n++]=o;continue}if(l=Ri[o],l>4){d[n++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<f;)o=o<<6|e[r++]&63,l--;if(l>1){d[n++]=65533;continue}o<65536?d[n++]=o:(o-=65536,d[n++]=55296|o>>10&1023,d[n++]=56320|o&1023)}return Wh(d,n)};wn.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ri[e[r]]>t?r:t}});var Zl=C((ZR,Nh)=>{"use strict";function T0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a(T0,"ZStream");Nh.exports=T0});var $h=C(Ai=>{"use strict";var Ei=Mh(),xi=Pt(),Vl=Hl(),Yl=Va(),R0=Zl(),Zh=Object.prototype.toString,E0=0,$l=4,Sn=0,jh=1,Hh=2,x0=-1,A0=0,k0=8;function Er(e){if(!(this instanceof Er))return new Er(e);this.options=xi.assign({level:x0,method:k0,chunkSize:16384,windowBits:15,memLevel:8,strategy:A0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R0,this.strm.avail_out=0;var r=Ei.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Sn)throw new Error(Yl[r]);if(t.header&&Ei.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(typeof t.dictionary=="string"?n=Vl.string2buf(t.dictionary):Zh.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Ei.deflateSetDictionary(this.strm,n),r!==Sn)throw new Error(Yl[r]);this._dict_set=!0}}a(Er,"Deflate");Er.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,o,l;if(this.ended)return!1;l=t===~~t?t:t===!0?$l:E0,typeof e=="string"?r.input=Vl.string2buf(e):Zh.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new xi.Buf8(n),r.next_out=0,r.avail_out=n),o=Ei.deflate(r,l),o!==jh&&o!==Sn)return this.onEnd(o),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(l===$l||l===Hh))&&(this.options.to==="string"?this.onData(Vl.buf2binstring(xi.shrinkBuf(r.output,r.next_out))):this.onData(xi.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&o!==jh);return l===$l?(o=Ei.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Sn):(l===Hh&&(this.onEnd(Sn),r.avail_out=0),!0)};Er.prototype.onData=function(e){this.chunks.push(e)};Er.prototype.onEnd=function(e){e===Sn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Gl(e,t){var r=new Er(t);if(r.push(e,!0),r.err)throw r.msg||Yl[r.err];return r.result}a(Gl,"deflate");function C0(e,t){return t=t||{},t.raw=!0,Gl(e,t)}a(C0,"deflateRaw");function P0(e,t){return t=t||{},t.gzip=!0,Gl(e,t)}a(P0,"gzip");Ai.Deflate=Er;Ai.deflate=Gl;Ai.deflateRaw=C0;Ai.gzip=P0});var Yh=C((GR,Vh)=>{"use strict";var to=30,I0=12;Vh.exports=a(function(t,r){var n,o,l,f,d,m,c,h,E,y,w,v,k,A,S,x,P,T,R,O,q,D,U,$,F;n=t.state,o=t.next_in,$=t.input,l=o+(t.avail_in-5),f=t.next_out,F=t.output,d=f-(r-t.avail_out),m=f+(t.avail_out-257),c=n.dmax,h=n.wsize,E=n.whave,y=n.wnext,w=n.window,v=n.hold,k=n.bits,A=n.lencode,S=n.distcode,x=(1<<n.lenbits)-1,P=(1<<n.distbits)-1;e:do{k<15&&(v+=$[o++]<<k,k+=8,v+=$[o++]<<k,k+=8),T=A[v&x];t:for(;;){if(R=T>>>24,v>>>=R,k-=R,R=T>>>16&255,R===0)F[f++]=T&65535;else if(R&16){O=T&65535,R&=15,R&&(k<R&&(v+=$[o++]<<k,k+=8),O+=v&(1<<R)-1,v>>>=R,k-=R),k<15&&(v+=$[o++]<<k,k+=8,v+=$[o++]<<k,k+=8),T=S[v&P];r:for(;;){if(R=T>>>24,v>>>=R,k-=R,R=T>>>16&255,R&16){if(q=T&65535,R&=15,k<R&&(v+=$[o++]<<k,k+=8,k<R&&(v+=$[o++]<<k,k+=8)),q+=v&(1<<R)-1,q>c){t.msg="invalid distance too far back",n.mode=to;break e}if(v>>>=R,k-=R,R=f-d,q>R){if(R=q-R,R>E&&n.sane){t.msg="invalid distance too far back",n.mode=to;break e}if(D=0,U=w,y===0){if(D+=h-R,R<O){O-=R;do F[f++]=w[D++];while(--R);D=f-q,U=F}}else if(y<R){if(D+=h+y-R,R-=y,R<O){O-=R;do F[f++]=w[D++];while(--R);if(D=0,y<O){R=y,O-=R;do F[f++]=w[D++];while(--R);D=f-q,U=F}}}else if(D+=y-R,R<O){O-=R;do F[f++]=w[D++];while(--R);D=f-q,U=F}for(;O>2;)F[f++]=U[D++],F[f++]=U[D++],F[f++]=U[D++],O-=3;O&&(F[f++]=U[D++],O>1&&(F[f++]=U[D++]))}else{D=f-q;do F[f++]=F[D++],F[f++]=F[D++],F[f++]=F[D++],O-=3;while(O>2);O&&(F[f++]=F[D++],O>1&&(F[f++]=F[D++]))}}else if(R&64){t.msg="invalid distance code",n.mode=to;break e}else{T=S[(T&65535)+(v&(1<<R)-1)];continue r}break}}else if(R&64)if(R&32){n.mode=I0;break e}else{t.msg="invalid literal/length code",n.mode=to;break e}else{T=A[(T&65535)+(v&(1<<R)-1)];continue t}break}}while(o<l&&f<m);O=k>>3,o-=O,k-=O<<3,v&=(1<<k)-1,t.next_in=o,t.next_out=f,t.avail_in=o<l?5+(l-o):5-(o-l),t.avail_out=f<m?257+(m-f):257-(f-m),n.hold=v,n.bits=k},"inflate_fast")});var tp=C((XR,ep)=>{"use strict";var Gh=Pt(),Tn=15,Kh=852,Xh=592,Qh=0,Kl=1,Jh=2,O0=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F0=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],B0=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],D0=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ep.exports=a(function(t,r,n,o,l,f,d,m){var c=m.bits,h=0,E=0,y=0,w=0,v=0,k=0,A=0,S=0,x=0,P=0,T,R,O,q,D,U=null,$=0,F,le=new Gh.Buf16(Tn+1),ce=new Gh.Buf16(Tn+1),pt=null,Or=0,Pn,Fr,Dt;for(h=0;h<=Tn;h++)le[h]=0;for(E=0;E<o;E++)le[r[n+E]]++;for(v=c,w=Tn;w>=1&&le[w]===0;w--);if(v>w&&(v=w),w===0)return l[f++]=1<<24|64<<16|0,l[f++]=1<<24|64<<16|0,m.bits=1,0;for(y=1;y<w&&le[y]===0;y++);for(v<y&&(v=y),S=1,h=1;h<=Tn;h++)if(S<<=1,S-=le[h],S<0)return-1;if(S>0&&(t===Qh||w!==1))return-1;for(ce[1]=0,h=1;h<Tn;h++)ce[h+1]=ce[h]+le[h];for(E=0;E<o;E++)r[n+E]!==0&&(d[ce[r[n+E]]++]=E);if(t===Qh?(U=pt=d,F=19):t===Kl?(U=O0,$-=257,pt=F0,Or-=257,F=256):(U=B0,pt=D0,F=-1),P=0,E=0,h=y,D=f,k=v,A=0,O=-1,x=1<<v,q=x-1,t===Kl&&x>Kh||t===Jh&&x>Xh)return 1;for(;;){Pn=h-A,d[E]<F?(Fr=0,Dt=d[E]):d[E]>F?(Fr=pt[Or+d[E]],Dt=U[$+d[E]]):(Fr=96,Dt=0),T=1<<h-A,R=1<<k,y=R;do R-=T,l[D+(P>>A)+R]=Pn<<24|Fr<<16|Dt|0;while(R!==0);for(T=1<<h-1;P&T;)T>>=1;if(T!==0?(P&=T-1,P+=T):P=0,E++,--le[h]===0){if(h===w)break;h=r[n+d[E]]}if(h>v&&(P&q)!==O){for(A===0&&(A=v),D+=y,k=h-A,S=1<<k;k+A<w&&(S-=le[k+A],!(S<=0));)k++,S<<=1;if(x+=1<<k,t===Kl&&x>Kh||t===Jh&&x>Xh)return 1;O=P&q,l[O]=v<<24|k<<16|D-f|0}}return P!==0&&(l[D+P]=h-A<<24|64<<16|0),m.bits=v,0},"inflate_table")});var Lp=C(Ke=>{"use strict";var ke=Pt(),ru=Ml(),ht=zl(),L0=Yh(),ki=tp(),q0=0,Ap=1,kp=2,rp=4,M0=5,ro=6,xr=0,z0=1,U0=2,Me=-2,Cp=-3,nu=-4,W0=-5,np=8,Pp=1,ip=2,ap=3,op=4,sp=5,lp=6,up=7,fp=8,cp=9,dp=10,ao=11,Ft=12,Xl=13,hp=14,Ql=15,pp=16,mp=17,gp=18,bp=19,no=20,io=21,yp=22,_p=23,vp=24,wp=25,Sp=26,Jl=27,Tp=28,Rp=29,J=30,iu=31,N0=32,j0=852,H0=592,Z0=15,$0=Z0;function Ep(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}a(Ep,"zswap32");function V0(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ke.Buf16(320),this.work=new ke.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}a(V0,"InflateState");function Ip(e){var t;return!e||!e.state?Me:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Pp,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new ke.Buf32(j0),t.distcode=t.distdyn=new ke.Buf32(H0),t.sane=1,t.back=-1,xr)}a(Ip,"inflateResetKeep");function Op(e){var t;return!e||!e.state?Me:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,Ip(e))}a(Op,"inflateReset");function Fp(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Me:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Op(e))}a(Fp,"inflateReset2");function Bp(e,t){var r,n;return e?(n=new V0,e.state=n,n.window=null,r=Fp(e,t),r!==xr&&(e.state=null),r):Me}a(Bp,"inflateInit2");function Y0(e){return Bp(e,$0)}a(Y0,"inflateInit");var xp=!0,eu,tu;function G0(e){if(xp){var t;for(eu=new ke.Buf32(512),tu=new ke.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ki(Ap,e.lens,0,288,eu,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ki(kp,e.lens,0,32,tu,0,e.work,{bits:5}),xp=!1}e.lencode=eu,e.lenbits=9,e.distcode=tu,e.distbits=5}a(G0,"fixedtables");function Dp(e,t,r,n){var o,l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new ke.Buf8(l.wsize)),n>=l.wsize?(ke.arraySet(l.window,t,r-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>n&&(o=n),ke.arraySet(l.window,t,r-n,o,l.wnext),n-=o,n?(ke.arraySet(l.window,t,r-n,n,0),l.wnext=n,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0}a(Dp,"updatewindow");function K0(e,t){var r,n,o,l,f,d,m,c,h,E,y,w,v,k,A=0,S,x,P,T,R,O,q,D,U=new ke.Buf8(4),$,F,le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Me;r=e.state,r.mode===Ft&&(r.mode=Xl),f=e.next_out,o=e.output,m=e.avail_out,l=e.next_in,n=e.input,d=e.avail_in,c=r.hold,h=r.bits,E=d,y=m,D=xr;e:for(;;)switch(r.mode){case Pp:if(r.wrap===0){r.mode=Xl;break}for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(r.wrap&2&&c===35615){r.check=0,U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0),c=0,h=0,r.mode=ip;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=J;break}if((c&15)!==np){e.msg="unknown compression method",r.mode=J;break}if(c>>>=4,h-=4,q=(c&15)+8,r.wbits===0)r.wbits=q;else if(q>r.wbits){e.msg="invalid window size",r.mode=J;break}r.dmax=1<<q,e.adler=r.check=1,r.mode=c&512?dp:Ft,c=0,h=0;break;case ip:for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==np){e.msg="unknown compression method",r.mode=J;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=J;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0)),c=0,h=0,r.mode=ap;case ap:for(;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,U[2]=c>>>16&255,U[3]=c>>>24&255,r.check=ht(r.check,U,4,0)),c=0,h=0,r.mode=op;case op:for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0)),c=0,h=0,r.mode=sp;case sp:if(r.flags&1024){for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(U[0]=c&255,U[1]=c>>>8&255,r.check=ht(r.check,U,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=lp;case lp:if(r.flags&1024&&(w=r.length,w>d&&(w=d),w&&(r.head&&(q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),ke.arraySet(r.head.extra,n,l,w,q)),r.flags&512&&(r.check=ht(r.check,n,w,l)),d-=w,l+=w,r.length-=w),r.length))break e;r.length=0,r.mode=up;case up:if(r.flags&2048){if(d===0)break e;w=0;do q=n[l+w++],r.head&&q&&r.length<65536&&(r.head.name+=String.fromCharCode(q));while(q&&w<d);if(r.flags&512&&(r.check=ht(r.check,n,w,l)),d-=w,l+=w,q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fp;case fp:if(r.flags&4096){if(d===0)break e;w=0;do q=n[l+w++],r.head&&q&&r.length<65536&&(r.head.comment+=String.fromCharCode(q));while(q&&w<d);if(r.flags&512&&(r.check=ht(r.check,n,w,l)),d-=w,l+=w,q)break e}else r.head&&(r.head.comment=null);r.mode=cp;case cp:if(r.flags&512){for(;h<16;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=J;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ft;break;case dp:for(;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}e.adler=r.check=Ep(c),c=0,h=0,r.mode=ao;case ao:if(r.havedict===0)return e.next_out=f,e.avail_out=m,e.next_in=l,e.avail_in=d,r.hold=c,r.bits=h,U0;e.adler=r.check=1,r.mode=Ft;case Ft:if(t===M0||t===ro)break e;case Xl:if(r.last){c>>>=h&7,h-=h&7,r.mode=Jl;break}for(;h<3;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=hp;break;case 1:if(G0(r),r.mode=no,t===ro){c>>>=2,h-=2;break e}break;case 2:r.mode=mp;break;case 3:e.msg="invalid block type",r.mode=J}c>>>=2,h-=2;break;case hp:for(c>>>=h&7,h-=h&7;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=J;break}if(r.length=c&65535,c=0,h=0,r.mode=Ql,t===ro)break e;case Ql:r.mode=pp;case pp:if(w=r.length,w){if(w>d&&(w=d),w>m&&(w=m),w===0)break e;ke.arraySet(o,n,l,w,f),d-=w,l+=w,m-=w,f+=w,r.length-=w;break}r.mode=Ft;break;case mp:for(;h<14;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=J;break}r.have=0,r.mode=gp;case gp:for(;r.have<r.ncode;){for(;h<3;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.lens[le[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[le[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},D=ki(q0,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,D){e.msg="invalid code lengths set",r.mode=J;break}r.have=0,r.mode=bp;case bp:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[c&(1<<r.lenbits)-1],S=A>>>24,x=A>>>16&255,P=A&65535,!(S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(P<16)c>>>=S,h-=S,r.lens[r.have++]=P;else{if(P===16){for(F=S+2;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(c>>>=S,h-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=J;break}q=r.lens[r.have-1],w=3+(c&3),c>>>=2,h-=2}else if(P===17){for(F=S+3;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=S,h-=S,q=0,w=3+(c&7),c>>>=3,h-=3}else{for(F=S+7;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=S,h-=S,q=0,w=11+(c&127),c>>>=7,h-=7}if(r.have+w>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=J;break}for(;w--;)r.lens[r.have++]=q}}if(r.mode===J)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=J;break}if(r.lenbits=9,$={bits:r.lenbits},D=ki(Ap,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,D){e.msg="invalid literal/lengths set",r.mode=J;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},D=ki(kp,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,D){e.msg="invalid distances set",r.mode=J;break}if(r.mode=no,t===ro)break e;case no:r.mode=io;case io:if(d>=6&&m>=258){e.next_out=f,e.avail_out=m,e.next_in=l,e.avail_in=d,r.hold=c,r.bits=h,L0(e,y),f=e.next_out,o=e.output,m=e.avail_out,l=e.next_in,n=e.input,d=e.avail_in,c=r.hold,h=r.bits,r.mode===Ft&&(r.back=-1);break}for(r.back=0;A=r.lencode[c&(1<<r.lenbits)-1],S=A>>>24,x=A>>>16&255,P=A&65535,!(S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(x&&!(x&240)){for(T=S,R=x,O=P;A=r.lencode[O+((c&(1<<T+R)-1)>>T)],S=A>>>24,x=A>>>16&255,P=A&65535,!(T+S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=T,h-=T,r.back+=T}if(c>>>=S,h-=S,r.back+=S,r.length=P,x===0){r.mode=Sp;break}if(x&32){r.back=-1,r.mode=Ft;break}if(x&64){e.msg="invalid literal/length code",r.mode=J;break}r.extra=x&15,r.mode=yp;case yp:if(r.extra){for(F=r.extra;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_p;case _p:for(;A=r.distcode[c&(1<<r.distbits)-1],S=A>>>24,x=A>>>16&255,P=A&65535,!(S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(!(x&240)){for(T=S,R=x,O=P;A=r.distcode[O+((c&(1<<T+R)-1)>>T)],S=A>>>24,x=A>>>16&255,P=A&65535,!(T+S<=h);){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}c>>>=T,h-=T,r.back+=T}if(c>>>=S,h-=S,r.back+=S,x&64){e.msg="invalid distance code",r.mode=J;break}r.offset=P,r.extra=x&15,r.mode=vp;case vp:if(r.extra){for(F=r.extra;h<F;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=J;break}r.mode=wp;case wp:if(m===0)break e;if(w=y-m,r.offset>w){if(w=r.offset-w,w>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=J;break}w>r.wnext?(w-=r.wnext,v=r.wsize-w):v=r.wnext-w,w>r.length&&(w=r.length),k=r.window}else k=o,v=f-r.offset,w=r.length;w>m&&(w=m),m-=w,r.length-=w;do o[f++]=k[v++];while(--w);r.length===0&&(r.mode=io);break;case Sp:if(m===0)break e;o[f++]=r.length,m--,r.mode=io;break;case Jl:if(r.wrap){for(;h<32;){if(d===0)break e;d--,c|=n[l++]<<h,h+=8}if(y-=m,e.total_out+=y,r.total+=y,y&&(e.adler=r.check=r.flags?ht(r.check,o,y,f-y):ru(r.check,o,y,f-y)),y=m,(r.flags?c:Ep(c))!==r.check){e.msg="incorrect data check",r.mode=J;break}c=0,h=0}r.mode=Tp;case Tp:if(r.wrap&&r.flags){for(;h<32;){if(d===0)break e;d--,c+=n[l++]<<h,h+=8}if(c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=J;break}c=0,h=0}r.mode=Rp;case Rp:D=z0;break e;case J:D=Cp;break e;case iu:return nu;case N0:default:return Me}return e.next_out=f,e.avail_out=m,e.next_in=l,e.avail_in=d,r.hold=c,r.bits=h,(r.wsize||y!==e.avail_out&&r.mode<J&&(r.mode<Jl||t!==rp))&&Dp(e,e.output,e.next_out,y-e.avail_out)?(r.mode=iu,nu):(E-=e.avail_in,y-=e.avail_out,e.total_in+=E,e.total_out+=y,r.total+=y,r.wrap&&y&&(e.adler=r.check=r.flags?ht(r.check,o,y,e.next_out-y):ru(r.check,o,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ft?128:0)+(r.mode===no||r.mode===Ql?256:0),(E===0&&y===0||t===rp)&&D===xr&&(D=W0),D)}a(K0,"inflate");function X0(e){if(!e||!e.state)return Me;var t=e.state;return t.window&&(t.window=null),e.state=null,xr}a(X0,"inflateEnd");function Q0(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?Me:(r.head=t,t.done=!1,xr)}a(Q0,"inflateGetHeader");function J0(e,t){var r=t.length,n,o,l;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==ao)?Me:n.mode===ao&&(o=1,o=ru(o,t,r,0),o!==n.check)?Cp:(l=Dp(e,t,r,r),l?(n.mode=iu,nu):(n.havedict=1,xr))}a(J0,"inflateSetDictionary");Ke.inflateReset=Op;Ke.inflateReset2=Fp;Ke.inflateResetKeep=Ip;Ke.inflateInit=Y0;Ke.inflateInit2=Bp;Ke.inflate=K0;Ke.inflateEnd=X0;Ke.inflateGetHeader=Q0;Ke.inflateSetDictionary=J0;Ke.inflateInfo="pako inflate (from Nodeca project)"});var au=C((tE,qp)=>{"use strict";qp.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var zp=C((rE,Mp)=>{"use strict";function ew(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a(ew,"GZheader");Mp.exports=ew});var Wp=C(Pi=>{"use strict";var Rn=Lp(),Ci=Pt(),oo=Hl(),re=au(),ou=Va(),tw=Zl(),rw=zp(),Up=Object.prototype.toString;function Ar(e){if(!(this instanceof Ar))return new Ar(e);this.options=Ci.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tw,this.strm.avail_out=0;var r=Rn.inflateInit2(this.strm,t.windowBits);if(r!==re.Z_OK)throw new Error(ou[r]);if(this.header=new rw,Rn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=oo.string2buf(t.dictionary):Up.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Rn.inflateSetDictionary(this.strm,t.dictionary),r!==re.Z_OK)))throw new Error(ou[r])}a(Ar,"Inflate");Ar.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,o=this.options.dictionary,l,f,d,m,c,h=!1;if(this.ended)return!1;f=t===~~t?t:t===!0?re.Z_FINISH:re.Z_NO_FLUSH,typeof e=="string"?r.input=oo.binstring2buf(e):Up.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Ci.Buf8(n),r.next_out=0,r.avail_out=n),l=Rn.inflate(r,re.Z_NO_FLUSH),l===re.Z_NEED_DICT&&o&&(l=Rn.inflateSetDictionary(this.strm,o)),l===re.Z_BUF_ERROR&&h===!0&&(l=re.Z_OK,h=!1),l!==re.Z_STREAM_END&&l!==re.Z_OK)return this.onEnd(l),this.ended=!0,!1;r.next_out&&(r.avail_out===0||l===re.Z_STREAM_END||r.avail_in===0&&(f===re.Z_FINISH||f===re.Z_SYNC_FLUSH))&&(this.options.to==="string"?(d=oo.utf8border(r.output,r.next_out),m=r.next_out-d,c=oo.buf2string(r.output,d),r.next_out=m,r.avail_out=n-m,m&&Ci.arraySet(r.output,r.output,d,m,0),this.onData(c)):this.onData(Ci.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(h=!0)}while((r.avail_in>0||r.avail_out===0)&&l!==re.Z_STREAM_END);return l===re.Z_STREAM_END&&(f=re.Z_FINISH),f===re.Z_FINISH?(l=Rn.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===re.Z_OK):(f===re.Z_SYNC_FLUSH&&(this.onEnd(re.Z_OK),r.avail_out=0),!0)};Ar.prototype.onData=function(e){this.chunks.push(e)};Ar.prototype.onEnd=function(e){e===re.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ci.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function su(e,t){var r=new Ar(t);if(r.push(e,!0),r.err)throw r.msg||ou[r.err];return r.result}a(su,"inflate");function nw(e,t){return t=t||{},t.raw=!0,su(e,t)}a(nw,"inflateRaw");Pi.Inflate=Ar;Pi.inflate=su;Pi.inflateRaw=nw;Pi.ungzip=su});var Hp=C((oE,jp)=>{"use strict";var iw=Pt().assign,aw=$h(),ow=Wp(),sw=au(),Np={};iw(Np,aw,ow,sw);jp.exports=Np});var $p=C(lo=>{"use strict";var lw=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",uw=Hp(),Zp=ee(),so=Ae(),fw=lw?"uint8array":"array";lo.magic="\b\0";function kr(e,t){so.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}a(kr,"FlateWorker");Zp.inherits(kr,so);kr.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(Zp.transformTo(fw,e.data),!1)};kr.prototype.flush=function(){so.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};kr.prototype.cleanUp=function(){so.prototype.cleanUp.call(this),this._pako=null};kr.prototype._createPako=function(){this._pako=new uw[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}};lo.compressWorker=function(e){return new kr("Deflate",e)};lo.uncompressWorker=function(){return new kr("Inflate",{})}});var uu=C(lu=>{"use strict";var Vp=Ae();lu.STORE={magic:"\0\0",compressWorker:a(function(){return new Vp("STORE compression")},"compressWorker"),uncompressWorker:a(function(){return new Vp("STORE decompression")},"uncompressWorker")};lu.DEFLATE=$p()});var fu=C(Cr=>{"use strict";Cr.LOCAL_FILE_HEADER="PK";Cr.CENTRAL_FILE_HEADER="PK";Cr.CENTRAL_DIRECTORY_END="PK";Cr.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Cr.ZIP64_CENTRAL_DIRECTORY_END="PK";Cr.DATA_DESCRIPTOR="PK\x07\b"});var Xp=C((dE,Kp)=>{"use strict";var En=ee(),xn=Ae(),cu=hn(),Yp=Na(),uo=fu(),X=a(function(e,t){var r="",n;for(n=0;n<t;n++)r+=String.fromCharCode(e&255),e=e>>>8;return r},"decToHex"),cw=a(function(e,t){var r=e;return e||(r=t?16893:33204),(r&65535)<<16},"generateUnixExternalFileAttr"),dw=a(function(e){return(e||0)&63},"generateDosExternalFileAttr"),Gp=a(function(e,t,r,n,o,l){var f=e.file,d=e.compression,m=l!==cu.utf8encode,c=En.transformTo("string",l(f.name)),h=En.transformTo("string",cu.utf8encode(f.name)),E=f.comment,y=En.transformTo("string",l(E)),w=En.transformTo("string",cu.utf8encode(E)),v=h.length!==f.name.length,k=w.length!==E.length,A,S,x="",P="",T="",R=f.dir,O=f.date,q={crc32:0,compressedSize:0,uncompressedSize:0};(!t||r)&&(q.crc32=e.crc32,q.compressedSize=e.compressedSize,q.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),!m&&(v||k)&&(D|=2048);var U=0,$=0;R&&(U|=16),o==="UNIX"?($=798,U|=cw(f.unixPermissions,R)):($=20,U|=dw(f.dosPermissions,R)),A=O.getUTCHours(),A=A<<6,A=A|O.getUTCMinutes(),A=A<<5,A=A|O.getUTCSeconds()/2,S=O.getUTCFullYear()-1980,S=S<<4,S=S|O.getUTCMonth()+1,S=S<<5,S=S|O.getUTCDate(),v&&(P=X(1,1)+X(Yp(c),4)+h,x+="up"+X(P.length,2)+P),k&&(T=X(1,1)+X(Yp(y),4)+w,x+="uc"+X(T.length,2)+T);var F="";F+=`
\0`,F+=X(D,2),F+=d.magic,F+=X(A,2),F+=X(S,2),F+=X(q.crc32,4),F+=X(q.compressedSize,4),F+=X(q.uncompressedSize,4),F+=X(c.length,2),F+=X(x.length,2);var le=uo.LOCAL_FILE_HEADER+F+c+x,ce=uo.CENTRAL_FILE_HEADER+X($,2)+F+X(y.length,2)+"\0\0\0\0"+X(U,4)+X(n,4)+c+x+y;return{fileRecord:le,dirRecord:ce}},"generateZipParts"),hw=a(function(e,t,r,n,o){var l="",f=En.transformTo("string",o(n));return l=uo.CENTRAL_DIRECTORY_END+"\0\0\0\0"+X(e,2)+X(e,2)+X(t,4)+X(r,4)+X(f.length,2)+f,l},"generateCentralDirectoryEnd"),pw=a(function(e){var t="";return t=uo.DATA_DESCRIPTOR+X(e.crc32,4)+X(e.compressedSize,4)+X(e.uncompressedSize,4),t},"generateDataDescriptors");function Xe(e,t,r,n){xn.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a(Xe,"ZipFileWorker");En.inherits(Xe,xn);Xe.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,xn.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))};Xe.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=Gp(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0};Xe.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=Gp(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:pw(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};Xe.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=hw(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})};Xe.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};Xe.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(r){t.error(r)}),this};Xe.prototype.resume=function(){if(!xn.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};Xe.prototype.error=function(e){var t=this._sources;if(!xn.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch{}return!0};Xe.prototype.lock=function(){xn.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};Kp.exports=Xe});var Jp=C(Qp=>{"use strict";var mw=uu(),gw=Xp(),bw=a(function(e,t){var r=e||t,n=mw[r];if(!n)throw new Error(r+" is not a valid compression method !");return n},"getCompression");Qp.generateWorker=function(e,t,r){var n=new gw(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach(function(l,f){o++;var d=bw(f.options.compression,t.compression),m=f.options.compressionOptions||t.compressionOptions||{},c=f.dir,h=f.date;f._compressWorker(d,m).withStreamInfo("file",{name:l,dir:c,date:h,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(n)}),n.entriesCount=o}catch(l){n.error(l)}return n}});var tm=C((gE,em)=>{"use strict";var yw=ee(),fo=Ae();function Ii(e,t){fo.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}a(Ii,"NodejsStreamInputAdapter");yw.inherits(Ii,fo);Ii.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(r){t.push({data:r,meta:{percent:0}})}).on("error",function(r){t.isPaused?this.generatedError=r:t.error(r)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})};Ii.prototype.pause=function(){return fo.prototype.pause.call(this)?(this._stream.pause(),!0):!1};Ii.prototype.resume=function(){return fo.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};em.exports=Ii});var cm=C((yE,fm)=>{"use strict";var _w=hn(),Oi=ee(),am=Ae(),vw=gl(),om=bl(),rm=ja(),ww=nh(),Sw=Jp(),nm=si(),Tw=tm(),sm=a(function(e,t,r){var n=Oi.getTypeOf(t),o,l=Oi.extend(r||{},om);l.date=l.date||new Date,l.compression!==null&&(l.compression=l.compression.toUpperCase()),typeof l.unixPermissions=="string"&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&l.unixPermissions&16384&&(l.dir=!0),l.dosPermissions&&l.dosPermissions&16&&(l.dir=!0),l.dir&&(e=lm(e)),l.createFolders&&(o=Rw(e))&&um.call(this,o,!0);var f=n==="string"&&l.binary===!1&&l.base64===!1;(!r||typeof r.binary>"u")&&(l.binary=!f);var d=t instanceof rm&&t.uncompressedSize===0;(d||l.dir||!t||t.length===0)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",n="string");var m=null;t instanceof rm||t instanceof am?m=t:nm.isNode&&nm.isStream(t)?m=new Tw(e,t):m=Oi.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var c=new ww(e,m,l);this.files[e]=c},"fileAdd"),Rw=a(function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},"parentFolder"),lm=a(function(e){return e.slice(-1)!=="/"&&(e+="/"),e},"forceTrailingSlash"),um=a(function(e,t){return t=typeof t<"u"?t:om.createFolders,e=lm(e),this.files[e]||sm.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},"folderAdd");function im(e){return Object.prototype.toString.call(e)==="[object RegExp]"}a(im,"isRegExp");var Ew={load:a(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"load"),forEach:a(function(e){var t,r,n;for(t in this.files)n=this.files[t],r=t.slice(this.root.length,t.length),r&&t.slice(0,this.root.length)===this.root&&e(r,n)},"forEach"),filter:a(function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},"filter"),file:a(function(e,t,r){if(arguments.length===1)if(im(e)){var n=e;return this.filter(function(l,f){return!f.dir&&n.test(l)})}else{var o=this.files[this.root+e];return o&&!o.dir?o:null}else e=this.root+e,sm.call(this,e,t,r);return this},"file"),folder:a(function(e){if(!e)return this;if(im(e))return this.filter(function(o,l){return l.dir&&e.test(o)});var t=this.root+e,r=um.call(this,t),n=this.clone();return n.root=r.name,n},"folder"),remove:a(function(e){e=this.root+e;var t=this.files[e];if(t||(e.slice(-1)!=="/"&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(o,l){return l.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},"remove"),generate:a(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"generate"),generateInternalStream:a(function(e){var t,r={};try{if(r=Oi.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:_w.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");Oi.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var n=r.comment||this.comment||"";t=Sw.generateWorker(this,r,n)}catch(o){t=new am("error"),t.error(o)}return new vw(t,r.type||"string",r.mimeType)},"generateInternalStream"),generateAsync:a(function(e,t){return this.generateInternalStream(e).accumulate(t)},"generateAsync"),generateNodeStream:a(function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)},"generateNodeStream")};fm.exports=Ew});var du=C((vE,hm)=>{"use strict";var xw=ee();function dm(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a(dm,"DataReader");dm.prototype={checkOffset:a(function(e){this.checkIndex(this.index+e)},"checkOffset"),checkIndex:a(function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},"checkIndex"),setIndex:a(function(e){this.checkIndex(e),this.index=e},"setIndex"),skip:a(function(e){this.setIndex(this.index+e)},"skip"),byteAt:a(function(){},"byteAt"),readInt:a(function(e){var t=0,r;for(this.checkOffset(e),r=this.index+e-1;r>=this.index;r--)t=(t<<8)+this.byteAt(r);return this.index+=e,t},"readInt"),readString:a(function(e){return xw.transformTo("string",this.readData(e))},"readString"),readData:a(function(){},"readData"),lastIndexOfSignature:a(function(){},"lastIndexOfSignature"),readAndCheckSignature:a(function(){},"readAndCheckSignature"),readDate:a(function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1))},"readDate")};hm.exports=dm});var hu=C((SE,mm)=>{"use strict";var pm=du(),Aw=ee();function An(e){pm.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=e[t]&255}a(An,"ArrayReader");Aw.inherits(An,pm);An.prototype.byteAt=function(e){return this.data[this.zero+e]};An.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),l=this.length-4;l>=0;--l)if(this.data[l]===t&&this.data[l+1]===r&&this.data[l+2]===n&&this.data[l+3]===o)return l-this.zero;return-1};An.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),l=this.readData(4);return t===l[0]&&r===l[1]&&n===l[2]&&o===l[3]};An.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};mm.exports=An});var ym=C((RE,bm)=>{"use strict";var gm=du(),kw=ee();function kn(e){gm.call(this,e)}a(kn,"StringReader");kw.inherits(kn,gm);kn.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)};kn.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero};kn.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t};kn.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};bm.exports=kn});var mu=C((xE,vm)=>{"use strict";var _m=hu(),Cw=ee();function pu(e){_m.call(this,e)}a(pu,"Uint8ArrayReader");Cw.inherits(pu,_m);pu.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};vm.exports=pu});var Tm=C((kE,Sm)=>{"use strict";var wm=mu(),Pw=ee();function gu(e){wm.call(this,e)}a(gu,"NodeBufferReader");Pw.inherits(gu,wm);gu.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};Sm.exports=gu});var bu=C((PE,Em)=>{"use strict";var co=ee(),Rm=kt(),Iw=hu(),Ow=ym(),Fw=Tm(),Bw=mu();Em.exports=function(e){var t=co.getTypeOf(e);return co.checkSupport(t),t==="string"&&!Rm.uint8array?new Ow(e):t==="nodebuffer"?new Fw(e):Rm.uint8array?new Bw(co.transformTo("uint8array",e)):new Iw(co.transformTo("array",e))}});var Cm=C((IE,km)=>{"use strict";var yu=bu(),tr=ee(),Dw=ja(),xm=Na(),ho=hn(),po=uu(),Lw=kt(),qw=0,Mw=3,zw=a(function(e){for(var t in po)if(Object.prototype.hasOwnProperty.call(po,t)&&po[t].magic===e)return po[t];return null},"findCompression");function Am(e,t){this.options=e,this.loadOptions=t}a(Am,"ZipEntry");Am.prototype={isEncrypted:a(function(){return(this.bitFlag&1)===1},"isEncrypted"),useUTF8:a(function(){return(this.bitFlag&2048)===2048},"useUTF8"),readLocalPart:a(function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=zw(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+tr.pretty(this.compressionMethod)+" unknown (inner file : "+tr.transformTo("string",this.fileName)+")");this.decompressed=new Dw(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},"readLocalPart"),readCentralPart:a(function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},"readCentralPart"),processAttributes:a(function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),e===qw&&(this.dosPermissions=this.externalFileAttributes&63),e===Mw&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},"processAttributes"),parseZIP64ExtraField:a(function(){if(this.extraFields[1]){var e=yu(this.extraFields[1].value);this.uncompressedSize===tr.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===tr.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===tr.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===tr.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},"parseZIP64ExtraField"),readExtraFields:a(function(e){var t=e.index+this.extraFieldsLength,r,n,o;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),n=e.readInt(2),o=e.readData(n),this.extraFields[r]={id:r,length:n,value:o};e.setIndex(t)},"readExtraFields"),handleUTF8:a(function(){var e=Lw.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ho.utf8decode(this.fileName),this.fileCommentStr=ho.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var r=tr.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(n!==null)this.fileCommentStr=n;else{var o=tr.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},"handleUTF8"),findExtraFieldUnicodePath:a(function(){var e=this.extraFields[28789];if(e){var t=yu(e.value);return t.readInt(1)!==1||xm(this.fileName)!==t.readInt(4)?null:ho.utf8decode(t.readData(e.length-5))}return null},"findExtraFieldUnicodePath"),findExtraFieldUnicodeComment:a(function(){var e=this.extraFields[25461];if(e){var t=yu(e.value);return t.readInt(1)!==1||xm(this.fileComment)!==t.readInt(4)?null:ho.utf8decode(t.readData(e.length-5))}return null},"findExtraFieldUnicodeComment")};km.exports=Am});var Om=C((FE,Im)=>{"use strict";var Uw=bu(),Bt=ee(),Qe=fu(),Ww=Cm(),Nw=kt();function Pm(e){this.files=[],this.loadOptions=e}a(Pm,"ZipEntries");Pm.prototype={checkSignature:a(function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Bt.pretty(t)+", expected "+Bt.pretty(e)+")")}},"checkSignature"),isSignature:a(function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4),o=n===t;return this.reader.setIndex(r),o},"isSignature"),readBlockEndOfCentral:a(function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=Nw.uint8array?"uint8array":"array",r=Bt.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},"readBlockEndOfCentral"),readBlockZip64EndOfCentral:a(function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e=this.zip64EndOfCentralSize-44,t=0,r,n,o;t<e;)r=this.reader.readInt(2),n=this.reader.readInt(4),o=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:o}},"readBlockZip64EndOfCentral"),readBlockZip64EndOfCentralLocator:a(function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},"readBlockZip64EndOfCentralLocator"),readLocalFiles:a(function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(Qe.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},"readLocalFiles"),readCentralDir:a(function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Qe.CENTRAL_FILE_HEADER);)e=new Ww({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},"readCentralDir"),readEndOfCentral:a(function(){var e=this.reader.lastIndexOfSignature(Qe.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,Qe.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var r=e;if(this.checkSignature(Qe.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===Bt.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Bt.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Bt.MAX_VALUE_16BITS||this.centralDirRecords===Bt.MAX_VALUE_16BITS||this.centralDirSize===Bt.MAX_VALUE_32BITS||this.centralDirOffset===Bt.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(Qe.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(Qe.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Qe.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Qe.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Qe.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var o=r-n;if(o>0)this.isSignature(r,Qe.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},"readEndOfCentral"),prepareReader:a(function(e){this.reader=Uw(e)},"prepareReader"),load:a(function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()},"load")};Im.exports=Pm});var Dm=C((DE,Bm)=>{"use strict";var _u=ee(),mo=fn(),jw=hn(),Hw=Om(),Zw=vl(),Fm=si();function $w(e){return new mo.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new Zw);n.on("error",function(o){r(o)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}a($w,"checkEntryCRC32");Bm.exports=function(e,t){var r=this;return t=_u.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:jw.utf8decode}),Fm.isNode&&Fm.isStream(e)?mo.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):_u.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(n){var o=new Hw(t);return o.load(n),o}).then(a(function(o){var l=[mo.Promise.resolve(o)],f=o.files;if(t.checkCRC32)for(var d=0;d<f.length;d++)l.push($w(f[d]));return mo.Promise.all(l)},"checkCRC32")).then(a(function(o){for(var l=o.shift(),f=l.files,d=0;d<f.length;d++){var m=f[d],c=m.fileNameStr,h=_u.resolve(m.fileNameStr);r.file(h,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:t.createFolders}),m.dir||(r.file(h).unsafeOriginalName=c)}return l.zipComment.length&&(r.comment=l.zipComment),r},"addFiles"))}});var go=C((qE,Lm)=>{"use strict";function ze(){if(!(this instanceof ze))return new ze;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new ze;for(var t in this)typeof this[t]!="function"&&(e[t]=this[t]);return e}}a(ze,"JSZip");ze.prototype=cm();ze.prototype.loadAsync=Dm();ze.support=kt();ze.defaults=bl();ze.version="3.10.1";ze.loadAsync=function(e,t){return new ze().loadAsync(e,t)};ze.external=fn();Lm.exports=ze});var Vw={};Wf(Vw,{TestRunMonitor:()=>_o});module.exports=Zb(Vw);var Vm=Oe(require("net")),Cn=require("fs");var wc=Oe(require("http"),1),Sc=Oe(require("https"),1),mr=Oe(require("zlib"),1),Ee=Oe(require("stream"),1),Qn=require("buffer");function $b(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",o=!1,l=r[0]||"text/plain",f=l;for(let h=1;h<r.length;h++)r[h]==="base64"?o=!0:r[h]&&(f+=`;${r[h]}`,r[h].indexOf("charset=")===0&&(n=r[h].substring(8)));!r[0]&&!n.length&&(f+=";charset=US-ASCII",n="US-ASCII");let d=o?"base64":"ascii",m=unescape(e.substring(t+1)),c=Buffer.from(m,d);return c.type=l,c.typeFull=f,c.charset=n,c}a($b,"dataUriToBuffer");var Hf=$b;var Be=Oe(require("stream"),1),Tt=require("util"),Te=require("buffer");Hn();fa();var _s=class _s extends Error{constructor(t,r){super(t),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};a(_s,"FetchBaseError");var St=_s;var vs=class vs extends St{constructor(t,r,n){super(t,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};a(vs,"FetchError");var ye=vs;var ca=Symbol.toStringTag,ws=a(e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[ca]==="URLSearchParams","isURLSearchParameters"),Yn=a(e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[ca]),"isBlob"),Jf=a(e=>typeof e=="object"&&(e[ca]==="AbortSignal"||e[ca]==="EventTarget"),"isAbortSignal"),ec=a((e,t)=>{let r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},"isDomainOrSubdomain"),tc=a((e,t)=>{let r=new URL(t).protocol,n=new URL(e).protocol;return r===n},"isSameProtocol");var sy=(0,Tt.promisify)(Be.default.pipeline),_e=Symbol("Body internals"),xs=class xs{constructor(t,{size:r=0}={}){let n=null;t===null?t=null:ws(t)?t=Te.Buffer.from(t.toString()):Yn(t)||Te.Buffer.isBuffer(t)||(Tt.types.isAnyArrayBuffer(t)?t=Te.Buffer.from(t):ArrayBuffer.isView(t)?t=Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof Be.default||(t instanceof cr?(t=Qf(t),n=t.type.split("=")[1]):t=Te.Buffer.from(String(t))));let o=t;Te.Buffer.isBuffer(t)?o=Be.default.Readable.from(t):Yn(t)&&(o=Be.default.Readable.from(t.stream())),this[_e]={body:t,stream:o,boundary:n,disturbed:!1,error:null},this.size=r,t instanceof Be.default&&t.on("error",l=>{let f=l instanceof St?l:new ye(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[_e].error=f})}get body(){return this[_e].stream}get bodyUsed(){return this[_e].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:r,byteLength:n}=await Es(this);return t.slice(r,r+n)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let n=new cr,o=new URLSearchParams(await this.text());for(let[l,f]of o)n.append(l,f);return n}let{toFormData:r}=await Promise.resolve().then(()=>(oc(),ac));return r(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[_e].body&&this[_e].body.type||"",r=await this.arrayBuffer();return new wt([r],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await Es(this);return new TextDecoder().decode(t)}buffer(){return Es(this)}};a(xs,"Body");var ot=xs;ot.prototype.buffer=(0,Tt.deprecate)(ot.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ot.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Tt.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Es(e){if(e[_e].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[_e].disturbed=!0,e[_e].error)throw e[_e].error;let{body:t}=e;if(t===null)return Te.Buffer.alloc(0);if(!(t instanceof Be.default))return Te.Buffer.alloc(0);let r=[],n=0;try{for await(let o of t){if(e.size>0&&n+o.length>e.size){let l=new ye(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(l),l}n+=o.length,r.push(o)}}catch(o){throw o instanceof St?o:new ye(`Invalid response body while trying to fetch ${e.url}: ${o.message}`,"system",o)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return r.every(o=>typeof o=="string")?Te.Buffer.from(r.join("")):Te.Buffer.concat(r,n)}catch(o){throw new ye(`Could not create Buffer from response body for ${e.url}: ${o.message}`,"system",o)}else throw new ye(`Premature close of server response while trying to fetch ${e.url}`)}a(Es,"consumeBody");var Qr=a((e,t)=>{let r,n,{body:o}=e[_e];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof Be.default&&typeof o.getBoundary!="function"&&(r=new Be.PassThrough({highWaterMark:t}),n=new Be.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[_e].stream=r,o=n),o},"clone"),ly=(0,Tt.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),ma=a((e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":ws(e)?"application/x-www-form-urlencoded;charset=UTF-8":Yn(e)?e.type||null:Te.Buffer.isBuffer(e)||Tt.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof cr?`multipart/form-data; boundary=${t[_e].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${ly(e)}`:e instanceof Be.default?null:"text/plain;charset=UTF-8","extractContentType"),sc=a(e=>{let{body:t}=e[_e];return t===null?0:Yn(t)?t.size:Te.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},"getTotalBytes"),lc=a(async(e,{body:t})=>{t===null?e.end():await sy(t,e)},"writeToStream");var As=require("util"),Kn=Oe(require("http"),1);var ga=typeof Kn.default.validateHeaderName=="function"?Kn.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},ks=typeof Kn.default.validateHeaderValue=="function"?Kn.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let r=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},ba=class ba extends URLSearchParams{constructor(t){let r=[];if(t instanceof ba){let n=t.raw();for(let[o,l]of Object.entries(n))r.push(...l.map(f=>[o,f]))}else if(t!=null)if(typeof t=="object"&&!As.types.isBoxedPrimitive(t)){let n=t[Symbol.iterator];if(n==null)r.push(...Object.entries(t));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...t].map(o=>{if(typeof o!="object"||As.types.isBoxedPrimitive(o))throw new TypeError("Each header pair must be an iterable object");return[...o]}).map(o=>{if(o.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...o]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,o])=>(ga(n),ks(n,String(o)),[String(n).toLowerCase(),String(o)])):void 0,super(r),new Proxy(this,{get(n,o,l){switch(o){case"append":case"set":return(f,d)=>(ga(f),ks(f,String(d)),URLSearchParams.prototype[o].call(n,String(f).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return f=>(ga(f),URLSearchParams.prototype[o].call(n,String(f).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,o,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let r=this.getAll(t);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(t)&&(n=n.toLowerCase()),n}forEach(t,r=void 0){for(let n of this.keys())Reflect.apply(t,r,[this.get(n),n,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,r)=>(t[r]=this.getAll(r),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,r)=>{let n=this.getAll(r);return r==="host"?t[r]=n[0]:t[r]=n.length>1?n:n[0],t},{})}};a(ba,"Headers");var Re=ba;Object.defineProperties(Re.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function uc(e=[]){return new Re(e.reduce((t,r,n,o)=>(n%2===0&&t.push(o.slice(n,n+2)),t),[]).filter(([t,r])=>{try{return ga(t),ks(t,String(r)),!0}catch{return!1}}))}a(uc,"fromRawHeaders");var uy=new Set([301,302,303,307,308]),ya=a(e=>uy.has(e),"isRedirect");var Ve=Symbol("Response internals"),hr=class hr extends ot{constructor(t=null,r={}){super(t,r);let n=r.status!=null?r.status:200,o=new Re(r.headers);if(t!==null&&!o.has("Content-Type")){let l=ma(t,this);l&&o.append("Content-Type",l)}this[Ve]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:o,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Ve].type}get url(){return this[Ve].url||""}get status(){return this[Ve].status}get ok(){return this[Ve].status>=200&&this[Ve].status<300}get redirected(){return this[Ve].counter>0}get statusText(){return this[Ve].statusText}get headers(){return this[Ve].headers}get highWaterMark(){return this[Ve].highWaterMark}clone(){return new hr(Qr(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,r=302){if(!ya(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new hr(null,{headers:{location:new URL(t).toString()},status:r})}static error(){let t=new hr(null,{status:0,statusText:""});return t[Ve].type="error",t}static json(t=void 0,r={}){let n=JSON.stringify(t);if(n===void 0)throw new TypeError("data is not JSON serializable");let o=new Re(r&&r.headers);return o.has("content-type")||o.set("content-type","application/json"),new hr(n,{...r,headers:o})}get[Symbol.toStringTag](){return"Response"}};a(hr,"Response");var De=hr;Object.defineProperties(De.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var yc=require("url"),_c=require("util");var fc=a(e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""},"getSearch");var dc=require("net");function cc(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}a(cc,"stripURLForUseAsAReferrer");var hc=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),pc="strict-origin-when-cross-origin";function mc(e){if(!hc.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}a(mc,"validateReferrerPolicy");function fy(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,dc.isIP)(t);return r===4&&/^127\./.test(t)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:e.host==="localhost"||e.host.endsWith(".localhost")?!1:e.protocol==="file:"}a(fy,"isOriginPotentiallyTrustworthy");function Jr(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:fy(e)}a(Jr,"isUrlPotentiallyTrustworthy");function gc(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let n=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let o=e.referrer,l=cc(o),f=cc(o,!0);l.toString().length>4096&&(l=f),t&&(l=t(l)),r&&(f=r(f));let d=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return l;case"strict-origin":return Jr(l)&&!Jr(d)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return l.origin===d.origin?l:Jr(l)&&!Jr(d)?"no-referrer":f;case"same-origin":return l.origin===d.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===d.origin?l:f;case"no-referrer-when-downgrade":return Jr(l)&&!Jr(d)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}a(gc,"determineRequestsReferrer");function bc(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of t)n&&hc.has(n)&&(r=n);return r}a(bc,"parseReferrerPolicyFromHeader");var se=Symbol("Request internals"),Xn=a(e=>typeof e=="object"&&typeof e[se]=="object","isRequest"),cy=(0,_c.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),_a=class _a extends ot{constructor(t,r={}){let n;if(Xn(t)?n=new URL(t.url):(n=new URL(t),t={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let o=r.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(o)&&(o=o.toUpperCase()),!Xn(r)&&"data"in r&&cy(),(r.body!=null||Xn(t)&&t.body!==null)&&(o==="GET"||o==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body?r.body:Xn(t)&&t.body!==null?Qr(t):null;super(l,{size:r.size||t.size||0});let f=new Re(r.headers||t.headers||{});if(l!==null&&!f.has("Content-Type")){let c=ma(l,this);c&&f.set("Content-Type",c)}let d=Xn(t)?t.signal:null;if("signal"in r&&(d=r.signal),d!=null&&!Jf(d))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=r.referrer==null?t.referrer:r.referrer;if(m==="")m="no-referrer";else if(m){let c=new URL(m);m=/^about:(\/\/)?client$/.test(c)?"client":c}else m=void 0;this[se]={method:o,redirect:r.redirect||t.redirect||"follow",headers:f,parsedURL:n,signal:d,referrer:m},this.follow=r.follow===void 0?t.follow===void 0?20:t.follow:r.follow,this.compress=r.compress===void 0?t.compress===void 0?!0:t.compress:r.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent,this.highWaterMark=r.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||t.referrerPolicy||""}get method(){return this[se].method}get url(){return(0,yc.format)(this[se].parsedURL)}get headers(){return this[se].headers}get redirect(){return this[se].redirect}get signal(){return this[se].signal}get referrer(){if(this[se].referrer==="no-referrer")return"";if(this[se].referrer==="client")return"about:client";if(this[se].referrer)return this[se].referrer.toString()}get referrerPolicy(){return this[se].referrerPolicy}set referrerPolicy(t){this[se].referrerPolicy=mc(t)}clone(){return new _a(this)}get[Symbol.toStringTag](){return"Request"}};a(_a,"Request");var pr=_a;Object.defineProperties(pr.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var vc=a(e=>{let{parsedURL:t}=e[se],r=new Re(e[se].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(n="0"),e.body!==null){let d=sc(e);typeof d=="number"&&!Number.isNaN(d)&&(n=String(d))}n&&r.set("Content-Length",n),e.referrerPolicy===""&&(e.referrerPolicy=pc),e.referrer&&e.referrer!=="no-referrer"?e[se].referrer=gc(e):e[se].referrer="no-referrer",e[se].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;typeof o=="function"&&(o=o(t));let l=fc(t),f={path:t.pathname+l,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o};return{parsedURL:t,options:f}},"getNodeRequestOptions");var Cs=class Cs extends St{constructor(t,r="aborted"){super(t,r)}};a(Cs,"AbortError");var va=Cs;fa();Ss();var dy=new Set(["data:","http:","https:"]);async function wa(e,t){return new Promise((r,n)=>{let o=new pr(e,t),{parsedURL:l,options:f}=vc(o);if(!dy.has(l.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let v=Hf(o.url),k=new De(v,{headers:{"Content-Type":v.typeFull}});r(k);return}let d=(l.protocol==="https:"?Sc.default:wc.default).request,{signal:m}=o,c=null,h=a(()=>{let v=new va("The operation was aborted.");n(v),o.body&&o.body instanceof Ee.default.Readable&&o.body.destroy(v),!(!c||!c.body)&&c.body.emit("error",v)},"abort");if(m&&m.aborted){h();return}let E=a(()=>{h(),w()},"abortAndFinalize"),y=d(l.toString(),f);m&&m.addEventListener("abort",E);let w=a(()=>{y.abort(),m&&m.removeEventListener("abort",E)},"finalize");y.on("error",v=>{n(new ye(`request to ${o.url} failed, reason: ${v.message}`,"system",v)),w()}),hy(y,v=>{c&&c.body&&c.body.destroy(v)}),process.version<"v14"&&y.on("socket",v=>{let k;v.prependListener("end",()=>{k=v._eventsCount}),v.prependListener("close",A=>{if(c&&k<v._eventsCount&&!A){let S=new Error("Premature close");S.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",S)}})}),y.on("response",v=>{y.setTimeout(0);let k=uc(v.rawHeaders);if(ya(v.statusCode)){let T=k.get("Location"),R=null;try{R=T===null?null:new URL(T,o.url)}catch{if(o.redirect!=="manual"){n(new ye(`uri requested responds with an invalid redirect URL: ${T}`,"invalid-redirect")),w();return}}switch(o.redirect){case"error":n(new ye(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),w();return;case"manual":break;case"follow":{if(R===null)break;if(o.counter>=o.follow){n(new ye(`maximum redirect reached at: ${o.url}`,"max-redirect")),w();return}let O={headers:new Re(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:Qr(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!ec(o.url,R)||!tc(o.url,R))for(let D of["authorization","www-authenticate","cookie","cookie2"])O.headers.delete(D);if(v.statusCode!==303&&o.body&&t.body instanceof Ee.default.Readable){n(new ye("Cannot follow redirect with body being a readable stream","unsupported-redirect")),w();return}(v.statusCode===303||(v.statusCode===301||v.statusCode===302)&&o.method==="POST")&&(O.method="GET",O.body=void 0,O.headers.delete("content-length"));let q=bc(k);q&&(O.referrerPolicy=q),r(wa(new pr(R,O))),w();return}default:return n(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}m&&v.once("end",()=>{m.removeEventListener("abort",E)});let A=(0,Ee.pipeline)(v,new Ee.PassThrough,T=>{T&&n(T)});process.version<"v12.10"&&v.on("aborted",E);let S={url:o.url,status:v.statusCode,statusText:v.statusMessage,headers:k,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},x=k.get("Content-Encoding");if(!o.compress||o.method==="HEAD"||x===null||v.statusCode===204||v.statusCode===304){c=new De(A,S),r(c);return}let P={flush:mr.default.Z_SYNC_FLUSH,finishFlush:mr.default.Z_SYNC_FLUSH};if(x==="gzip"||x==="x-gzip"){A=(0,Ee.pipeline)(A,mr.default.createGunzip(P),T=>{T&&n(T)}),c=new De(A,S),r(c);return}if(x==="deflate"||x==="x-deflate"){let T=(0,Ee.pipeline)(v,new Ee.PassThrough,R=>{R&&n(R)});T.once("data",R=>{(R[0]&15)===8?A=(0,Ee.pipeline)(A,mr.default.createInflate(),O=>{O&&n(O)}):A=(0,Ee.pipeline)(A,mr.default.createInflateRaw(),O=>{O&&n(O)}),c=new De(A,S),r(c)}),T.once("end",()=>{c||(c=new De(A,S),r(c))});return}if(x==="br"){A=(0,Ee.pipeline)(A,mr.default.createBrotliDecompress(),T=>{T&&n(T)}),c=new De(A,S),r(c);return}c=new De(A,S),r(c)}),lc(y,o).catch(n)})}a(wa,"fetch");function hy(e,t){let r=Qn.Buffer.from(`0\r
\r
`),n=!1,o=!1,l;e.on("response",f=>{let{headers:d}=f;n=d["transfer-encoding"]==="chunked"&&!d["content-length"]}),e.on("socket",f=>{let d=a(()=>{if(n&&!o){let c=new Error("Premature close");c.code="ERR_STREAM_PREMATURE_CLOSE",t(c)}},"onSocketClose"),m=a(c=>{o=Qn.Buffer.compare(c.slice(-5),r)===0,!o&&l&&(o=Qn.Buffer.compare(l.slice(-3),r.slice(0,3))===0&&Qn.Buffer.compare(c.slice(-2),r.slice(3))===0),l=c},"onData");f.prependListener("close",d),f.on("data",m),e.on("close",()=>{f.removeListener("close",d),f.removeListener("data",m)})})}a(hy,"fixResponseChunkedTransferBadEnding");var Bi=require("path");var qm=require("fs"),Mm=require("jsdom"),zm=require("fs/promises"),Um=Oe(go());var vu=class vu{constructor(t,r,n,o={}){this.reportHTMLFilePath=t;this.testRunUUID=r;this.pwTestIdToChecksumTestId=n;this.supportVideo=!1;this.config={hosted:!0,assetsBaseURL:"https://api.checksum.ai/api/test-runs"};this.config={...this.config,...o}}async process(){this.config.hosted&&(await this.initializeDOM(),this.makeLightModeOnly(),await this.editZipFile(),await this.writeFile())}async initializeDOM(){return this.dom=await Mm.JSDOM.fromFile(this.reportHTMLFilePath,{resources:"usable",runScripts:"dangerously"}),new Promise(t=>this.dom.window.addEventListener("load",t))}async writeFile(){let t=this.dom.serialize();t=t.replace(/window.playwrightReportBase64 = ".*";/,`window.playwrightReportBase64 = "${this.newBase64Zip}";`),await(0,zm.cp)(this.reportHTMLFilePath,this.reportHTMLFilePath.replace(".html",".backup.html")),(0,qm.writeFileSync)(this.reportHTMLFilePath,t)}makeLightModeOnly(){try{this.dom.window.document.querySelector('meta[name="color-scheme"]').setAttribute("content","light");let r=this.dom.window.document.querySelector("head style"),n=r.innerHTML,o=/@media\s*\(prefers-color-scheme:\s*dark\)\s*{[^}]*}/g,l=n.replace(o,"");r.innerHTML=l}catch{}}async editZipFile(){let t=this.dom.window.playwrightReportBase64.replace("data:application/zip;base64,",""),r=await(0,Um.loadAsync)(t,{base64:!0});for(let o of Object.keys(r.files)){let l=r.file(o);if(l){let f=await l.async("string"),d=JSON.parse(f);o.startsWith("report")?this.handleReportJSON(d):this.handleFileReportJSON(d),r.file(o,JSON.stringify(d))}}let n=await r.generateAsync({type:"base64",compression:"DEFLATE"});this.newBase64Zip=`data:application/zip;base64,${n}`}getCloudPath(t){return`${this.config.assetsBaseURL}/${this.testRunUUID}/${this.pwTestIdToChecksumTestId[t]}`}handleReportJSON(t){t.files.forEach(r=>r.tests.forEach(n=>{n.results.forEach(o=>{this.processAttachments(o.attachments,n.testId)})}))}handleFileReportJSON(t){var r;(r=t.tests)==null||r.forEach(n=>{var o;(o=n.results)==null||o.forEach(l=>{this.processAttachments(l.attachments,n.testId)})})}processAttachments(t,r){if(t.forEach(n=>this.updateAttachment(n,r)),!this.supportVideo){let n=t.findIndex(o=>o.name==="video");n!==-1&&t.splice(n,1)}}updateAttachment(t,r){["trace","video"].includes(t.name)&&(t.path=`${this.getCloudPath(r)}/${t.name}`)}};a(vu,"PlaywrightReportProcessor");var bo=vu;var Ym=require("http");var V=require("fs"),Su=Oe(go()),Tu=require("stream/promises"),Wm=require("crypto"),Pr=require("path");var wu,Ru=class Ru{constructor(t,r,n,o,l=!1){this.mode=t;this.traceDir=r;this.outputZipFilePath=n;this.frontendLogPrefix=o;this.deleteOriginalFiles=l;this.wallTimesToBeRemoved={};this.callIdsRemovals={};this.consoleLogGUIDs=[];this.numberOfLinesPerFile={};this.unarchiveFolder=(0,Wm.randomUUID)();this.resourcesFolder=(0,Pr.join)(this.unarchiveFolder,"resources");this.runningIndexes={trace:0,network:0,stacks:0};this.generationAllowedAPIName=["page.goto","page.waitForNavigation","page.waitForTimeout","locator.fill","locator.click","locator.hover","locator.check","locator.uncheck","locator.dblclick","locator.dragTo"];let{createInterface:f}=require("readline/promises");wu=f}async process(){if(this.mode!=="runtime")try{if(!(0,V.existsSync)(this.traceDir))return;let r=(0,V.readdirSync)(this.traceDir).filter(n=>n.endsWith(".zip")).sort((n,o)=>{let l=a(m=>{try{let c=m.split(".");return parseInt(c[c.length-2])}catch{return 0}},"getIndex"),f=l(n),d=l(o);return f-d});if(!r.length)return;(0,V.mkdirSync)(this.unarchiveFolder),(0,V.mkdirSync)(this.resourcesFolder);for(let n of r)await this.processOne((0,Pr.join)(this.traceDir,n));if(await this.reZip(),(0,V.rmdirSync)(this.unarchiveFolder,{recursive:!0}),this.deleteOriginalFiles)for(let n of r)(0,V.rmSync)((0,Pr.join)(this.traceDir,n))}catch(t){console.log("There was an error processing the trace files",t)}}async processOne(t){let n=(await this.unzipAndWriteFiles(t)).trace.map(l=>(0,Pr.join)(this.unarchiveFolder,l));for(let l of n)await this.preprocessFile(l);let o=[...n];for(;o.length>0;)for(let l of o)await this.processFile(l,o)}async unzipAndWriteFiles(t){let r=(0,V.readFileSync)(t),n=await(0,Su.loadAsync)(r),o={trace:[],network:[],stacks:[]},l=a(f=>{let d=a((m,c)=>(o[c].push(m),m),"addToUnarchivedFiles");return f.endsWith(".trace")?d(`trace${this.runningIndexes.trace++}.trace`,"trace"):f.endsWith(".network")?d(`trace${this.runningIndexes.network++}.network`,"network"):f.endsWith(".stacks")?d(`trace${this.runningIndexes.stacks++}.stacks`,"stacks"):null},"getNewFileName");for(let f of Object.keys(n.files)){let d=l(f);if(!d)continue;let m=n.file(f).nodeStream(),c=(0,V.createWriteStream)(`${this.unarchiveFolder}/${d}`);await(0,Tu.pipeline)(m,c)}for(let f of Object.keys(n.files)){if(!f.startsWith("resources/"))continue;let d=f.replace("resources/",""),m=`${this.resourcesFolder}/${d}`;if((0,V.existsSync)(m))continue;let c=n.file(f).nodeStream(),h=(0,V.createWriteStream)(m);await(0,Tu.pipeline)(c,h)}return o}async reZip(){let t=await(0,Su.loadAsync)("UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA==",{base64:!0});for(let o of(0,V.readdirSync)(this.unarchiveFolder))if(o.endsWith(".network")||this.shouldIncludeStacksFiles()&&o.endsWith(".stacks")||o.endsWith(".trace")){let l=(0,V.readFileSync)((0,Pr.join)(this.unarchiveFolder,o));t.file(o,l)}let r=t.folder("resources");for(let o of(0,V.readdirSync)(this.resourcesFolder)){let l=(0,V.readFileSync)((0,Pr.join)(this.resourcesFolder,o));r.file(o,l)}let n=await t.generateAsync({type:"nodebuffer",compression:"DEFLATE"});(0,V.existsSync)(this.outputZipFilePath)&&(0,V.rmSync)(this.outputZipFilePath),(0,V.writeFileSync)(this.outputZipFilePath,n)}async preprocessFile(t){this.callIdsRemovals[t]={callIdsToBeRemoved:{},arrayOfCallIdsToBeRemoved:new Set};let r=(0,V.createReadStream)(t),n=wu({input:r,crlfDelay:1/0}),o=0;for await(let l of n){o++;let f=JSON.parse(l);this.shouldLineBeRemoved(f)&&(f.wallTime&&(this.wallTimesToBeRemoved[f.wallTime]=!0),f.callId&&(this.callIdsRemovals[t].callIdsToBeRemoved[f.callId]=!0,this.callIdsRemovals[t].arrayOfCallIdsToBeRemoved.add(f.callId)))}this.numberOfLinesPerFile[t]=o}async processFile(t,r){var d,m;let n=[],o=(0,V.createReadStream)(t),l=wu({input:o,crlfDelay:1/0}),f=t;for await(let c of l){let h=JSON.parse(c),E=!1;if(this.frontendLogPrefix){if(this.isChecksumConsoleLog(h)){this.consoleLogGUIDs.push(h.guid);continue}if(this.isConsoleLogMetadata(h)&&this.consoleLogGUIDs.includes((m=(d=h.params)==null?void 0:d.message)==null?void 0:m.guid))continue}if(this.lineCanBeRemoved(h)&&(this.wallTimesToBeRemoved[h.wallTime]||this.callIdsRemovals[f].callIdsToBeRemoved[h.callId]||Array.from(this.callIdsRemovals[f].arrayOfCallIdsToBeRemoved).some(y=>c.includes(`"${y}"`)))&&(E=!0),E){h.callId&&(this.callIdsRemovals[f].callIdsToBeRemoved[h.callId]=!0,this.callIdsRemovals[f].arrayOfCallIdsToBeRemoved.add(h.callId));continue}n.push(c)}if(n.length===this.numberOfLinesPerFile[f]){let c=r.indexOf(f);c>-1&&r.splice(c,1)}else this.numberOfLinesPerFile[f]=n.length,(0,V.writeFileSync)(t,n.join(`
`))}isChecksumConsoleLog(t){var r,n;return t.class==="ConsoleMessage"&&((n=(r=t.initializer)==null?void 0:r.text)==null?void 0:n.startsWith(this.frontendLogPrefix))}isConsoleLogMetadata(t){return t.class==="BrowserContext"&&t.method==="console"}lineCanBeRemoved(t){return!["frame-snapshot"].includes(t.type)}shouldLineBeRemoved(t){switch(this.mode){case"runtime":return this.shouldLineBeRemoved_runtime(t);case"generation":return this.shouldLineBeRemoved_generation(t)}return!1}shouldLineBeRemoved_runtime(t){var r;return(r=t.stack)==null?void 0:r.find(n=>!n.file.endsWith("spec.ts")&&!["executePlaywrightMethodWithTimeout"].includes(n.function))}shouldIncludeStacksFiles(){return this.mode==="runtime"}shouldLineBeRemoved_generation(t){return!!t.apiName&&!this.generationAllowedAPIName.includes(t.apiName)}};a(Ru,"PlaywrightTraceProcessor");var yo=Ru;var Nm=Oe(go()),Ir=require("path"),rr=require("fs");async function jm(e,t){let r=await(0,rr.readdirSync)(t);await Promise.all(r.map(async n=>{let o=(0,Ir.join)(t,n);if((await(0,rr.statSync)(o)).isDirectory()){let f=e.folder(n);await jm(f,o)}else{let f=await(0,rr.readFileSync)(o);e.file(n,f)}}))}a(jm,"addFolderToZip");async function Hm(e){let t=await(0,Nm.loadAsync)("UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA==",{base64:!0});try{await jm(t,e);let r=await t.generateAsync({type:"nodebuffer",compression:"DEFLATE"}),n=(0,Ir.join)((0,Ir.dirname)(e),`${(0,Ir.basename)(e)}.zip`);return(0,rr.writeFileSync)(n,r),n}catch(r){return console.error("Error creating zip:",r),null}}a(Hm,"zipFolder");var Gm=require("request");var Fi=a(e=>new Promise(t=>setTimeout(t,e)),"awaitSleep"),Zm=a(async(e,t=1e3,r="guardReturnTimedOut")=>{let n="guard-timed-out",o=a(async()=>(await Fi(t+1e3),n),"guard"),l=await Promise.race([e,o()]);if(typeof l=="string"&&l===n)throw new Error(r);return l},"guardReturn");var Eu=class Eu{constructor(t,r=!1){this.config=t;this.isolationMode=r;this.MAX_UPLOADS=5;this.MONITOR_INTERVAL=2500;this.UPLOAD_TIMEOUT=10*60*1e3;this.WATCH_TIMEOUT=2*60*1e3;this.assets=[];this.watchAssets=[];this.stats={passed:0,failed:0,healed:0};this.reportComplete=!1;this.processingInProgress=!1;this.pwTestIdToChecksumTestId={};this.outstandingUploads=[];setInterval(this.monitorUploads.bind(this),this.MONITOR_INTERVAL),this.listenForMessages(),this.startServer()}listenForMessages(){process.stdin.on("data",async t=>{let r=t.toString().trim();if(!r.startsWith("cli:"))return;let[n,o]=r.substring(4).split("=");switch(n){case"report":this.testRunEndTime=Date.now(),await this.handleReport(o),this.monitorUploadsCompletion();break;case"shutdown":this.shutdown();break}})}sendMessage(t){setTimeout(()=>{console.log(`monitor:${t}`)},100)}async handleReport(t){console.log(`Handling report ${this.isolationMode?"(isolation mode)":""}`,t);try{this.reportAsset=this.initAsset({type:"report",path:t}),await new bo(t,this.config.sessionId,this.pwTestIdToChecksumTestId,{hosted:!this.isolationMode}).process(),this.isolationMode?this.reportAsset.complete=!0:this.uploadAsset(this.reportAsset)}catch(r){console.log("Error processing report",r),this.reportAsset.error=!0}}shutdown(){console.log("Received shutdown message from CLI"),this.server.close(),process.exit(0)}async monitorUploadsCompletion(){var t;if(!this.reportComplete&&this.reportAsset&&(this.reportAsset.complete||this.reportAsset.error)){this.reportComplete=!0;let r="{}";try{r=JSON.stringify(this.stats)}catch(n){console.log("Error stringifying stats",n)}this.sendMessage(`report-complete=${(t=this.reportAsset)!=null&&t.complete?"true":"false"}:${r}`)}if(!this.processingInProgress&&this.reportComplete&&this.assets.filter(r=>r.complete||r.error).length===this.assets.length&&(this.watchAssets.length===0||this.testRunEndTime&&Date.now()-this.testRunEndTime>this.WATCH_TIMEOUT)){this.sendMessage(this.assets.find(r=>r.error)?"complete-with-errors":"complete");return}await Fi(1e3),this.monitorUploadsCompletion()}async startServer(){let t=await this.acquirePortNumber();this.sendMessage(`port=${t}`),this.server=(0,Ym.createServer)((r,n)=>{let o=a(f=>{n.writeHead(400,{"Content-Type":"text/plain"}),n.end(f)},"returnErrorWithMessage");if(r.method!=="POST"){n.writeHead(404,{"Content-Type":"text/plain"}),n.end("Method not allowed");return}let l="";r.on("data",f=>{l+=f.toString()}),r.on("end",()=>{let f;try{f=JSON.parse(l)}catch{return o("Invalid body")}let{type:d,payload:m,watch:c}=f;switch(console.log("Server received message",d,m),d){case"asset":if(!m.path||!m.type)return o("Missing arguments");c?this.watchAsset(m):this.processAsset(m);break;case"testInfo":if(!m.pwTestId||!m.checksumTestId)return o("Missing arguments");this.pwTestIdToChecksumTestId[m.pwTestId]=m.checksumTestId;break;case"testStats":this.stats[m.passed?"passed":"failed"]++,m.healed&&this.stats.healed++;break;default:return o("Invalid message type")}n.writeHead(200,{"Content-Type":"text/plain"}),n.end("OK")})}),this.server.listen(t)}monitorUploads(){let{totalSize:t,totalUploaded:r}=this.calculateUploadProgress();if(t>0){let l=(r/t*100).toFixed(2);this.sendMessage(`upload-progress=${l}`)}let n=a(()=>this.assets.filter(l=>l.response&&!l.complete&&!l.error),"getActiveUploads"),o=this.assets.filter(l=>!l.response);if(o.length!==0&&!(n().length>=this.MAX_UPLOADS))for(;o.length>0&&n().length<this.MAX_UPLOADS;){let l=o.pop();this.uploadAsset(l)}}calculateUploadProgress(){let{totalSize:t,totalUploaded:r}=this.outstandingUploads.reduce((n,{size:o,request:l})=>(n.totalSize+=o,n.totalUploaded+=l.req.connection._bytesDispatched,n),{totalSize:0,totalUploaded:0});return{totalSize:t,totalUploaded:Math.min(t,r)}}getUploadLogMessage(t){switch(t.info.type){case"report":return"Uploading report";case"har":return`Uploading har file for test ${t.info.testId}`;case"trace":return`Uploading trace file for test ${t.info.testId}`;case"esra":return`Uploading metadata file for test ${t.info.testId}`;case"test-files":return`Uploading auto-healed test code for file ${t.info.path}`}}async uploadAsset(t){try{if(this.isolationMode){t.response=new Promise(m=>{setTimeout(()=>{t.complete=!0,m({statusCode:200,ok:!0,body:"OK"})},10)});return}let{path:r}=t.info;console.log("Uploading file",r);let n=this.getUploadLogMessage(t);if(n&&this.sendMessage(`log=${n}`),await this.getSignedURLForUpload(t),!t.uploadURL){console.log("Error getting signed URL for asset",r),t.error=!0;return}let l=(0,Cn.statSync)(r).size,f=(0,Cn.createReadStream)(r),d=Zm(new Promise((m,c)=>{let h=(0,Gm.put)(t.uploadURL,{body:f},(E,y)=>{E&&c(E),m(y)});this.outstandingUploads.push({request:h,size:l})}),this.UPLOAD_TIMEOUT);d.then(m=>{if(m.statusCode!==200)throw new Error("Upload failed");console.log("File uploaded successfully",r),t.complete=!0}).catch(m=>{console.log("Error uploading asset",r,m),t.error=!0}),t.response=d}catch{t.error=!0}}async getSignedURLForUpload(t){try{let{apiKey:r,sessionId:n,checksumApiURL:o}=this.config,l=t.info,f=await wa(`${o}/client-api/test-runs/${n}/get-upload-url`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",ChecksumAppCode:r},body:JSON.stringify(l)}),{url:d}=await f.json();t.uploadURL=d}catch(r){return console.log("Error getting signed URL for artifact",r),null}}watchAsset(t){console.log("Watching file",t.path),this.watchAssets.push({...t,addedAt:Date.now()});let r=(0,Bi.dirname)(t.path),n=(0,Bi.basename)(t.path),o=(0,Cn.watch)(r,(l,f)=>{f===n&&(console.log("Watched file changed",t.path),this.processAsset(t),o.close(),this.watchAssets=this.watchAssets.filter(d=>d.path!==t.path))})}processAsset(t){switch(t.type){case"trace":return this.processTrace(t.path,t.testId);case"har":return this.processHar(t.path,t.testId);case"esra":case"test-files":return this.addAsset(t)}}async processHar(t,r){await Fi(1e3);let n=await Hm(t);if(console.log("Processed har, sending for upload"),n)return this.addAsset({type:"har",path:n,testId:r})}async processTrace(t,r){try{this.processingInProgress=!0,await Fi(1e3);let n=t.replace(".zip",".processed.zip");await new yo("runtime",(0,Bi.dirname)(t),n,"$checksum").process(),console.log("Processed trace files, adding assets"),this.addAsset({type:"trace",path:n,testId:r}),this.addAsset({type:"trace-backup-file",path:t,testId:r})}catch(n){console.log("Error processing trace file",n)}finally{this.processingInProgress=!1}}addAsset(t){console.log("Adding file",t.path);let r=this.initAsset(t);return this.assets.push(r),r}initAsset(t){return{complete:!1,error:!1,response:void 0,info:t}}async acquirePortNumber(){return await new Promise((t,r)=>{let n=Vm.createServer();n.unref(),n.on("error",r),n.listen(0,()=>{let o=n.address().port;n.close(()=>{t(o)})})})}};a(Eu,"TestRunMonitor");var _o=Eu,Km;try{Km=JSON.parse(process.argv[2])}catch(e){console.log("Error starting test run monitor",e),process.exit(1)}var $m;new _o(Km,(($m=process.argv)==null?void 0:$m[3])==="isolated");0&&(module.exports={TestRunMonitor});
/*! Bundled license information:

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
*/
